commit 3214cd75acd0474373951870e1ba2ec11833a3da
Author: Wangda Tan <wangda@apache.org>
Date:   Wed Aug 8 13:05:24 2018 -0700

    Make 3.1.1 awared by other branches - adding missing files

 hadoop-yarn-project/hadoop-yarn/dev-support/jdiff/Apache_Hadoop_YARN_Common_3.1.1.xml | 3327 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 3327 insertions(+)

commit 49c687608b65b772faeed614700ece8e526432e8
Author: Wangda Tan <wangda@apache.org>
Date:   Wed Aug 8 13:01:58 2018 -0700

    Make 3.1.1 awared by other branches

 hadoop-common-project/hadoop-common/src/site/markdown/release/3.1.1/CHANGES.3.1.1.md      |  498 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-common-project/hadoop-common/src/site/markdown/release/3.1.1/RELEASENOTES.3.1.1.md |  498 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdfs-project/hadoop-hdfs/dev-support/jdiff/Apache_Hadoop_HDFS_3.1.1.xml            |  676 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-project-dist/pom.xml                                                               |    2 +-
 hadoop-yarn-project/hadoop-yarn/dev-support/jdiff/Apache_Hadoop_YARN_Client_3.1.1.xml     | 2920 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 5 files changed, 4593 insertions(+), 1 deletion(-)

commit 9499df7b81b55b488a32fd59798a543dafef4ef8
Author: Xiao Chen <xiao@apache.org>
Date:   Wed Aug 8 10:36:44 2018 -0700

    HDFS-13658. Expose HighestPriorityLowRedundancy blocks statistics. Contributed by Kitti Nanasi.

 hadoop-common-project/hadoop-common/src/site/markdown/Metrics.md                                                              |  2 ++
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/protocol/ECBlockGroupStats.java                   | 27 +++++++++++++++++++++++++--
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/protocol/ReplicatedBlockStats.java                | 28 ++++++++++++++++++++++++++--
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/protocolPB/PBHelperClient.java                    | 21 +++++++++++++++++++++
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/proto/ClientNamenodeProtocol.proto                                            |  3 +++
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/metrics/NamenodeBeanMetrics.java   | 10 ++++++++++
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/router/ErasureCoding.java          | 13 +++++++++++++
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/BlockManager.java                 |  8 ++++++++
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/LowRedundancyBlocks.java          | 28 ++++++++++++++++++++++++++++
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java                        | 20 ++++++++++++++++++--
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/NameNodeMXBean.java                      | 18 ++++++++++++++++++
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/DFSAdmin.java                                      | 10 ++++++++++
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/blockmanagement/TestLowRedundancyBlockQueues.java | 43 ++++++++++++++++++++++++++++---------------
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/metrics/TestNameNodeMetrics.java         | 12 ++++++++++++
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/tools/TestDFSAdmin.java                                  | 32 +++++++++++++++++++++++++-------
 15 files changed, 247 insertions(+), 28 deletions(-)

commit ff06bd1be83a2a6d2ee39cb002e91499720a7243
Author: bibinchundatt <bibinchundatt@apache.org>
Date:   Wed Aug 8 22:42:52 2018 +0530

    YARN-8601. Print ExecutionType in Container report CLI. Contributed by Bilwa S T.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/ApplicationCLI.java | 2 ++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/test/java/org/apache/hadoop/yarn/client/cli/TestYarnCLI.java    | 1 +
 2 files changed, 3 insertions(+)

commit 36c0d742d484f8bf01d7cb01c7b1c9e3627625dc
Author: Márton Elek <elek@apache.org>
Date:   Wed Aug 8 17:27:57 2018 +0200

    HDFS-13447. Fix Typos - Node Not Chosen. Contributed by Beluga Behr.

 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/BlockPlacementPolicyDefault.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5b898c176ffb41e6fa3c605feb8ed3fcb60a5fe8
Author: Sunil G <sunilg@apache.org>
Date:   Wed Aug 8 19:48:49 2018 +0530

    Revert "YARN-8633. Update DataTables version in yarn-common in line with JQuery 3 upgrade. Contributed by Akhil PB."
    
    This reverts commit 64901abdfac72c22f6b002ff45b1107174e82207.

 LICENSE.txt                                                                                                                                |   2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/pom.xml                                                                                 |   8 ++++----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/webapp/view/JQueryUI.java                          |   4 ++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/dt-1.10.7/js/jquery.dataTables.min.js                 | 160 ----------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/{dt-1.10.7 => dt-1.9.4}/css/demo_page.css             |   0
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/{dt-1.10.7 => dt-1.9.4}/css/demo_table.css            |   0
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/{dt-1.10.7 => dt-1.9.4}/css/jui-dt.css                |   0
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/{dt-1.10.7 => dt-1.9.4}/images/Sorting icons.psd      | Bin
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/{dt-1.10.7 => dt-1.9.4}/images/back_disabled.jpg      | Bin
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/{dt-1.10.7 => dt-1.9.4}/images/back_enabled.jpg       | Bin
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/{dt-1.10.7 => dt-1.9.4}/images/favicon.ico            | Bin
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/{dt-1.10.7 => dt-1.9.4}/images/forward_disabled.jpg   | Bin
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/{dt-1.10.7 => dt-1.9.4}/images/forward_enabled.jpg    | Bin
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/{dt-1.10.7 => dt-1.9.4}/images/sort_asc.png           | Bin
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/{dt-1.10.7 => dt-1.9.4}/images/sort_asc_disabled.png  | Bin
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/{dt-1.10.7 => dt-1.9.4}/images/sort_both.png          | Bin
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/{dt-1.10.7 => dt-1.9.4}/images/sort_desc.png          | Bin
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/{dt-1.10.7 => dt-1.9.4}/images/sort_desc_disabled.png | Bin
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/dt-1.9.4/js/jquery.dataTables.min.js                  | 157 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 19 files changed, 164 insertions(+), 167 deletions(-)

commit 64901abdfac72c22f6b002ff45b1107174e82207
Author: Sunil G <sunilg@apache.org>
Date:   Wed Aug 8 19:43:29 2018 +0530

    YARN-8633. Update DataTables version in yarn-common in line with JQuery 3 upgrade. Contributed by Akhil PB.

 LICENSE.txt                                                                                                                                |   2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/pom.xml                                                                                 |   8 ++++----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/webapp/view/JQueryUI.java                          |   4 ++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/{dt-1.9.4 => dt-1.10.7}/css/demo_page.css             |   0
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/{dt-1.9.4 => dt-1.10.7}/css/demo_table.css            |   0
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/{dt-1.9.4 => dt-1.10.7}/css/jui-dt.css                |   0
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/{dt-1.9.4 => dt-1.10.7}/images/Sorting icons.psd      | Bin
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/{dt-1.9.4 => dt-1.10.7}/images/back_disabled.jpg      | Bin
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/{dt-1.9.4 => dt-1.10.7}/images/back_enabled.jpg       | Bin
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/{dt-1.9.4 => dt-1.10.7}/images/favicon.ico            | Bin
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/{dt-1.9.4 => dt-1.10.7}/images/forward_disabled.jpg   | Bin
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/{dt-1.9.4 => dt-1.10.7}/images/forward_enabled.jpg    | Bin
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/{dt-1.9.4 => dt-1.10.7}/images/sort_asc.png           | Bin
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/{dt-1.9.4 => dt-1.10.7}/images/sort_asc_disabled.png  | Bin
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/{dt-1.9.4 => dt-1.10.7}/images/sort_both.png          | Bin
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/{dt-1.9.4 => dt-1.10.7}/images/sort_desc.png          | Bin
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/{dt-1.9.4 => dt-1.10.7}/images/sort_desc_disabled.png | Bin
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/dt-1.10.7/js/jquery.dataTables.min.js                 | 160 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/dt-1.9.4/js/jquery.dataTables.min.js                  | 157 -------------------------------------------------------------------------------------------------------------------------------------------------------------
 19 files changed, 167 insertions(+), 164 deletions(-)

commit 2ec97abb2e93c1a8127e7a146c08e26454b583fa
Author: Ewan Higgs <ewan.higgs@wdc.com>
Date:   Wed Aug 8 13:50:23 2018 +0200

    HADOOP-15576. S3A Multipart Uploader to work with S3Guard and encryption Originally contributed by Ewan Higgs with refinements by Steve Loughran.

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileSystemMultipartUploader.java                                                                          |  69 ++++++++++++++++++++++++++++++++++++++++++++++++---------------------
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/MultipartUploader.java                                                                                    |  32 ++++++++++++++++++--------------
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/PartHandle.java                                                                                           |   8 ++++----
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/PathHandle.java                                                                                           |   9 +++++++--
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/AbstractSystemMultipartUploaderTest.java                                                                  | 143 -----------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/contract/AbstractContractMultipartUploaderTest.java                                                       | 300 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/{TestLocalFileSystemMultipartUploader.java => contract/localfs/TestLocalFSContractMultipartUploader.java} |  50 ++++++++++++++------------------------------------
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/fs/TestHDFSMultipartUploader.java                                                                                |  76 ----------------------------------------------------------------------------
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/fs/contract/hdfs/TestHDFSContractMultipartUploader.java                                                          |  58 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/S3AMultipartUploader.java                                                                                         | 177 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++----------------------------------------------------------
 hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/WriteOperationHelper.java                                                                                         |   4 ++++
 hadoop-tools/hadoop-aws/src/main/resources/META-INF/{ => services}/org.apache.hadoop.fs.MultipartUploaderFactory                                                                 |   0
 hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/contract/s3a/ITestS3AContractMultipartUploader.java                                                                   | 116 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/S3ATestConstants.java                                                                                             |   5 +++++
 hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/TestS3AMultipartUploaderSupport.java                                                                              |  84 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/commit/staging/TestStagingPartitionedJobCommit.java                                                               |   4 +++-
 hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/scale/AbstractSTestS3AHugeFiles.java                                                                              |   4 ++--
 hadoop-tools/hadoop-aws/src/test/resources/contract/s3a.xml                                                                                                                      |   5 +++++
 18 files changed, 787 insertions(+), 357 deletions(-)

commit 4203bc738c11aaf083b6d407c6d6b7f4f22fe0d3
Author: Vinayakumar B <vinayakumarb@apache.org>
Date:   Wed Aug 8 12:42:20 2018 +0530

    HDFS-13785. EC: 'removePolicy' is not working for built-in/system Erasure Code policies. Contributed by Ayush Saxena

 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/ECAdmin.java |  4 ++--
 hadoop-hdfs-project/hadoop-hdfs/src/site/markdown/HDFSErasureCoding.md                  |  4 ++--
 hadoop-hdfs-project/hadoop-hdfs/src/test/resources/testErasureCodingConf.xml            | 22 +++++++++++++++++++++-
 3 files changed, 25 insertions(+), 5 deletions(-)

commit 6677717c689cc94a15f14c3466242e23652d473b
Author: Xiao Chen <xiao@apache.org>
Date:   Tue Aug 7 22:04:41 2018 -0700

    HDFS-13728. Disk Balancer should not fail if volume usage is greater than capacity. Contributed by Stephen O'Donnell.

 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/diskbalancer/datamodel/DiskBalancerVolume.java | 17 ++++++++++++-----
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/diskbalancer/TestDataModels.java               | 16 ++++++++++++++++
 2 files changed, 28 insertions(+), 5 deletions(-)

commit 2b0f9772417d205e8df16bac6921c2bb8bdcf740
Author: Vinayakumar B <vinayakumarb@apache.org>
Date:   Wed Aug 8 07:47:10 2018 +0530

    HDFS-13786. EC: Display erasure coding policy for sub-directories is not working. Contributed by Ayush Saxena.

 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/ContentSummaryComputationContext.java |  2 ++
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestErasureCodingPolicies.java                        | 14 ++++++++++++++
 2 files changed, 16 insertions(+)

commit 7862f1523f0591a0b163bcecf07af842de4b3a8b
Author: Sean Mackrory <mackrorysd@apache.org>
Date:   Tue Aug 7 13:55:59 2018 -0600

    HADOOP-15400. Improve S3Guard documentation on Authoritative Mode implementation. (Contributed by Gabor Bota)

 hadoop-tools/hadoop-aws/src/site/markdown/tools/hadoop-aws/s3guard.md | 51 +++++++++++++++++++++++++++++++++++++++++++++++----
 1 file changed, 47 insertions(+), 4 deletions(-)

commit 38784f95fecd02c2f94344c1967cccf0799ec074
Author: Anu Engineer <aengineer@apache.org>
Date:   Tue Aug 7 16:40:33 2018 -0700

    HDDS-124. Validate all required configs needed for ozone-site.xml and reflect the changes in ozone-default.xml
    Contributed by Dinesh Chitlangia.

 hadoop-hdds/common/src/main/resources/ozone-default.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0f8cb127cd759cdc6422d19d8b28f21198ddfd61
Author: Xiao Chen <xiao@apache.org>
Date:   Tue Aug 7 16:11:37 2018 -0700

    HDFS-13799. TestEditLogTailer#testTriggersLogRollsForAllStandbyNN fails due to missing synchronization
                between rollEditsRpcExecutor and tailerThread shutdown. Contributed by Hrishikesh Gadre.

 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/ha/EditLogTailer.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit d838179d8dc257e582e8c7bb1cf312d4c0d3f733
Author: Giovanni Matteo Fumarola <gifuma@apache.com>
Date:   Tue Aug 7 15:33:16 2018 -0700

    YARN-8626. Create HomePolicyManager that sends all the requests to the home subcluster. Contributed by Inigo Goiri.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/federation/policies/amrmproxy/AbstractAMRMProxyPolicy.java  |   8 ++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/federation/policies/amrmproxy/BroadcastAMRMProxyPolicy.java |   7 -------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/federation/policies/amrmproxy/HomeAMRMProxyPolicy.java      |  74 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/federation/policies/amrmproxy/RejectAMRMProxyPolicy.java    |   8 --------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/federation/policies/manager/HomePolicyManager.java          |  61 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/test/java/org/apache/hadoop/yarn/server/federation/policies/amrmproxy/TestHomeAMRMProxyPolicy.java  | 110 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/test/java/org/apache/hadoop/yarn/server/federation/policies/manager/TestHomePolicyManager.java      |  39 +++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/test/java/org/apache/hadoop/yarn/server/federation/utils/FederationPoliciesTestUtil.java            |  16 +++++++++++++---
 8 files changed, 305 insertions(+), 18 deletions(-)

commit 861095f761b40171e0dc25f769f486d910cc3e88
Author: Wangda Tan <wangda@apache.org>
Date:   Tue Aug 7 13:01:13 2018 -0700

    YARN-8407. Container launch exception in AM log should be printed in ERROR level. (Yesha Vora via wangda)
    
    Change-Id: I154e873df1df3503a09c41d6b3874ca195af91d9

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/component/instance/ComponentInstance.java | 22 ++++++++++++++--------
 1 file changed, 14 insertions(+), 8 deletions(-)

commit c0599151bb438d3dc0c6a54af93b2670770daefd
Author: Wangda Tan <wangda@apache.org>
Date:   Tue Aug 7 12:37:32 2018 -0700

    YARN-7089. Mark the log-aggregation-controller APIs as public. (Zian Chen via wangda)
    
    Change-Id: I37851bdc5935d623a27d0973a206c997258716eb

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/logaggregation/filecontroller/LogAggregationFileController.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d4258fcad71eabe2de3cf829cde36840200ab9b6
Author: Wangda Tan <wangda@apache.org>
Date:   Tue Aug 7 12:36:55 2018 -0700

    YARN-8629. Container cleanup fails while trying to delete Cgroups. (Suma Shivaprasad via wangda)
    
    Change-Id: I392ef4f8baa84d5d7b1f2e438c560b5426b6d4f2

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/resources/CGroupsHandlerImpl.java | 26 ++++++++++++++++----------
 1 file changed, 16 insertions(+), 10 deletions(-)

commit b1a59b164412fbd9f641a7e992a7d1a3fd0f1a10
Author: Virajith Jalaparti <virajith@apache.org>
Date:   Tue Aug 7 10:15:28 2018 -0700

    HDFS-13796. Allow verbosity of InMemoryLevelDBAliasMapServer to be configurable.

 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DFSConfigKeys.java                                 | 2 ++
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/aliasmap/InMemoryLevelDBAliasMapServer.java | 8 +++++++-
 hadoop-hdfs-project/hadoop-hdfs/src/main/resources/hdfs-default.xml                                                     | 9 +++++++++
 3 files changed, 18 insertions(+), 1 deletion(-)

commit 6ed8593d180fe653f78f0a210478555338c4685a
Author: Mukul Kumar Singh <msingh@apache.org>
Date:   Tue Aug 7 16:09:53 2018 +0530

    HDDS-301. ozone command shell does not contain subcommand to run ozoneFS commands. Contributed by Nilotpal Nandi.

 hadoop-common-project/hadoop-common/src/main/bin/hadoop-functions.sh           | 1 +
 hadoop-ozone/acceptance-test/src/test/acceptance/ozonefs/ozonefs.robot         | 4 ++--
 hadoop-ozone/acceptance-test/src/test/acceptance/ozonefs/ozonesinglenode.robot | 4 ++--
 hadoop-ozone/common/src/main/bin/ozone                                         | 4 ++++
 hadoop-ozone/common/src/main/shellprofile.d/hadoop-ozone.sh                    | 1 +
 5 files changed, 10 insertions(+), 4 deletions(-)

commit 900c0e114f391f4dbf21a0e08a63c2cf22659eb7
Author: Mukul Kumar Singh <msingh@apache.org>
Date:   Tue Aug 7 15:03:14 2018 +0530

    HDDS-230. ContainerStateMachine should implement readStateMachineData api to read data from Containers if required during replication. Contributed by Mukul Kumar Singh.

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/ContainerStateMachine.java | 142 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++--------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/XceiverServerRatis.java    |  10 +++++-----
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java                                                     |   2 +-
 hadoop-project/pom.xml                                                                                                                 |   2 +-
 4 files changed, 129 insertions(+), 27 deletions(-)

commit 2e4e02b4df59f94b26567660638d58ad9ebc121e
Author: Yiqun Lin <yqlin@apache.org>
Date:   Tue Aug 7 09:32:51 2018 +0800

    HDFS-13792. Fix FSN read/write lock metrics name. Contributed by Chao Sun.

 hadoop-common-project/hadoop-common/src/site/markdown/Metrics.md | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit ca20e0d7e9767a7362dddfea8ec19548947d3fd7
Author: Eric Yang <eyang@apache.org>
Date:   Mon Aug 6 12:37:59 2018 -0400

    YARN-8624. Updated verbiage around entry point support.
               Contributed by Craig Condit

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/DockerContainers.md | 14 +++++---------
 1 file changed, 5 insertions(+), 9 deletions(-)

commit bcfc9851f4c6d37d9a119c16ea7d4d253d3b9614
Author: Shane Kumpf <skumpf@apache.org>
Date:   Fri Aug 3 18:20:49 2018 -0600

    YARN-8287. Update documentation and yarn-default related to the Docker runtime. Contributed by Craig Condit

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/yarn-default.xml | 13 +++++++------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/DockerContainers.md | 66 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++---------
 2 files changed, 64 insertions(+), 15 deletions(-)

commit 48673bc2a8b81e8e3df4e6a2d8502ce7e3fde2f4
Author: Steve Loughran <stevel@apache.org>
Date:   Fri Aug 3 16:06:00 2018 -0700

    HADOOP-15626. FileContextMainOperationsBaseTest.testBuilderCreateAppendExistingFile fails on filesystems without append.
    Contributed by Steve Loughran.

 hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/fileContext/ITestS3AFileContextMainOperations.java | 6 ++++++
 1 file changed, 6 insertions(+)

commit 2b18bb4f37b9eec504b084e11384ec5ede4e0779
Author: Takanobu Asanuma <tasanuma@apache.org>
Date:   Fri Aug 3 23:38:05 2018 +0900

    HDFS-11610. sun.net.spi.nameservice.NameService has moved to a new location. Contributed by Akira Ajisaka.

 hadoop-hdfs-project/hadoop-hdfs/pom.xml | 19 ++++++++++++++++++-
 1 file changed, 18 insertions(+), 1 deletion(-)

commit 3426f4062ae0867c1ff5c71bd4e3dcb2f1affb89
Author: Sunil G <sunilg@apache.org>
Date:   Fri Aug 3 19:28:16 2018 +0530

    YARN-8615. [UI2] Resource Usage tab shows only memory related info. No info available for vcores/gpu. Contributed by Akhil PB.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/components/per-app-memusage-by-nodes-stacked-barchart.js    | 12 +++++-------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/components/per-app-ncontainers-by-nodes-stacked-barchart.js |  2 --
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/components/per-app-vcoreusage-by-nodes-stacked-barchart.js  | 85 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/templates/yarn-app/charts.hbs                               |  8 ++++++++
 4 files changed, 98 insertions(+), 9 deletions(-)

commit 29417dbbf4f6e3881baaaa97408b335c32fe6708
Author: Sunil G <sunilg@apache.org>
Date:   Fri Aug 3 19:12:34 2018 +0530

    YARN-8620. [UI2] YARN Services UI new submission failures are not debuggable. Contributed by Akhil PB.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/adapters/yarn-servicedef.js        | 11 ++++++++++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/controllers/yarn-app.js            | 10 ++++++++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/controllers/yarn-deploy-service.js |  8 ++++++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/templates/yarn-app.hbs             | 10 ++++++----
 4 files changed, 30 insertions(+), 9 deletions(-)

commit 022592ae7941607091fa85e4a9e8608ba53f3814
Author: Rohith Sharma K S <rohithsharmaks@apache.org>
Date:   Fri Aug 3 13:59:34 2018 +0530

    YARN-8608. [UI2] No information available per application appAttempt about 'Total Outstanding Resource Requests'. Contributed by Akhil PB.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/controllers/yarn-app/info.js | 45 +++++++++++++++++++++++++++++++--------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/templates/yarn-app.hbs       | 11 +++++++----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/templates/yarn-app/info.hbs  | 19 +++++++++++++++----
 3 files changed, 53 insertions(+), 22 deletions(-)

commit 33482d35e802ac3468317b844122b347fe486861
Author: Rohith Sharma K S <rohithsharmaks@apache.org>
Date:   Fri Aug 3 13:58:41 2018 +0530

    YARN-8603. [UI2] Latest run application should be listed first in the RM UI. Contributed by Akhil PB.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/controllers/app-table-columns.js | 7 +++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/controllers/yarn-apps/apps.js    | 4 +++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/serializers/yarn-app.js          | 2 +-
 3 files changed, 11 insertions(+), 2 deletions(-)

commit db465afb5cf57cce653182b2ae85aa6328f84fdf
Author: Nanda kumar <nanda@apache.org>
Date:   Fri Aug 3 14:53:04 2018 +0530

    HDDS-300. Create a config for volume choosing policy. Contributed by Bharat Viswanadham.

 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/HddsConfigKeys.java                                     |  4 ++++
 hadoop-hdds/common/src/main/resources/ozone-default.xml                                                         | 11 +++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueHandler.java     | 14 ++++++++++----
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/keyvalue/TestKeyValueHandler.java | 46 +++++++++++++++++++++++++++++++++++++++++++++-
 4 files changed, 70 insertions(+), 5 deletions(-)

commit 40ab8ee597d730fa2a8a386ef25b0dbecd4e839c
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Thu Aug 2 16:48:21 2018 -0700

    HDDS-312. Add blockIterator to Container. Contributed by Bharat Viswanadham.

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/interfaces/Container.java    |  8 ++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueContainer.java     |  8 +++++++-
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/keyvalue/TestKeyValueContainer.java | 58 ++++++++++++++++++++++++++++++++++++++++++++++++++++++----
 3 files changed, 69 insertions(+), 5 deletions(-)

commit 889df6f1949921371d6d55dff93d3818d03be3bb
Author: Haibo Chen <haibochen@apache.org>
Date:   Thu Aug 2 10:10:12 2018 -0700

    YARN-7948. Enable fair scheduler to refresh maximum allocation for multiple resource types. (Szilard Nemeth via Haibo Chen)

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/FairScheduler.java                           |   9 ++++++++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/TestFairSchedulerWithMultiResourceTypes.java | 127 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 135 insertions(+), 1 deletion(-)

commit 12a095a496dd59066d73a7a6c24129b5b6a9d650
Author: Sunil G <sunilg@apache.org>
Date:   Thu Aug 2 22:29:21 2018 +0530

    YARN-7159. Normalize unit of resource objects in RM to avoid unit conversion in critical path. Contributed by Manikandan R.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/api/records/ResourceInformation.java                                                                            |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/util/resource/ResourceUtils.java                                                                                |  7 +++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/test/java/org/apache/hadoop/yarn/conf/TestResourceInformation.java                                                                               |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/api/records/impl/pb/ResourcePBImpl.java                                                                      | 14 +++++++++++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/util/resource/DominantResourceCalculator.java                                                                | 65 +++++++++++++----------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/util/resource/Resources.java                                                                                 | 43 ++++++-------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/test/java/org/apache/hadoop/yarn/api/TestResourcePBImpl.java                                                                                  | 90 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/test/java/org/apache/hadoop/yarn/util/resource/TestResourceUtils.java                                                                         | 40 ++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/test/resources/resource-types/node-resources-3.xml                                                                                            | 33 +++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/TestClientRMService.java                           | 88 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/TestFairSchedulerConfiguration.java |  2 +-
 11 files changed, 291 insertions(+), 95 deletions(-)

commit 7526815e3234ca352854ecfb142a13f1a188d5bd
Author: Jason Lowe <jlowe@apache.org>
Date:   Thu Aug 2 10:43:48 2018 -0500

    YARN-8263. DockerClient still touches hadoop.tmp.dir. Contributed by Craig Condit

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/LinuxContainerExecutor.java                                          |  6 +++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/runtime/DockerLinuxContainerRuntime.java      | 17 ++++++++---------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/runtime/docker/DockerClient.java              | 53 -----------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/runtime/docker/DockerCommand.java             |  6 ++----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/runtime/docker/DockerCommandExecutor.java     | 15 ++++-----------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/runtime/docker/DockerInspectCommand.java      |  3 +--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/runtime/docker/DockerRmCommand.java           |  3 +--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/runtime/docker/TestDockerClient.java          |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/runtime/docker/TestDockerCommandExecutor.java | 20 ++++++++++----------
 9 files changed, 30 insertions(+), 95 deletions(-)

commit 5033d7da8f6f703d8774492c42e31e9b9cb692a5
Author: Sunil G <sunilg@apache.org>
Date:   Thu Aug 2 20:09:24 2018 +0530

    YARN-8318. [UI2] IP address in component page shows N/A. Contributed by Yesha Vora.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/templates/yarn-component-instance/info.hbs | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e83719c830dd4927c8eef26062c56c0d62b2f04f
Author: Nanda kumar <nanda@apache.org>
Date:   Thu Aug 2 19:02:25 2018 +0530

    HDDS-290. putKey is failing with KEY_ALLOCATION_ERROR. Contributed by Xiaoyu Yao.

 hadoop-dist/src/main/compose/ozone/docker-config                                                     |  1 +
 hadoop-ozone/acceptance-test/src/test/acceptance/ozonefs/ozonesinglenode.robot                       | 49 +++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/web/ozShell/Shell.java              |  4 ++++
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/web/ozShell/keys/PutKeyHandler.java | 16 ++++++++++++----
 4 files changed, 66 insertions(+), 4 deletions(-)

commit 7c368575a319f5ba98019418166524bac982086f
Author: Mukul Kumar Singh <msingh@apache.org>
Date:   Thu Aug 2 17:34:17 2018 +0530

    HDDS-304. Process ContainerAction from datanode heartbeat in SCM. Contributed by Nanda Kumar.

 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerActionsHandler.java     | 60 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/events/SCMEvents.java                      | 16 +++++++++++++++-
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMDatanodeHeartbeatDispatcher.java | 22 ++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/StorageContainerManager.java        |  3 +++
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/TestContainerActionsHandler.java | 68 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 5 files changed, 168 insertions(+), 1 deletion(-)

commit 97870ec1f6e40ee863333f29411d71b6c687bbed
Author: Sunil G <sunilg@apache.org>
Date:   Thu Aug 2 16:10:54 2018 +0530

    YARN-8592. [UI2] rmip:port/ui2 endpoint shows a blank page in windows OS and Chrome browser. Contributed by Akhil PB.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/utils/date-utils.js | 14 ++++++++++----
 1 file changed, 10 insertions(+), 4 deletions(-)

commit 1ea81169bad5bd6433348ef8e5e7ac12c5a9cb5e
Author: Sunil G <sunilg@apache.org>
Date:   Thu Aug 2 12:41:06 2018 +0530

    YARN-8594. [UI2] Display current logged in user. Contributed by Akhil PB.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/adapters/cluster-user-info.js    | 29 +++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/controllers/application.js       | 10 +++++++++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/models/cluster-user-info.js      | 24 ++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/routes/application.js            |  6 +++++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/serializers/cluster-user-info.js | 43 +++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/styles/app.scss                  | 12 +++++++++++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/templates/application.hbs        | 15 +++++++++++----
 7 files changed, 132 insertions(+), 7 deletions(-)

commit 41da2050bdec14709a86fa8a5cf7da82415fd989
Author: Nanda kumar <nanda@apache.org>
Date:   Thu Aug 2 11:35:22 2018 +0530

    HDDS-310. VolumeSet shutdown hook fails on datanode restart. Contributed by Bharat Viswanadham.

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/VolumeSet.java | 15 +++++++++++++--
 1 file changed, 13 insertions(+), 2 deletions(-)

commit 735b4925569541fb8e65dc0c668ccc2aa2ffb30b
Author: Sunil G <sunilg@apache.org>
Date:   Thu Aug 2 08:34:09 2018 +0530

    YARN-8593. Add RM web service endpoint to get user information. Contributed by Akhil PB.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/ResourceManager.java             |  4 ++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/RMWSConsts.java           |  3 +++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/RMWebServiceProtocol.java | 10 ++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/RMWebServices.java        | 12 ++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/dao/ClusterUserInfo.java  | 64 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/TestRMWebServices.java    | 21 +++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-router/src/main/java/org/apache/hadoop/yarn/server/router/webapp/DefaultRequestInterceptorREST.java          |  8 ++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-router/src/main/java/org/apache/hadoop/yarn/server/router/webapp/FederationInterceptorREST.java              |  6 ++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-router/src/main/java/org/apache/hadoop/yarn/server/router/webapp/RouterWebServices.java                      | 12 ++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-router/src/test/java/org/apache/hadoop/yarn/server/router/webapp/MockRESTRequestInterceptor.java             |  6 ++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-router/src/test/java/org/apache/hadoop/yarn/server/router/webapp/PassThroughRESTRequestInterceptor.java      |  6 ++++++
 11 files changed, 152 insertions(+)

commit 23f394240e1568a38025e63e9dc0842e8c5235f7
Author: Eric Yang <eyang@apache.org>
Date:   Wed Aug 1 20:41:43 2018 -0400

    YARN-8610.  Fixed initiate upgrade error message.
                Contributed by Chandni Singh

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/client/ServiceClient.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f2e29acbfa0b7e1fcecbdcf3e791c96114b456a5
Author: Arpit Agarwal <arp@apache.org>
Date:   Wed Aug 1 12:32:01 2018 -0700

    HADOOP-15476. fix logging for split-dns multihome . Contributed by Ajay Kumar.

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/Client.java | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 603a57476ce0bf9514f0432a235f29432ca4c323
Author: Shane Kumpf <skumpf@apache.org>
Date:   Wed Aug 1 12:22:01 2018 -0600

    YARN-8600. RegistryDNS hang when remote lookup does not reply. Contributed by Eric Yang

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-registry/src/main/java/org/apache/hadoop/registry/server/dns/LookupTask.java      | 39 +++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-registry/src/main/java/org/apache/hadoop/registry/server/dns/RegistryDNS.java     | 21 ++++++++++++++++-----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-registry/src/test/java/org/apache/hadoop/registry/server/dns/TestRegistryDNS.java |  8 ++++++++
 3 files changed, 63 insertions(+), 5 deletions(-)

commit 67c65da261464a0dccb63dc27668109a52e05714
Author: Billie Rinaldi <billie@apache.org>
Date:   Wed Aug 1 08:51:18 2018 -0700

    YARN-8403. Change the log level for fail to download resource from INFO to ERROR. Contributed by Eric Yang

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/localizer/ResourceLocalizationService.java     | 16 +++++++++++-----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/localizer/TestResourceLocalizationService.java |  3 +++
 2 files changed, 14 insertions(+), 5 deletions(-)

commit d920b9db77be44adc4f8a2a0c2df889af82be04f
Author: Sunil G <sunilg@apache.org>
Date:   Wed Aug 1 14:27:54 2018 +0530

    YARN-8595. [UI2] Container diagnostic information is missing from container page. Contributed by Akhil PB.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/models/yarn-app-attempt.js                 |  1 +
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/models/yarn-timeline-container.js          |  1 +
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/serializers/yarn-app-attempt.js            |  3 ++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/serializers/yarn-timeline-container.js     |  6 +-----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/styles/app.scss                            |  9 +++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/templates/components/app-attempt-table.hbs |  6 ++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/templates/components/timeline-view.hbs     | 44 +++++++++++++++++++++++++++++++-------------
 7 files changed, 51 insertions(+), 19 deletions(-)

commit a48a0cc7fd8e7ac1c07b260e6078077824f27c35
Author: Sunil G <sunilg@apache.org>
Date:   Wed Aug 1 12:17:18 2018 +0530

    YARN-8606. Opportunistic scheduling does not work post RM failover. Contributed by Bibin A Chundatt.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/OpportunisticContainerAllocatorAMService.java |  4 +++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/ResourceManager.java                          | 37 +++++++++++++++++++++++++------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/TestRMHA.java                                 | 44 ++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 72 insertions(+), 13 deletions(-)

commit 5cc8e99147276a059979813f7fd323dd7d77b248
Author: Wangda Tan <wangda@apache.org>
Date:   Tue Jul 31 17:48:44 2018 -0700

    YARN-8522. Application fails with InvalidResourceRequestException. (Zian Chen via wangda)
    
    Change-Id: I34dd7fa49bd4d10580c4a78051033b1068d28f1e

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/api/records/impl/pb/ApplicationSubmissionContextPBImpl.java | 87 ++++++++++++++++++++++++++++++++++++++++++++++-----------------------------------------
 1 file changed, 46 insertions(+), 41 deletions(-)

commit f4db753bb6b4648c583722dbe8108973c23ba06f
Author: Mukul Kumar Singh <msingh@apache.org>
Date:   Wed Aug 1 09:02:43 2018 +0530

    HDDS-226. Client should update block length in OM while committing the key. Contributed by Shashikant Banerjee.

 hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/ChunkGroupOutputStream.java                             | 22 +++++++++++++++++++++-
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmKeyArgs.java                                         | 26 ++++++++++++++++++++++----
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmKeyInfo.java                                         | 29 +++++++++++++++++++++++++++--
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmKeyLocationInfo.java                                 |  6 +++++-
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/OzoneManagerProtocolClientSideTranslatorPB.java     |  8 +++++++-
 hadoop-ozone/common/src/main/proto/OzoneManagerProtocol.proto                                                               |  1 +
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/client/rpc/TestOzoneRpcClient.java                      | 35 +++++++++++++++++++++++++++++++++++
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/om/TestOmBlockVersioning.java                           | 13 ++++++++++++-
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java                                     |  4 ++++
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/protocolPB/OzoneManagerProtocolServerSideTranslatorPB.java |  5 ++++-
 10 files changed, 138 insertions(+), 11 deletions(-)

commit 6310c0d17d6422a595f856a55b4f1fb82be43739
Author: Sunil G <sunilg@apache.org>
Date:   Wed Aug 1 08:33:01 2018 +0530

    YARN-8397. Potential thread leak in ActivitiesManager. Contributed by Rohith Sharma K S.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/activities/ActivitiesManager.java | 20 +++++++++++++++-----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/CapacityScheduler.java   |  1 +
 2 files changed, 16 insertions(+), 5 deletions(-)

commit 40f9b0c5c13f40921b6976589543a04efa489f93
Author: Aaron Fabbri <fabbri@apache.org>
Date:   Tue Jul 31 15:21:38 2018 -0700

    HDFS-13322 fuse dfs - uid persists when switching between ticket caches.  Contributed by Istvan Fajth.

 hadoop-hdfs-project/hadoop-hdfs-native-client/src/main/native/fuse-dfs/fuse_connect.c | 17 +++++++++++++----
 1 file changed, 13 insertions(+), 4 deletions(-)

commit c835fc08adf556d2f848f2f241155cbfe3375695
Author: Bharat Viswanadham <bharat@apache.org>
Date:   Tue Jul 31 16:26:09 2018 -0700

    HDDS-271. Create a block iterator to iterate blocks in a container. Contributed by Bharat Viswanadham.

 hadoop-hdds/common/src/main/java/org/apache/hadoop/utils/MetaStoreIterator.java                                       |   2 +-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/interfaces/BlockIterator.java    |  57 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueBlockIterator.java     | 148 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/keyvalue/TestKeyValueBlockIterator.java | 275 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 481 insertions(+), 1 deletion(-)

commit c7ebcd76bf3dd14127336951f2be3de772e7826a
Author: Eric Yang <eyang@apache.org>
Date:   Tue Jul 31 18:01:02 2018 -0400

    YARN-8579.  Recover NMToken of previous attempted component data.
                Contributed by Gour Saha

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/ServiceScheduler.java                   |  1 +
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/SchedulerApplicationAttempt.java |  3 ++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/FairScheduler.java          |  8 ++++++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/applicationsmanager/TestAMRestart.java     | 18 ++++++++++++++----
 4 files changed, 23 insertions(+), 7 deletions(-)

commit 4b540bbfcf02d828052999215c6135603d98f5db
Author: Wangda Tan <wangda@apache.org>
Date:   Tue Jul 31 12:07:51 2018 -0700

    YARN-8418. App local logs could leaked if log aggregation fails to initialize for the app. (Bibin A Chundatt via wangda)
    
    Change-Id: I29a23ca4b219b48c92e7975cd44cddb8b0e04104

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/logaggregation/filecontroller/LogAggregationFileController.java                                                      |  7 +++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/NodeStatusUpdaterImpl.java                                         |  1 +
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/ContainerManager.java                             |  1 +
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/ContainerManagerImpl.java                         | 13 +++++++++++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/logaggregation/AppLogAggregator.java              |  8 ++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/logaggregation/AppLogAggregatorImpl.java          | 15 +++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/logaggregation/LogAggregationService.java         | 83 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++---------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/loghandler/LogHandler.java                        |  7 +++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/loghandler/NonAggregatingLogHandler.java          |  9 +++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/loghandler/event/LogHandlerEventType.java         |  4 +++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/loghandler/event/LogHandlerTokenUpdatedEvent.java | 26 ++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/DummyContainerManager.java                                         |  7 +++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/logaggregation/TestLogAggregationService.java     | 34 ++++++++++++++++++++++++----------
 13 files changed, 187 insertions(+), 28 deletions(-)

commit 8aa93a575e896c609b97ddab58853b1eb95f0dee
Author: Haibo Chen <haibochen@apache.org>
Date:   Tue Jul 31 11:32:40 2018 -0700

    YARN-8605. TestDominantResourceFairnessPolicy.testModWhileSorting is flaky. (Wilfred Spiegelenburg via Haibo Chen)

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/policies/TestDominantResourceFairnessPolicy.java | 38 ++++++++++++--------------------------
 1 file changed, 12 insertions(+), 26 deletions(-)

commit 9fea5c9ee76bd36f273ae93afef5f3ef3c477a53
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Tue Jul 31 09:36:34 2018 -0700

    YARN-8175. Add support for Node Labels in SLS. Contributed by Abhishek Modi.

 hadoop-tools/hadoop-sls/src/main/java/org/apache/hadoop/yarn/sls/SLSRunner.java                                          | 93 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++------------------------
 hadoop-tools/hadoop-sls/src/main/java/org/apache/hadoop/yarn/sls/appmaster/AMSimulator.java                              |  9 ++++++++-
 hadoop-tools/hadoop-sls/src/main/java/org/apache/hadoop/yarn/sls/appmaster/MRAMSimulator.java                            |  5 +++--
 hadoop-tools/hadoop-sls/src/main/java/org/apache/hadoop/yarn/sls/appmaster/StreamAMSimulator.java                        |  5 +++--
 hadoop-tools/hadoop-sls/src/main/java/org/apache/hadoop/yarn/sls/conf/SLSConfiguration.java                              |  1 +
 hadoop-tools/hadoop-sls/src/main/java/org/apache/hadoop/yarn/sls/nodemanager/NMSimulator.java                            | 13 ++++++++++++-
 hadoop-tools/hadoop-sls/src/main/java/org/apache/hadoop/yarn/sls/utils/SLSUtils.java                                     | 58 +++++++++++++++++++++++++++++++++++++++-------------------
 hadoop-tools/hadoop-sls/src/test/java/org/apache/hadoop/yarn/sls/appmaster/TestAMSimulator.java                          | 35 ++++++++++++++++++++++++++++++++++-
 hadoop-tools/hadoop-sls/src/test/java/org/apache/hadoop/yarn/sls/utils/TestSLSUtils.java                                 | 64 +++++++++++++++++++++++++++++++++++++++++++++-------------------
 hadoop-tools/hadoop-sls/src/test/resources/nodes-with-resources.json                                                     |  8 ++++++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/RMAdminCLI.java       | 71 ++++-------------------------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/util/YarnClientUtils.java | 77 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 12 files changed, 301 insertions(+), 138 deletions(-)

commit b28bdc7e8b488ef0df62a92bcfe7eb74bbe177c1
Author: Mukul Kumar Singh <msingh@apache.org>
Date:   Tue Jul 31 19:50:40 2018 +0530

    HDDS-279. DeleteBlocks command should not be sent for open containers. Contributed by Lokesh Jain.

 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/DatanodeDeletedBlockTransactions.java                             | 18 +++++++++++++-----
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/DeletedBlockLogImpl.java                                          |  8 +++++---
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/OzoneTestUtils.java                                                 | 92 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/TestStorageContainerManager.java                                    |  8 ++++++++
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/TestBlockDeletingService.java                      | 17 +++++++++++++----
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/TestBlockDeletion.java | 47 ++++++++++++++++++-----------------------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/web/client/TestKeys.java                                            |  3 +++
 7 files changed, 152 insertions(+), 41 deletions(-)

commit 7631e0adaefcccdbee693089b4c391bea4107a19
Author: Nanda kumar <nanda@apache.org>
Date:   Tue Jul 31 17:27:51 2018 +0530

    HDDS-305. Datanode StateContext#addContainerActionIfAbsent will add container action even if there already is a ContainerAction. Contributed by Nanda kumar.

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/HddsDispatcher.java                       | 13 +------------
 hadoop-hdds/container-service/src/main/proto/StorageContainerDatanodeProtocol.proto                                                 |  2 +-
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/states/endpoint/TestHeartbeatEndpointTask.java |  5 +----
 3 files changed, 3 insertions(+), 17 deletions(-)

commit 3e06a5dcea8224ba71aec284df23b47d536bb06d
Author: Jonathan Hung <jhung@linkedin.com>
Date:   Mon Jul 30 17:41:01 2018 -0700

    YARN-7974. Allow updating application tracking url after registration. Contributed by Jonathan Hung

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/api/protocolrecords/AllocateRequest.java                                                                            | 47 +++++++++++++++++++++++++++++++++++++++++++++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/proto/yarn_service_protos.proto                                                                                                                 |  1 +
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/api/AMRMClient.java                                                                                       | 11 +++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/api/async/AMRMClientAsync.java                                                                            | 11 +++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/api/async/impl/AMRMClientAsyncImpl.java                                                                   |  5 +++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/api/impl/AMRMClientImpl.java                                                                              | 11 +++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/test/java/org/apache/hadoop/yarn/client/api/impl/TestAMRMClient.java                                                                              | 77 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/api/protocolrecords/impl/pb/AllocateRequestPBImpl.java                                                           | 27 ++++++++++++++++++++++++++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/DefaultAMSProcessor.java                               |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmapp/attempt/RMAppAttemptImpl.java                    | 20 ++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmapp/attempt/event/RMAppAttemptStatusupdateEvent.java | 11 +++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/TestApplicationMasterService.java                      | 34 ++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/TestRMRestart.java                                     | 45 +++++++++++++++++++++++++++++++++++++++++++++
 13 files changed, 298 insertions(+), 4 deletions(-)

commit ee53602a8179e76f4102d9062d0bebe8bb09d875
Author: Tsz Wo Nicholas Sze <szetszwo@apache.org>
Date:   Mon Jul 30 15:00:29 2018 -0700

    HDDS-293. Reduce memory usage and object creation in KeyData.

 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/container/common/helpers/KeyData.java                       |  84 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/OpenContainerBlockMap.java |   2 +-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueHandler.java          |   3 ---
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/helpers/TestKeyData.java        | 119 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 179 insertions(+), 29 deletions(-)

commit 2b39ad26984d641bad57db2cfcc0b7515ef95f46
Author: bibinchundatt <bibinchundatt@apache.org>
Date:   Mon Jul 30 23:25:19 2018 +0530

    YARN-8584. Several typos in Log Aggregation related classes. Contributed by Szilard Nemeth.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/logaggregation/AggregatedLogDeletionService.java                                                             |  4 ++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/logaggregation/AggregatedLogFormat.java                                                                      |  8 ++++----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/logaggregation/filecontroller/LogAggregationFileController.java                                              |  6 +++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/logaggregation/filecontroller/ifile/IndexedFileAggregatedLogsBlock.java                                      |  6 +++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/logaggregation/filecontroller/ifile/LogAggregationIndexedFileController.java                                 | 26 +++++++++++++-------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/logaggregation/filecontroller/tfile/LogAggregationTFileController.java                                       |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/test/java/org/apache/hadoop/yarn/logaggregation/TestAggregatedLogDeletionService.java                                                         |  6 +++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/logaggregation/AppLogAggregatorImpl.java  |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/logaggregation/LogAggregationService.java |  6 +++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/logaggregation/tracker/NMLogAggregationStatusTracker.java  |  4 ++--
 10 files changed, 35 insertions(+), 35 deletions(-)

commit e8f952ef06ae05d2b504300d6f19beb8a052b6f1
Author: Chen Liang <cliang@apache.org>
Date:   Mon Jul 30 10:25:07 2018 -0700

    HADOOP-15637. LocalFs#listLocatedStatus does not filter out hidden .crc files. Contributed by Erik Krogen.

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/ChecksumFs.java                        | 37 +++++++++++++++++++++++++++++++++++++
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/FileContextMainOperationsBaseTest.java | 38 ++++++++++++++++++++++++++++++++++++++
 2 files changed, 75 insertions(+)

commit 3517a47897457c11096ab57a4cb0b096a838a3ec
Author: Nanda kumar <nanda@apache.org>
Date:   Mon Jul 30 21:18:42 2018 +0530

    HDDS-287. Add Close ContainerAction to Datanode#StateContext when the container gets full. Contributed by Nanda kumar.

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/HddsDispatcher.java               |  63 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++--
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/DatanodeStateMachine.java |   2 +-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/StateContext.java         |  14 +++++++++++++-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/OzoneContainer.java                 |   6 ++++--
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/impl/TestHddsDispatcher.java           | 152 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/impl/package-info.java                 |  22 ++++++++++++++++++++++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/interfaces/TestHandler.java            |   4 +---
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/ozoneimpl/TestOzoneContainer.java             |   2 +-
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/ozone/container/common/TestEndPoint.java                             |  12 ++++++------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/impl/TestCloseContainerHandler.java    |   2 +-
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/metrics/TestContainerMetrics.java             |   2 +-
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/ozoneimpl/TestOzoneContainer.java             |   2 +-
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/server/TestContainerServer.java               |   2 +-
 hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/genesis/BenchMarkDatanodeDispatcher.java                           |   6 +++++-
 14 files changed, 270 insertions(+), 21 deletions(-)

commit 952dc2fd557f9aaf0f144ee32d0b7731a84bad73
Author: Mukul Kumar Singh <msingh@apache.org>
Date:   Mon Jul 30 18:45:58 2018 +0530

    HDDS-302. Fix javadoc and add implementation details in ContainerStateMachine. Contributed by Shashikant Banerjee.

 hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/XceiverClientRatis.java                                                    | 30 +++---------------------------
 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/HddsUtils.java                                                                 | 33 +++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/ContainerStateMachine.java | 14 +++++++++++++-
 3 files changed, 49 insertions(+), 28 deletions(-)

commit 3108d27edde941d153a58f71fb1096cce2995531
Author: Brahma Reddy Battula <brahma@apache.org>
Date:   Mon Jul 30 15:50:04 2018 +0530

    HDFS-12716. 'dfs.datanode.failed.volumes.tolerated' to support minimum number of volumes to be available. Contributed by Ranith Sardar and usharani

 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/DataNode.java                            |  7 +++++--
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/checker/DatasetVolumeChecker.java        |  6 ++++--
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/checker/StorageLocationChecker.java      | 28 ++++++++++++++++++++--------
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/fsdataset/impl/FsDatasetImpl.java        | 40 ++++++++++++++++++++++++++++++++--------
 hadoop-hdfs-project/hadoop-hdfs/src/main/resources/hdfs-default.xml                                                           |  2 ++
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/datanode/TestDataNodeVolumeFailureToleration.java |  6 +++++-
 6 files changed, 68 insertions(+), 21 deletions(-)

commit 63e08ec071852640babea9e39780327a0907712a
Author: Sunil G <sunilg@apache.org>
Date:   Mon Jul 30 14:48:04 2018 +0530

    YARN-8591. [ATSv2] NPE while checking for entity acl in non-secure cluster. Contributed by Rohith Sharma K S.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice/src/main/java/org/apache/hadoop/yarn/server/timelineservice/reader/TimelineReaderWebServices.java             | 3 ++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice/src/test/java/org/apache/hadoop/yarn/server/timelineservice/reader/TestTimelineReaderWebServicesBasicAcl.java | 4 ++++
 2 files changed, 6 insertions(+), 1 deletion(-)

commit 0857f116b754d83d3c540cd6f989087af24fef27
Author: Sammi Chen <sammi.chen@intel.com>
Date:   Mon Jul 30 10:53:44 2018 +0800

    HADOOP-15607. AliyunOSS: fix duplicated partNumber issue in AliyunOSSBlockOutputStream. Contributed by Jinhu Wu.

 hadoop-tools/hadoop-aliyun/src/main/java/org/apache/hadoop/fs/aliyun/oss/AliyunOSSBlockOutputStream.java     | 59 ++++++++++++++++++++++++++++++++++++-----------------------
 hadoop-tools/hadoop-aliyun/src/main/java/org/apache/hadoop/fs/aliyun/oss/AliyunOSSFileSystemStore.java       |  2 ++
 hadoop-tools/hadoop-aliyun/src/test/java/org/apache/hadoop/fs/aliyun/oss/TestAliyunOSSBlockOutputStream.java | 12 +++++++++++-
 3 files changed, 49 insertions(+), 24 deletions(-)

commit 007e6f51135adb5864f6bfc258010fd09576387b
Author: Bharat Viswanadham <bharat@apache.org>
Date:   Sat Jul 28 14:50:43 2018 -0700

    HDDS-248. Refactor DatanodeContainerProtocol.proto Contributed by Hanisha Koneru.

 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/storage/ContainerProtocolCalls.java                                                    | 37 +++++++++++++++++++++++++------------
 hadoop-hdds/common/src/main/proto/DatanodeContainerProtocol.proto                                                                                  | 96 +++++++++++++++++++++++++++++++++++++++++++++---------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/HddsDispatcher.java                                      | 51 ++++-----------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/CloseContainerCommandHandler.java |  8 +++-----
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/ContainerStateMachine.java             |  6 ++----
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueContainerData.java                                  |  9 ---------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueHandler.java                                        | 16 +++++-----------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/OzoneContainer.java                                        |  2 +-
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/keyvalue/TestKeyValueHandler.java                                    | 12 ++++++++++--
 hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/container/InfoContainerHandler.java                                                 |  1 -
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/ContainerTestHelper.java                                             | 59 +++++++++++++++++++++++++++++++++--------------------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/impl/TestCloseContainerHandler.java                           | 18 +++++++++---------
 hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/genesis/BenchMarkDatanodeDispatcher.java                                                  | 19 +++++++++++--------
 13 files changed, 148 insertions(+), 186 deletions(-)

commit feb795b58d2a3c20bdbddea1638a83f6637d3fc9
Author: Mukul Kumar Singh <msingh@apache.org>
Date:   Sun Jul 29 01:02:24 2018 +0530

    HDDS-273. DeleteLog entries should be purged only after corresponding DNs commit the transaction. Contributed by Lokesh Jain.

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/DeleteBlocksCommandHandler.java |  12 ++++++++----
 hadoop-hdds/container-service/src/main/proto/StorageContainerDatanodeProtocol.proto                                                              |   4 +++-
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/BlockManagerImpl.java                                                      |   2 +-
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/DatanodeDeletedBlockTransactions.java                                      |  47 ++++++++++++++++++++++++++++-------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/DeletedBlockLog.java                                                       |  23 ++++++++---------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/DeletedBlockLogImpl.java                                                   | 123 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++---------------------------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMDatanodeProtocolServer.java                                            |  19 +++----------------
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/block/TestDeletedBlockLog.java                                                   | 232 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++---------------------------------------------------------------------------------------------------------
 8 files changed, 256 insertions(+), 206 deletions(-)

commit 6b038f82da8fa8c1c4f1e1bf448eacc6dd523044
Author: Mukul Kumar Singh <msingh@apache.org>
Date:   Sat Jul 28 22:04:11 2018 +0530

    HDDS-246. Datanode should throw BlockNotCommittedException for uncommitted blocks to Ozone Client. Contributed by Shashikant Banerjee.

 hadoop-hdds/common/src/main/proto/DatanodeContainerProtocol.proto                                                    |  1 +
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/OpenContainerBlockMap.java | 12 ++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueHandler.java          | 12 +++++++++---
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/scm/TestCommittedBlockLengthAPI.java             | 45 +++++++++++++++++++++++++++++++++++----------
 4 files changed, 57 insertions(+), 13 deletions(-)

commit 3d586841aba99c7df98b2b4d3e48ec0144bad086
Author: bibinchundatt <bibinchundatt@apache.org>
Date:   Sat Jul 28 20:52:39 2018 +0530

    YARN-8558. NM recovery level db not cleaned up properly on container finish. Contributed by Bibin A Chundatt.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/recovery/NMLeveldbStateStoreService.java     | 14 ++++++++++----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/recovery/TestNMLeveldbStateStoreService.java |  7 +++++++
 2 files changed, 17 insertions(+), 4 deletions(-)

commit 59adeb8d7f2f04bc56d37b2a2e65596fee6e4894
Author: Sean Mackrory <mackrorysd@apache.org>
Date:   Thu Jul 26 10:25:47 2018 -0600

    HADOOP-15636. Follow-up from HADOOP-14918; restoring test under new name. Contributed by Gabor Bota.

 hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/s3guard/ITestDynamoDBMetadataStore.java | 649 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 649 insertions(+)

commit ed9d60e888d0acfd748fda7f66249f5b79a3ed6d
Author: Eric Yang <eyang@apache.org>
Date:   Fri Jul 27 19:33:58 2018 -0400

    YARN-8508.  Release GPU resource for killed container.
                Contributed by Chandni Singh

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/LinuxContainerExecutor.java     | 34 +++++++++++++++++-----------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/TestLinuxContainerExecutor.java |  9 ++++++++-
 2 files changed, 25 insertions(+), 18 deletions(-)

commit 79091cf76f6e966f64ac1d65e43e95782695e678
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Fri Jul 27 15:23:57 2018 -0700

    YARN-8596. Allow SQLFederationStateStore to submit the same app in the same subcluster. Contributed by Giovanni Matteo Fumarola.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/federation/store/impl/SQLFederationStateStore.java      | 14 +++++++-------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/test/java/org/apache/hadoop/yarn/server/federation/store/impl/FederationStateStoreBaseTest.java | 19 +++++++++++++++++++
 2 files changed, 26 insertions(+), 7 deletions(-)

commit 2cccf4061cc4021c48e29879700dbc94f832b7d1
Author: Robert Kanter <rkanter@apache.org>
Date:   Fri Jul 27 14:35:03 2018 -0700

    YARN-8517. getContainer and getContainers ResourceManager REST API methods are not documented (snemeth via rkanter)

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/exceptions/InvalidResourceRequestException.java                                                |  36 ++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/DefaultAMSProcessor.java          |  23 +++++++++++++++++++++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/SchedulerUtils.java     |  55 +++++++++++++++++++++++++++++++++++++++----------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/TestSchedulerUtils.java | 630 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 4 files changed, 430 insertions(+), 314 deletions(-)

commit fecbac499e2ae6b3334773a997d454a518f43e01
Author: Robert Kanter <rkanter@apache.org>
Date:   Fri Jul 27 14:32:34 2018 -0700

    YARN-8566. Add diagnostic message for unschedulable containers (snemeth via rkanter)

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/ResourceManagerRest.md | 285 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 285 insertions(+)

commit b429f19d32d8f60a3535e047ef10cfb3edeb54c8
Author: Billie Rinaldi <billie@apache.org>
Date:   Fri Jul 27 11:30:19 2018 -0700

    YARN-8571. Validate service principal format prior to launching yarn service. Contributed by Eric Yang

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/exceptions/RestApiErrorMessages.java |  4 ++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/utils/ServiceApiUtil.java            | 10 ++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/test/java/org/apache/hadoop/yarn/service/TestServiceApiUtil.java              | 25 +++++++++++++++++++++++++
 3 files changed, 39 insertions(+)

commit 1c40bc283645db5a661dc9f004a0bf34832a0902
Author: Arpit Agarwal <arp@apache.org>
Date:   Fri Jul 27 10:14:01 2018 -0700

    HDFS-13765. Fix javadoc for FSDirMkdirOp#createParentDirectories. Contributed by Lokesh Jain.

 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirMkdirOp.java | 5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit 3cc7ce816e4ffb7287aa05cc5e00b2e058b4a2a4
Author: Anu Engineer <aengineer@apache.org>
Date:   Fri Jul 27 07:12:21 2018 -0700

    HDDS-270. Move generic container util functions to ContianerUtils.
    Contributed by Hanisha Koneru.

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/helpers/ContainerUtils.java                  | 34 ++++++++++++++++++++--------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/interfaces/Container.java                    |  6 ++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueContainer.java                     | 22 +++++++++++++++-------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/helpers/KeyValueContainerLocationUtil.java | 17 -----------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/ContainerReader.java                      | 27 +++++++++------------------
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/keyvalue/TestKeyValueContainer.java                 | 24 +++++++-----------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/impl/TestContainerPersistence.java           | 13 +++++--------
 7 files changed, 62 insertions(+), 81 deletions(-)

commit 64e739e344ac474046d4f4ecf0865dd92be13762
Author: Anu Engineer <aengineer@apache.org>
Date:   Fri Jul 27 06:11:56 2018 -0700

    HDFS-13727. Log full stack trace if DiskBalancer exits with an unhandled exception.
    Contributed by Gabor Bota.

 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/DiskBalancerCLI.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 8d3c068e59fdddd18e3f8260713fee83c458aa1d
Author: Eric Yang <eyang@apache.org>
Date:   Thu Jul 26 20:02:13 2018 -0400

    YARN-8429. Improve diagnostic message when artifact is not set properly.
               Contributed by Gour Saha

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/exceptions/RestApiErrorMessages.java            |  6 +++++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/provider/AbstractClientProvider.java            | 14 +++++++-------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/provider/defaultImpl/DefaultClientProvider.java | 22 ++++++++++++++--------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/provider/docker/DockerClientProvider.java       | 15 ++++++++-------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/provider/tarball/TarballClientProvider.java     | 27 +++++++++++++++------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/utils/ServiceApiUtil.java                       |  4 ++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/test/java/org/apache/hadoop/yarn/service/TestServiceApiUtil.java                         |  9 ++++++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/test/java/org/apache/hadoop/yarn/service/providers/TestAbstractClientProvider.java       | 29 +++++++++++++++--------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/test/java/org/apache/hadoop/yarn/service/providers/TestDefaultClientProvider.java        | 66 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 9 files changed, 138 insertions(+), 54 deletions(-)

commit 77721f39e26b630352a1f4087524a3fbd21ff06e
Author: Eric Yang <eyang@apache.org>
Date:   Thu Jul 26 18:35:36 2018 -0400

    HADOOP-15593.  Fixed NPE in UGI spawnAutoRenewalThreadForUserCreds.
                   Contributed by Gabor Bota

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/UserGroupInformation.java     | 179 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++---------------------------------------------------------------------
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestUserGroupInformation.java |  38 ++++++++++++++++++++++++++++++++++++++
 2 files changed, 148 insertions(+), 69 deletions(-)

commit 40fad32824d2f8f960c779d78357e62103453da0
Author: Eric Yang <eyang@apache.org>
Date:   Thu Jul 26 18:22:57 2018 -0400

    YARN-8545.  Return allocated resource to RM for failed container.
                Contributed by Chandni Singh

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/ServiceScheduler.java                          |  3 ++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/component/Component.java                       | 42 ++++++++++++++++++++++++------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/component/instance/ComponentInstance.java      | 21 +++++++++++++++------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/component/instance/ComponentInstanceEvent.java |  2 ++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/containerlaunch/ContainerLaunchService.java    | 12 +++++++++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/test/java/org/apache/hadoop/yarn/service/MockServiceAM.java                             | 34 +++++++++++++++++++++++++++++++++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/test/java/org/apache/hadoop/yarn/service/TestServiceAM.java                             | 35 +++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/test/java/org/apache/hadoop/yarn/service/component/TestComponent.java                   |  3 ++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/test/java/org/apache/hadoop/yarn/service/component/instance/TestComponentInstance.java  | 26 +++++++++++++-------------
 9 files changed, 135 insertions(+), 43 deletions(-)

commit d70d84570575574b7e3ad0f00baf54f1dde76d97
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Thu Jul 26 13:17:37 2018 -0700

    HDDS-291. Initialize hadoop metrics system in standalone hdds datanodes. Contributed by Elek Marton.

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/HddsDatanodeService.java                                | 2 ++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/SCMConnectionManager.java | 2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit fd31cb6cfeef0c7e9bb0a054cb0f78853df8976f
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Thu Jul 26 13:15:27 2018 -0700

    HDDS-277. PipelineStateMachine should handle closure of pipelines in SCM. Contributed by Mukul Kumar Singh.

 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/container/common/helpers/ContainerInfo.java         |   7 ++++---
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/CloseContainerEventHandler.java       |  28 +++++++++++++++++++---------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerMapping.java                 |  16 ++++++++++++----
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerStateManager.java            |  11 +++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/states/ContainerStateMap.java         |   2 +-
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/Node2PipelineMap.java                 |  33 +++++++++++++++++++++------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/PipelineManager.java                  |  31 +++++++++++++++++++------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/PipelineSelector.java                 |  70 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++----------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/ratis/RatisManagerImpl.java           |  14 ++++++++------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/standalone/StandaloneManagerImpl.java |  13 +++++++------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/StorageContainerManager.java             |   2 +-
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/block/TestBlockManager.java                     |   4 +++-
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/TestCloseContainerEventHandler.java   |  13 ++-----------
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/TestContainerMapping.java             |   4 +++-
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/closer/TestContainerCloser.java       |   4 +++-
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/node/TestContainerPlacement.java                |   3 ++-
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/hdds/scm/pipeline/TestPipelineClose.java          | 152 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/scm/TestContainerSQLCli.java                |   4 +++-
 18 files changed, 331 insertions(+), 80 deletions(-)

commit be150a17b15d15f5de6d4839d5e805e8d6c57850
Author: Xiao Chen <xiao@apache.org>
Date:   Thu Jul 26 10:23:30 2018 -0700

    HDFS-13622. mkdir should print the parent directory in the error message when parent directories do not exist. Contributed by Shweta.

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/shell/Mkdir.java | 13 ++++++++-----
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestDFSShell.java  |  8 ++++++++
 hadoop-hdfs-project/hadoop-hdfs/src/test/resources/testHDFSConf.xml                     |  4 ++--
 3 files changed, 18 insertions(+), 7 deletions(-)

commit a19229594e48fad9f50dbdb1f0b2fcbf7443ce66
Author: Nanda kumar <nanda@apache.org>
Date:   Thu Jul 26 19:00:23 2018 +0530

    HDDS-201. Add name for LeaseManager. Contributed by Sandeep Nemuri.

 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/lease/LeaseManager.java                                  | 14 +++++++++-----
 hadoop-hdds/common/src/test/java/org/apache/hadoop/ozone/lease/TestLeaseManager.java                              | 21 ++++++++++-----------
 hadoop-hdds/framework/src/test/java/org/apache/hadoop/hdds/server/events/TestEventWatcher.java                    |  2 +-
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerMapping.java                   |  4 ++--
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/PipelineSelector.java                   |  4 ++--
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/StorageContainerManager.java               |  3 ++-
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/replication/TestReplicationManager.java |  4 ++--
 7 files changed, 28 insertions(+), 24 deletions(-)

commit 9089790cabb4771198be0fe64c1317a3ff1c80f1
Author: Yiqun Lin <yqlin@apache.org>
Date:   Thu Jul 26 18:08:28 2018 +0800

    HADOOP-15611. Log more details for FairCallQueue. Contributed by Ryan Wu.

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/DecayRpcScheduler.java             | 8 ++++++++
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/WeightedRoundRobinMultiplexer.java | 3 +++
 2 files changed, 11 insertions(+)

commit f93ecf5c1e0b3db27424963814fc01ec43eb76e0
Author: Eric Yang <eyang@apache.org>
Date:   Wed Jul 25 18:49:30 2018 -0400

    YARN-8330.  Improved publishing ALLOCATED events to ATS.
                Contributed by Suma Shivaprasad

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmcontainer/RMContainerImpl.java     | 64 +++++++++++++++++++++++++++++++++++-----------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/rmcontainer/TestRMContainerImpl.java | 11 ++++++++---
 2 files changed, 43 insertions(+), 32 deletions(-)

commit e95c5e9f62452ee848875ec2f8642eab4992cd23
Author: Wei-Chiu Chuang <weichiu@apache.org>
Date:   Wed Jul 25 11:04:18 2018 -0700

    HDFS-11060. make DEFAULT_MAX_CORRUPT_FILEBLOCKS_RETURNED configurable. Contributed by Lantao Jin.

 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DFSConfigKeys.java                             | 3 +++
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java              | 8 ++++++--
 hadoop-hdfs-project/hadoop-hdfs/src/main/resources/hdfs-default.xml                                                 | 9 +++++++++
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/TestListCorruptFileBlocks.java | 2 +-
 4 files changed, 19 insertions(+), 3 deletions(-)

commit 9485c9aee6e9bb935c3e6ae4da81d70b621781de
Author: Eric E Payne <ericp@oath.com>
Date:   Wed Jul 25 16:22:04 2018 +0000

    YARN-4606. CapacityScheduler: applications could get starved because computation of #activeUsers considers pending apps. Contributed by Manikandan R

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/UsersManager.java            |  27 ++++++++++++++++++++++++++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/TestCapacityScheduler.java   | 128 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/TestContainerAllocation.java |  43 +++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 197 insertions(+), 1 deletion(-)

commit 5f0b924360b345f491c2d6693882f1069c7f3508
Author: Mukul Kumar Singh <msingh@apache.org>
Date:   Wed Jul 25 21:09:11 2018 +0530

    HADOOP-15395. DefaultImpersonationProvider fails to parse proxy user config if username has . in it. Contributed by Ajay Kumar.

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/authorize/DefaultImpersonationProvider.java     |   4 ++--
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/authorize/TestDefaultImpersonationProvider.java | 100 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 102 insertions(+), 2 deletions(-)

commit 3c4fbc635e8ed81cfbec00793a3767bb47f6d176
Author: Nanda kumar <nanda@apache.org>
Date:   Wed Jul 25 20:27:03 2018 +0530

    HDDS-288. Fix bugs in OpenContainerBlockMap. Contributed by Tsz Wo Nicholas Sze.

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/OpenContainerBlockMap.java     | 139 ++++++++++++++++++++++++++++++++++++++++++++++++++++++-------------------------------------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueHandler.java              |  10 ++++------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/impl/TestCloseContainerHandler.java |  30 +++++++++++++++---------------
 3 files changed, 73 insertions(+), 106 deletions(-)

commit 3d3158cea4580eb2e3b2af635c3a7d30f4dbb873
Author: bibinchundatt <bibinchundatt@apache.org>
Date:   Wed Jul 25 16:19:14 2018 +0530

    YARN-8577. Fix the broken anchor in SLS site-doc. Contributed by Weiwei Yang.

 hadoop-tools/hadoop-sls/src/site/markdown/SchedulerLoadSimulator.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b507f83e15b47163724d550dfeb41627f26fd551
Author: Nanda kumar <nanda@apache.org>
Date:   Wed Jul 25 18:55:26 2018 +0530

    HDDS-266. Integrate checksum into .container file. Contributed by Hanisha Koneru.

 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/OzoneConsts.java                                                         |   2 +-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/helpers/ContainerUtils.java                  |  59 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++--
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerData.java                      |  66 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerDataYaml.java                  |  98 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++--------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueContainer.java                     | 121 ++++++++++++++++++++++++++++++++++++-------------------------------------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueContainerData.java                 |  30 ++++++++++++------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/helpers/KeyValueContainerLocationUtil.java |  32 ++++++++------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/helpers/KeyValueContainerUtil.java         | 130 ++++++++++++++++++++--------------------------------------------------------------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/ContainerReader.java                      |  92 +++++++++++++++++++++++++++++++++++++++++++++++++++-----------------------------------------
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/impl/TestContainerDataYaml.java              | 107 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++----------------------------
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/keyvalue/TestKeyValueContainer.java                 |  21 ++++++++-------------
 hadoop-hdds/container-service/src/test/resources/additionalfields.container                                                       |   3 ++-
 hadoop-hdds/container-service/src/test/resources/incorrect.checksum.container                                                     |  11 +++++++++++
 hadoop-hdds/container-service/src/test/resources/incorrect.container                                                              |   3 ++-
 hadoop-hdds/pom.xml                                                                                                               |   1 +
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/impl/TestContainerPersistence.java           |   8 ++++----
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/ozoneimpl/TestOzoneContainer.java                   |   7 +++++++
 17 files changed, 430 insertions(+), 361 deletions(-)

commit 43db0cb518375eb767401fa525ea6b5026ed9a8a
Author: Nanda kumar <nanda@apache.org>
Date:   Wed Jul 25 18:11:35 2018 +0530

    HDDS-285. Create a generic Metadata Iterator. Contributed by Bharat Viswanadham.

 hadoop-hdds/common/src/main/java/org/apache/hadoop/utils/LevelDBStore.java         |   5 +++++
 hadoop-hdds/common/src/main/java/org/apache/hadoop/utils/LevelDBStoreIterator.java |  64 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/common/src/main/java/org/apache/hadoop/utils/MetaStoreIterator.java    |  39 +++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/common/src/main/java/org/apache/hadoop/utils/MetadataStore.java        |  55 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/common/src/main/java/org/apache/hadoop/utils/RocksDBStore.java         |   5 +++++
 hadoop-hdds/common/src/main/java/org/apache/hadoop/utils/RocksDBStoreIterator.java |  66 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/common/src/test/java/org/apache/hadoop/utils/TestMetadataStore.java    | 206 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++--------------------------------------------------------------------------
 7 files changed, 366 insertions(+), 74 deletions(-)

commit 5be9f4a5d05c9cb99348719fe35626b1de3055db
Author: Weiwei Yang <wwei@apache.org>
Date:   Wed Jul 25 17:35:27 2018 +0800

    YARN-8546. Resource leak caused by a reserved container being released more than once under async scheduling. Contributed by Tao Yang.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/common/fica/FiCaSchedulerApp.java                  | 15 +++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/TestCapacitySchedulerAsyncScheduling.java | 89 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 104 insertions(+)

commit 955f795101c1a0ae176b4cebda3ffbe9850dd687
Author: Mukul Kumar Singh <msingh@apache.org>
Date:   Wed Jul 25 14:15:54 2018 +0530

    HDDS-203. Add getCommittedBlockLength API in datanode. Contributed by Shashikant Banerjee.

 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/client/BlockID.java                                       |  20 +++++++++++++++++++-
 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/storage/ContainerProtocolCalls.java                   |  28 ++++++++++++++++++++++++++++
 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/container/common/helpers/KeyData.java                    |  27 ++++++++++++++++++++++++++-
 hadoop-hdds/common/src/main/proto/DatanodeContainerProtocol.proto                                                 |  17 ++++++++++++++---
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/HddsDispatcher.java     |   2 ++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueHandler.java       |  34 ++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/helpers/KeyUtils.java      |  20 ++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/impl/KeyManagerImpl.java   |  27 +++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/interfaces/KeyManager.java |   7 +++++++
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/scm/TestCommittedBlockLengthAPI.java          | 191 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 10 files changed, 368 insertions(+), 5 deletions(-)

commit 81d59506e539673edde12e19c0df5c2edd9d02ad
Author: Xiao Chen <xiao@apache.org>
Date:   Tue Jul 24 21:45:14 2018 -0700

    HADOOP-15609. Retry KMS calls when SSLHandshakeException occurs. Contributed by Kitti Nanasi.

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/crypto/key/kms/LoadBalancingKMSClientProvider.java     | 17 +++++++++++++----
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/crypto/key/kms/TestLoadBalancingKMSClientProvider.java | 79 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 92 insertions(+), 4 deletions(-)

commit 26864471c24bf389ab8fc913decc3d069404688b
Author: Xiao Chen <xiao@apache.org>
Date:   Tue Jul 24 21:42:00 2018 -0700

    HDFS-13761. Add toString Method to AclFeature Class. Contributed by Shweta.

 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/AclFeature.java | 5 +++++
 1 file changed, 5 insertions(+)

commit 849c45db187224095b13fe297a4d7377fbb9d2cd
Author: Daniel Templeton <templedf@apache.org>
Date:   Tue Jul 24 15:34:19 2018 -0700

    HDFS-13448. HDFS Block Placement - Ignore Locality for First Block Replica
    (Contributed by BELUGA BEHR via Daniel Templeton)
    
    Change-Id: I965d1cfa642ad24296038b83e3d5c9983545267d

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/CreateFlag.java                                       |  9 ++++++++-
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/AddBlockFlag.java                                | 11 ++++++++++-
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/DFSOutputStream.java                             |  3 +++
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/DistributedFileSystem.java                       | 11 +++++++++++
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/proto/ClientNamenodeProtocol.proto                                           |  1 +
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/BlockPlacementPolicyDefault.java |  4 +++-
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirWriteFileOp.java                   | 30 +++++++++++++++++++-----------
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/TestFSDirWriteFileOp.java               | 79 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 8 files changed, 134 insertions(+), 14 deletions(-)

commit 6bec03cfc8bdcf6aa3df9c22231ab959ba31f2f5
Author: Gera Shegalov <gera@apache.org>
Date:   Tue Jul 17 00:05:39 2018 -0700

    HADOOP-15612. Improve exception when tfile fails to load LzoCodec. (gera)

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/file/tfile/Compression.java     | 31 ++++++++++++++++++++-----------
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/io/file/tfile/TestCompression.java | 34 +++++++++++++++++++++++++++++++++-
 2 files changed, 53 insertions(+), 12 deletions(-)

commit ea2c6c8c9a55813a19b3dbd0d29747d6a7739030
Author: Haibo Chen <haibochen@apache.org>
Date:   Tue Jul 24 12:46:15 2018 -0700

    YARN-7133. Clean up lock-try order in fair scheduler. (Szilard Nemeth via Haibo Chen)

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/FairScheduler.java | 36 ++++++++++++++++++------------------
 1 file changed, 18 insertions(+), 18 deletions(-)

commit e673dd1d4d78b66e7b6705ec6dc3679d2347d704
Author: bibinchundatt <bibinchundatt@apache.org>
Date:   Tue Jul 24 18:36:49 2018 +0530

    YARN-8541. RM startup failure on recovery after user deletion. Contributed by Bibin A Chundatt.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/RMAppManager.java                   | 48 ++++++++++++++++++++++++------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/placement/PlacementManager.java     |  9 ---------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/TestWorkPreservingRMRestart.java    | 48 ++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/placement/TestPlacementManager.java | 20 ++++++++------------
 4 files changed, 80 insertions(+), 45 deletions(-)

commit cd0b9f13805affcc91a2cba42b176bb9031378eb
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Tue Jul 24 10:16:53 2018 -0700

    HDDS-282. Consolidate logging in scm/container-service. Contributed by Elek Marton.

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/EndpointStateMachine.java              | 4 ++--
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/states/endpoint/RegisterEndpointTask.java           | 3 +--
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/statemachine/background/BlockDeletingService.java | 8 +++++---
 hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/EventQueue.java                                                 | 3 +--
 hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/TypedEvent.java                                                 | 6 ++++--
 5 files changed, 13 insertions(+), 11 deletions(-)

commit 35ce6eb1f526ce3db7e015fb1761eee15604100c
Author: Sunil G <sunilg@apache.org>
Date:   Tue Jul 24 22:20:06 2018 +0530

    YARN-7748. TestContainerResizing.testIncreaseContainerUnreservedWhenApplicationCompleted fails due to multiple container fail events. Contributed by Weiwei Yang.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/TestContainerResizing.java | 18 +++++++++++++-----
 1 file changed, 13 insertions(+), 5 deletions(-)

commit 773d312f7412d5050c106ed3a1cd0d1934bfa2e0
Author: Mukul Kumar Singh <msingh@apache.org>
Date:   Tue Jul 24 21:23:20 2018 +0530

    HDDS-272. TestBlockDeletingService is failing with DiskOutOfSpaceException. Contributed by Lokesh Jain.

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueHandler.java                              |  2 +-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/statemachine/background/BlockDeletingService.java |  9 ++++-----
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/testutils/BlockDeletingServiceTestImpl.java                |  3 ++-
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/TestBlockDeletingService.java                       | 90 +++++++++++++++++++++++++++++++++++++++++++++++++++++-------------------------------------
 4 files changed, 60 insertions(+), 44 deletions(-)

commit ff7c2eda34c2c40ad71b50df6462a661bd213fbd
Author: bibinchundatt <bibinchundatt@apache.org>
Date:   Tue Jul 24 16:17:20 2018 +0530

    YARN-8548. AllocationRespose proto setNMToken initBuilder not done. Contributed by Bilwa S T.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/api/protocolrecords/impl/pb/AllocateResponsePBImpl.java                            |  1 +
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/TestProtos.java | 20 ++++++++++++++++++++
 2 files changed, 21 insertions(+)

commit 84612788339392fcda1aef0e27c43f5c6b2a19e5
Author: bibinchundatt <bibinchundatt@apache.org>
Date:   Tue Jul 24 13:09:17 2018 +0530

    YARN-8544. [DS] AM registration fails when hadoop authorization is enabled. Contributed by Bibin A Chundatt.

 hadoop-common-project/hadoop-common/src/main/conf/hadoop-policy.xml                                                                                                                                   | 20 ++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/dev-support/findbugs-exclude.xml                                                                                                                                      |  4 ++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/conf/YarnConfiguration.java                                                                                      |  7 +++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/test/java/org/apache/hadoop/yarn/conf/TestYarnConfigurationFields.java                                                                            |  4 ++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/amrmproxy/AMRMProxyService.java                             |  8 ++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/collectormanager/NMCollectorService.java                    |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/ContainerManagerImpl.java                  |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/localizer/ResourceLocalizationService.java |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/security/authorize/NMPolicyProvider.java                    | 25 +++++++++++++++++++++++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/security/authorize/RMPolicyProvider.java            |  3 +++
 10 files changed, 72 insertions(+), 5 deletions(-)

commit 16f9aee5f55bc37c1bb243708ee9b3f97e5a5b83
Author: Nanda kumar <nanda@apache.org>
Date:   Tue Jul 24 12:09:15 2018 +0530

    HDDS-262. Send SCM healthy and failed volumes in the heartbeat. Contributed by Bharat Viswanadham.

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/HddsVolume.java    | 81 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-----------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/VolumeSet.java     | 28 ++++++++++++++++++++++------
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/volume/TestVolumeSet.java | 35 +++++++++++++++++++++++++++++++----
 3 files changed, 111 insertions(+), 33 deletions(-)

commit 2ced3efe94eecc3e6076be1f0341bf6a2f2affab
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Mon Jul 23 21:29:44 2018 -0700

    HDDS-258. Helper methods to generate NodeReport and ContainerReport for testing. Contributed by Nanda Kumar.

 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java                                              |  27 +++++++++++----------------
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/TestUtils.java                                                        | 372 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-----------------------------------------------------------------------------------
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/command/TestCommandStatusReportHandler.java                           |   2 +-
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/MockNodeManager.java                                        |   4 ++--
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/TestContainerMapping.java                                   |   4 ++--
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/closer/TestContainerCloser.java                             |   2 +-
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/TestSCMContainerPlacementCapacity.java |   2 +-
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/TestSCMContainerPlacementRandom.java   |   2 +-
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/replication/TestReplicationManager.java                     |   7 ++++++-
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/node/TestContainerPlacement.java                                      |   4 ----
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/node/TestNodeManager.java                                             |  80 +++++++++++++++++++++++++++++++++++++++++---------------------------------------
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/node/TestNodeReportHandler.java                                       |  19 ++++++++-----------
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/node/TestSCMNodeStorageStatMap.java                                   |  13 ++++++-------
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/server/TestSCMDatanodeHeartbeatDispatcher.java                        |   4 ++--
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/ozone/container/common/TestEndPoint.java                                       |  74 +++++++++++++++++++++-----------------------------------------------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/TestMiniOzoneCluster.java                                         |  20 ++++++++++----------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/metrics/TestContainerMetrics.java                       |   2 +-
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/ozoneimpl/TestOzoneContainer.java                       |   2 +-
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/server/TestContainerServer.java                         |   4 ++--
 19 files changed, 406 insertions(+), 238 deletions(-)

commit 17a87977f29ced49724f561a68565217c8cb4e94
Author: Yiqun Lin <yqlin@apache.org>
Date:   Tue Jul 24 11:15:47 2018 +0800

    HDFS-13583. RBF: Router admin clrQuota is not synchronized with nameservice. Contributed by Dibyendu Karmakar.

 hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/router/Quota.java                           |  9 ++++++++-
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/router/RouterAdminServer.java               |  8 ++++++--
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/router/RouterQuotaManager.java              |  4 ++--
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/router/RouterQuotaUpdateService.java        |  2 +-
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/router/RouterQuotaUsage.java                |  4 ++--
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/store/records/MountTable.java               |  4 ++--
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/store/records/impl/pb/MountTablePBImpl.java |  4 ++--
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/tools/federation/RouterAdmin.java                             |  8 ++++----
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/test/java/org/apache/hadoop/hdfs/server/federation/router/TestRouterAdmin.java                 |  8 ++++++++
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/test/java/org/apache/hadoop/hdfs/server/federation/router/TestRouterAdminCLI.java              | 16 ++++++++++++----
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/test/java/org/apache/hadoop/hdfs/server/federation/router/TestRouterQuota.java                 | 26 +++++++++++++++++++++++---
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/test/java/org/apache/hadoop/hdfs/server/federation/router/TestRouterQuotaManager.java          | 20 ++++++++++----------
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/test/java/org/apache/hadoop/hdfs/server/federation/store/records/TestMountTable.java           |  4 ++--
 13 files changed, 82 insertions(+), 35 deletions(-)

commit 8688a0c7f88f2adf1a7fce695e06f3dd1f745080
Author: Eric Yang <eyang@apache.org>
Date:   Mon Jul 23 20:12:04 2018 -0400

    YARN-8380.  Support bind propagation options for mounts in docker runtime.
                Contributed by Billie Rinaldi

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/runtime/DockerLinuxContainerRuntime.java          |  37 ++++++++++++++++++++++++-------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/runtime/docker/DockerRunCommand.java              |  18 ++++++------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/native/container-executor/impl/utils/docker-util.c                                                                      | 196 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++----------------------------------------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/native/container-executor/test/utils/test_docker_util.cc                                                                | 133 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-----------------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/runtime/TestDockerContainerRuntime.java           | 259 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-----------------------------------------------------------------------------------------------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/resourceplugin/gpu/TestNvidiaDockerV1CommandPlugin.java |   2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/DockerContainers.md                                                                                                                             |  13 ++++++++-----
 7 files changed, 349 insertions(+), 309 deletions(-)

commit 17e26163ec1b71cd13a6a82150aca94283f10ed1
Author: Haibo Chen <haibochen@apache.org>
Date:   Mon Jul 23 11:18:25 2018 -0700

    HADOOP-15586. Fix wrong log statement in AbstractService. (Szilard Nemeth via Haibo Chen)

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/service/AbstractService.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9d3c39e9dd88b8f32223c01328581bb68507d415
Author: Haibo Chen <haibochen@apache.org>
Date:   Mon Jul 23 11:06:44 2018 -0700

    YARN-6966. NodeManager metrics may return wrong negative values when NM restart. (Szilard Nemeth via Haibo Chen)

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/ContainerManagerImpl.java                     |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/scheduler/ContainerScheduler.java             | 16 ++++++++++++----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/recovery/NMLeveldbStateStoreService.java                       | 32 +++++++++++++++++++-------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/recovery/NMNullStateStoreService.java                          |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/recovery/NMStateStoreService.java                              |  3 ++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/BaseContainerManagerTest.java                 |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/TestContainerManagerRecovery.java             | 57 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/scheduler/TestContainerSchedulerRecovery.java | 46 ++++++++++++++++++++++++++++++++++------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/metrics/TestNodeManagerMetrics.java                            |  4 ++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/recovery/NMMemoryStateStoreService.java                        | 16 ++++++++++++++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/recovery/TestNMLeveldbStateStoreService.java                   | 21 ++++++++++++++++++++-
 11 files changed, 163 insertions(+), 38 deletions(-)

commit 3a9e25edf53187f16ec9f9f6075e850b74b3b91f
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Mon Jul 23 10:13:53 2018 -0700

    HDDS-199. Implement ReplicationManager to handle underreplication of closed containers. Contributed by Elek Marton.

 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ScmConfigKeys.java                                                                                               |   7 +++++++
 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/OzoneConfigKeys.java                                                                                                |   1 +
 hadoop-hdds/common/src/main/resources/ozone-default.xml                                                                                                                      |  10 ++++++++++
 hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/EventWatcher.java                                                                                   |   4 ++--
 hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/TypedEvent.java                                                                                     |   5 +++++
 hadoop-hdds/framework/src/test/java/org/apache/hadoop/hdds/server/events/TestEventWatcher.java                                                                               |   6 ++----
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/ContainerPlacementPolicy.java                                                 |   5 ++++-
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMCommonPolicy.java                                                          |   8 ++++++--
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementCapacity.java                                            |  16 ++++++++++------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRandom.java                                              |   7 +++++--
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ReplicationCommandWatcher.java                                                         |  56 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ReplicationManager.java                                                                | 242 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/{container-service/src/main/java/org/apache/hadoop/ozone => server-scm/src/main/java/org/apache/hadoop/hdds/scm}/container/replication/ReplicationQueue.java     |  29 +++++++++++++----------------
 hadoop-hdds/{container-service/src/main/java/org/apache/hadoop/ozone => server-scm/src/main/java/org/apache/hadoop/hdds/scm}/container/replication/ReplicationRequest.java   |   3 ++-
 hadoop-hdds/{container-service/src/main/java/org/apache/hadoop/ozone => server-scm/src/main/java/org/apache/hadoop/hdds/scm}/container/replication/package-info.java         |   4 ++--
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/events/SCMEvents.java                                                                                        |  31 +++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/StorageContainerManager.java                                                                          |  42 +++++++++++++++++++++++++++++++++++++++++-
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/TestSCMContainerPlacementCapacity.java                                        | 106 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/TestSCMContainerPlacementRandom.java                                          |  86 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/replication/TestReplicationManager.java                                                            | 215 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/{container-service/src/test/java/org/apache/hadoop/ozone => server-scm/src/test/java/org/apache/hadoop/hdds/scm}/container/replication/TestReplicationQueue.java |  14 +++++++-------
 hadoop-hdds/{container-service/src/test/java/org/apache/hadoop/ozone => server-scm/src/test/java/org/apache/hadoop/hdds/scm}/container/replication/package-info.java         |   2 +-
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/ozone/container/placement/TestContainerPlacement.java                                                                 |   5 +++--
 23 files changed, 857 insertions(+), 47 deletions(-)

commit 84d7bf1eeff6b9418361afa4aa713e5e6f771365
Author: Eric Yang <eyang@apache.org>
Date:   Mon Jul 23 12:57:01 2018 -0400

    YARN-8360. Improve YARN service restart policy and node manager auto restart policy.
               Contributed by Suma Shivaprasad

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/component/AlwaysRestartPolicy.java        |  5 +++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/component/ComponentRestartPolicy.java     |  2 ++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/component/NeverRestartPolicy.java         |  5 +++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/component/OnFailureRestartPolicy.java     |  5 +++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/provider/AbstractProviderService.java     | 29 +++++++++++++++++------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/test/java/org/apache/hadoop/yarn/service/ServiceTestUtils.java                     |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/test/java/org/apache/hadoop/yarn/service/containerlaunch/TestAbstractLauncher.java | 66 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 7 files changed, 101 insertions(+), 13 deletions(-)

commit bbe2f6225ea500651de04c064f7b847be18e5b66
Author: Mukul Kumar Singh <msingh@apache.org>
Date:   Mon Jul 23 09:12:47 2018 +0530

    HDDS-181. CloseContainer should commit all pending open Keys on a datanode. Contributed by Shashikant Banerjee.

 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/container/common/helpers/KeyData.java                           |  20 +++++++++++++++++++-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/OpenContainerBlockMap.java     | 167 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueHandler.java              |  69 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-----------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/impl/TestCloseContainerHandler.java | 260 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 504 insertions(+), 12 deletions(-)

commit 9fa9e301b0471f38530a3cb596b00064436d311d
Author: Nanda kumar <nanda@apache.org>
Date:   Sat Jul 21 18:46:31 2018 +0530

    HDDS-249. Fail if multiple SCM IDs on the DataNode and add SCM ID check after version request. Contributed by Bharat Viswanadham.

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/states/endpoint/VersionEndpointTask.java | 27 ++++++++++++++++++++++-----
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/utils/HddsVolumeUtil.java                | 56 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/ContainerReader.java                  | 22 ++++++++++++++++------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/OzoneContainer.java                   |  2 +-
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/ScmTestMock.java                         | 27 +++++++++++++++++++++++++--
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/TestDatanodeStateMachine.java            | 14 ++++++++------
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/ozone/container/common/TestEndPoint.java                               | 49 +++++++++++++++++++++++++++++++++++++++++++++++++
 7 files changed, 177 insertions(+), 20 deletions(-)

commit 993ec026d10c7566fd358c022c061bca118c92f0
Author: Xiao Chen <xiao@apache.org>
Date:   Thu Jul 19 14:25:38 2018 -0700

    HADOOP-15596. Stack trace should not be printed out when running hadoop key commands. Contributed by Kitti Nanasi.

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/crypto/key/KeyShell.java                           | 32 +++++++++++++++++++++-----------
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/crypto/key/kms/LoadBalancingKMSClientProvider.java |  2 +-
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/tools/CommandShell.java                            |  6 +++++-
 3 files changed, 27 insertions(+), 13 deletions(-)

commit 1622a4b810eaf9c4fe9f9ad6bef6b49db7bec16f
Author: Eric Yang <eyang@apache.org>
Date:   Fri Jul 20 19:46:35 2018 -0400

    YARN-8301.  Added YARN service upgrade instructions.
                Contributed by Chandni Singh

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/yarn-service/Overview.md       |   4 +---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/yarn-service/ServiceUpgrade.md | 197 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 198 insertions(+), 3 deletions(-)

commit 347c9550135ea10fd84d5007124452bf5f2d6619
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Fri Jul 20 14:37:13 2018 -0700

    HDDS-260. Support in Datanode for sending ContainerActions to SCM. Contributed by Nanda kumar.

 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/HddsConfigKeys.java                                                         |   6 ++++++
 hadoop-hdds/common/src/main/resources/ozone-default.xml                                                                             |  10 ++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/StateContext.java                 |  55 ++++++++++++++++++++++++++++++++++++++++++++++---------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/states/endpoint/HeartbeatEndpointTask.java     |  33 ++++++++++++++++++++++++++++++++-
 hadoop-hdds/container-service/src/main/proto/StorageContainerDatanodeProtocol.proto                                                 |   4 ++--
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/report/TestReportPublisher.java                |  41 -----------------------------------------
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/states/endpoint/TestHeartbeatEndpointTask.java | 300 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/states/endpoint/package-info.java              |  18 ++++++++++++++++++
 8 files changed, 414 insertions(+), 53 deletions(-)

commit 9be25e347683d26e0575458c7f470c76fd4d951b
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Fri Jul 20 14:22:02 2018 -0700

    HDDS-239. Add PipelineStateManager to track pipeline state transition. Contributed by Mukul Kumar Singh.

 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ScmConfigKeys.java                                  |   5 +++++
 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/container/common/helpers/Pipeline.java              |   7 +++++++
 hadoop-hdds/common/src/main/resources/ozone-default.xml                                                         |  12 ++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerMapping.java                 |   4 ++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/exceptions/SCMException.java                    |   1 +
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/PipelineManager.java                  |  64 ++++++++++++++++++++++++++++------------------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/PipelineSelector.java                 | 212 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/ratis/RatisManagerImpl.java           |  33 ++++++++++-----------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/standalone/StandaloneManagerImpl.java |  21 +++++----------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/hdds/scm/pipeline/TestNode2PipelineMap.java       |  14 ++++++++++++++
 10 files changed, 273 insertions(+), 100 deletions(-)

commit d2acf8d560950f06ffbf5c217fbfab76cd70d5da
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Fri Jul 20 14:20:18 2018 -0700

    Revert "HDDS-239. Add PipelineStateManager to track pipeline state transition. Contributed by Mukul Kumar Singh."
    
    This reverts commit 6837121a43231f854b0b22ad20330012439313ce.(Mixed with HDDS-260)

 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ScmConfigKeys.java                                                      |   5 -----
 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/container/common/helpers/Pipeline.java                                  |   7 -------
 hadoop-hdds/common/src/main/resources/ozone-default.xml                                                                             |  12 ------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/StateContext.java                 |  52 ++--------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/states/endpoint/HeartbeatEndpointTask.java     |  24 +-----------------------
 hadoop-hdds/container-service/src/main/proto/StorageContainerDatanodeProtocol.proto                                                 |   4 ++--
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/report/TestReportPublisher.java                |  41 +++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/states/endpoint/TestHeartbeatEndpointTask.java | 302 --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/states/endpoint/package-info.java              |  18 ------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerMapping.java                                     |   4 ----
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/exceptions/SCMException.java                                        |   1 -
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/PipelineManager.java                                      |  64 ++++++++++++++++++++++++++++++++++++----------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/PipelineSelector.java                                     | 212 +++++++++++++++++++++++++-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/ratis/RatisManagerImpl.java                               |  33 +++++++++++++++++++++++----------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/standalone/StandaloneManagerImpl.java                     |  21 ++++++++++++++++-----
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/hdds/scm/pipeline/TestNode2PipelineMap.java                           |  14 --------------
 16 files changed, 146 insertions(+), 668 deletions(-)

commit c7ae55675ed56cb18266425c02674a5a87561e0c
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Fri Jul 20 13:12:07 2018 -0700

    HDDS-275. Add message output for succeeded -deleteVolume CLI. Contributed by Nilotpal Nandi.

 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/ozShell/TestOzoneShell.java              | 2 ++
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/web/ozShell/volume/DeleteVolumeHandler.java | 1 +
 2 files changed, 3 insertions(+)

commit 6837121a43231f854b0b22ad20330012439313ce
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Fri Jul 20 13:03:25 2018 -0700

    HDDS-239. Add PipelineStateManager to track pipeline state transition. Contributed by Mukul Kumar Singh.

 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ScmConfigKeys.java                                                      |   5 +++++
 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/container/common/helpers/Pipeline.java                                  |   7 +++++++
 hadoop-hdds/common/src/main/resources/ozone-default.xml                                                                             |  12 ++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/StateContext.java                 |  52 ++++++++++++++++++++++++++++++++++++++++++++++++++--
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/states/endpoint/HeartbeatEndpointTask.java     |  24 +++++++++++++++++++++++-
 hadoop-hdds/container-service/src/main/proto/StorageContainerDatanodeProtocol.proto                                                 |   4 ++--
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/report/TestReportPublisher.java                |  41 -----------------------------------------
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/states/endpoint/TestHeartbeatEndpointTask.java | 302 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/states/endpoint/package-info.java              |  18 ++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerMapping.java                                     |   4 ++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/exceptions/SCMException.java                                        |   1 +
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/PipelineManager.java                                      |  64 ++++++++++++++++++++++++++++------------------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/PipelineSelector.java                                     | 212 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/ratis/RatisManagerImpl.java                               |  33 ++++++++++-----------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/standalone/StandaloneManagerImpl.java                     |  21 +++++----------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/hdds/scm/pipeline/TestNode2PipelineMap.java                           |  14 ++++++++++++++
 16 files changed, 668 insertions(+), 146 deletions(-)

commit ba25d27ddb8d32abf5e1314a51eec7cad789b316
Author: Bharat Viswanadham <bharat@apache.org>
Date:   Fri Jul 20 12:41:52 2018 -0700

    HDDS-257. Hook up VolumeSet#shutdown from HddsDispatcher#shutdown. Contributed by Hanisha Koneru

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/HddsDispatcher.java  |  2 ++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/HddsVolume.java    |  2 --
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/VolumeInfo.java    |  8 ++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/VolumeSet.java     | 18 +++++++++++++++++-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/VolumeUsage.java   | 17 -----------------
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/volume/TestVolumeSet.java | 26 +++++++++++++++++++++++---
 6 files changed, 50 insertions(+), 23 deletions(-)

commit de894d34f6739685f32cd63a0e26b0e45bcf5c8c
Author: Hanisha Koneru <hanishakoneru@apache.org>
Date:   Fri Jul 20 11:36:42 2018 -0700

    HDDS-250. Cleanup ContainerData.

 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/OzoneConsts.java                                                                |  5 +----
 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/Storage.java                                                             |  2 +-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/helpers/ContainerUtils.java                         | 21 ---------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerData.java                             | 64 ++++++----------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueContainer.java                            |  6 +++---
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueContainerData.java                        | 56 +++++++++++++++-----------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/helpers/KeyValueContainerLocationUtil.java        | 18 ++++++++++--------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/statemachine/background/BlockDeletingService.java |  8 ++++----
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/ContainerReader.java                             | 30 +++++++++++++++---------------
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/impl/TestContainerDataYaml.java                     |  4 ++--
 hadoop-hdds/container-service/src/test/resources/additionalfields.container                                                              |  4 ++--
 hadoop-hdds/container-service/src/test/resources/incorrect.container                                                                     |  4 ++--
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/impl/TestContainerPersistence.java                  | 15 ++++++++++-----
 13 files changed, 71 insertions(+), 166 deletions(-)

commit 89a0f80741beb5a998f143849e797d780332048b
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Fri Jul 20 11:03:33 2018 -0700

    HDDS-256. Adding CommandStatusReport Handler. Contributed by Ajay Kumar.

 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/command/CommandStatusReportHandler.java     | 129 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/command/package-info.java                   |  26 ++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/events/SCMEvents.java                       |  24 ++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/StorageContainerManager.java         |   4 ++++
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/TestUtils.java                              |  18 ++++++++++++++++++
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/command/TestCommandStatusReportHandler.java | 137 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/command/package-info.java                   |  22 ++++++++++++++++++++++
 7 files changed, 360 insertions(+)

commit 8a6bb8409c2dc695c0ffc70df0528d7f8bd5d795
Author: Haibo Chen <haibochen@apache.org>
Date:   Fri Jul 20 10:46:28 2018 -0700

    YARN-6964. Fair scheduler misuses Resources operations. (Daniel Templeton and Szilard Nemeth via Haibo Chen)

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/util/resource/Resources.java                                                                                          | 20 +++++++++++++++++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/SchedulerApplicationAttempt.java                  | 11 +++--------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/allocator/RegularContainerAllocator.java |  4 ++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/AllocationConfiguration.java                 |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/FSAppAttempt.java                            |  3 +--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/FSLeafQueue.java                             |  9 +++++----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/policies/FairSharePolicy.java                | 76 +++++++++++++++++++++++++++++++++++++++-------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/TestSchedulerApplicationAttempt.java              | 58 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/FakeSchedulable.java                         | 22 ++++++++++++++--------
 9 files changed, 140 insertions(+), 65 deletions(-)

commit 5c19ee3994af06bbc85f3575e3e4421babc0ba5c
Author: Mukul Kumar Singh <msingh@apache.org>
Date:   Fri Jul 20 22:12:40 2018 +0530

    HDDS-264. 'oz' subcommand reference is not present in 'ozone' command help. Contributed by Sandeep Nemuri.

 hadoop-ozone/common/src/main/bin/ozone | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 68b57ad32cb0978ad5cd20b5fdc821f087a2c9dc
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Fri Jul 20 09:07:58 2018 -0700

    HDDS-259. Implement ContainerReportPublisher and NodeReportPublisher. Contributed by Nanda kumar.

 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/HddsConfigKeys.java                                                   | 26 +++++++++++++++++++++++---
 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ScmConfigKeys.java                                                |  5 -----
 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/OzoneConfigKeys.java                                                 |  5 -----
 hadoop-hdds/common/src/main/resources/ozone-default.xml                                                                       | 26 +++++++++++++++++++++-----
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/hdds/scm/HddsServerUtil.java                                    | 13 +++++++------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/report/CommandStatusReportPublisher.java | 24 ++++++++++++++++++++----
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/report/ContainerReportPublisher.java     | 25 ++++++++++++++++++++-----
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/report/NodeReportPublisher.java          | 32 +++++++++++++++++++++++++++++---
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/report/ReportPublisher.java              | 14 ++++++++++++--
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/report/TestReportPublisher.java          | 11 +++--------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/closer/ContainerCloser.java                         | 12 ++++++------
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/closer/TestContainerCloser.java                     |  8 ++++----
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/node/TestNodeManager.java                                     | 17 ++++++++---------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/MiniOzoneClusterImpl.java                                 |  5 +++--
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/TestStorageContainerManager.java                          |  8 ++++----
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/scm/node/TestQueryNode.java                               |  5 ++---
 16 files changed, 162 insertions(+), 74 deletions(-)

commit e9c44ecfc6ca9d02b2073f16eeadfd7f4a490799
Author: Nanda kumar <nanda@apache.org>
Date:   Fri Jul 20 21:39:45 2018 +0530

    HDDS-269. Refactor IdentifiableEventPayload to use a long ID. Contributed by Ajay Kumar.

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/StateContext.java                  |  4 ++--
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/CommandHandler.java |  6 +++---
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/protocol/commands/CloseContainerCommand.java                     |  6 +++---
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/protocol/commands/DeleteBlocksCommand.java                       |  6 +++---
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/protocol/commands/ReplicateContainerCommand.java                 |  6 +++---
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/protocol/commands/ReregisterCommand.java                         |  2 +-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/protocol/commands/SCMCommand.java                                | 16 +++++++++-------
 hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/EventWatcher.java                                           | 47 +++++++++++++++++++++++------------------------
 hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/IdentifiableEventPayload.java                               |  4 +---
 hadoop-hdds/framework/src/test/java/org/apache/hadoop/hdds/server/events/TestEventWatcher.java                                       | 61 +++++++++++++++++++++++++++----------------------------------
 10 files changed, 75 insertions(+), 83 deletions(-)

commit cbf20264838f536382a9d8c4cd2144faf6875c3a
Author: Weiwei Yang <wwei@apache.org>
Date:   Fri Jul 20 22:32:11 2018 +0800

    YARN-8528. Final states in ContainerAllocation might be modified externally causing unexpected allocation results. Contributed by Xintong Song.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/allocator/ContainerAllocation.java       |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/allocator/RegularContainerAllocator.java | 10 +++++-----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/TestCapacityScheduler.java               | 48 ++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 54 insertions(+), 6 deletions(-)

commit 7b25fb949bf6f02df997beeca7df46c9e84c8d96
Author: Yiqun Lin <yqlin@apache.org>
Date:   Fri Jul 20 17:28:57 2018 +0800

    HDFS-13743. RBF: Router throws NullPointerException due to the invalid initialization of MountTableResolver. Contributed by Takanobu Asanuma.

 hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/resolver/MountTableResolver.java               | 28 ++++++++++++++++++++--------
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/test/java/org/apache/hadoop/hdfs/server/federation/resolver/TestInitializeMountTableResolver.java | 82 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 102 insertions(+), 8 deletions(-)

commit e6873dfde057e63ce5efa91f3061db3ee1b2e236
Author: Haibo Chen <haibochen@apache.org>
Date:   Thu Jul 19 16:27:11 2018 -0700

    YARN-7300. DiskValidator is not used in LocalDirAllocator. (Szilard Nemeth via Haibo Chen)

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/LocalDirAllocator.java                                                                          | 28 ++++++++++++++++++++++------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/LocalDirsHandlerService.java | 27 ++++++++++++++++++++-------
 2 files changed, 42 insertions(+), 13 deletions(-)

commit f354f47f9959d8a79baee690858af3e160494c32
Author: Haibo Chen <haibochen@apache.org>
Date:   Thu Jul 19 15:34:12 2018 -0700

    YARN-6995. Improve use of ResourceNotFoundException in resource types code. (Daniel Templeton and Szilard Nemeth via Haibo Chen)

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/api/records/Resource.java                  | 22 ++++++----------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/exceptions/ResourceNotFoundException.java  | 29 ++++++++++++++++++++++-------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/api/records/impl/pb/ResourcePBImpl.java | 10 ++++------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/util/resource/Resources.java            |  6 ++----
 4 files changed, 34 insertions(+), 33 deletions(-)

commit b3b4d4ccb53fdf8dacc66e912822b34f8b3bf215
Author: Wangda Tan <wangda@apache.org>
Date:   Thu Jul 19 12:03:24 2018 -0700

    MAPREDUCE-7118. Distributed cache conflicts breaks backwards compatability. (Jason Lowe via wangda)
    
    Change-Id: I89ab4852b4ad305fec19812e8931c59d96581376

 hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-common/src/main/java/org/apache/hadoop/mapreduce/v2/util/LocalResourceBuilder.java |  8 +++-----
 hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-common/src/test/java/org/apache/hadoop/mapreduce/v2/util/TestMRApps.java           | 20 ++++++++++++++++++--
 2 files changed, 21 insertions(+), 7 deletions(-)

commit 2564884757fbf4df7718f814cc448f7f23dad875
Author: Haibo Chen <haibochen@apache.org>
Date:   Thu Jul 19 13:21:57 2018 -0700

    YARN-8436. FSParentQueue: Comparison method violates its general contract. (Wilfred Spiegelenburg via Haibo Chen)

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/FSParentQueue.java                               | 30 ++++++++++++------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/FakeSchedulable.java                             |  4 ++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/policies/TestDominantResourceFairnessPolicy.java | 77 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 93 insertions(+), 18 deletions(-)

commit 45d9568aaaf532a6da11bd7c1844ff81bf66bab1
Author: Steve Loughran <stevel@apache.org>
Date:   Thu Jul 19 12:31:19 2018 -0700

    HADOOP-15547/ WASB: improve listStatus performance.
    Contributed by Thomas Marquardt.
    
    (cherry picked from commit 749fff577ed9afb4ef8a54b8948f74be083cc620)

 hadoop-tools/hadoop-azure/dev-support/findbugs-exclude.xml                                         |  10 ++++++++++
 hadoop-tools/hadoop-azure/pom.xml                                                                  |  12 ++++++++++++
 hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azure/AzureNativeFileSystemStore.java | 182 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++----------------------------------------------------------------------------------------
 hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azure/FileMetadata.java               |  77 +++++++++++++++++++++++++++++++++++++++++------------------------------------
 hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azure/NativeAzureFileSystem.java      | 376 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azure/NativeFileSystemStore.java      |  15 ++++++++-------
 hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azure/PartialListing.java             |  61 -------------------------------------------------------------
 hadoop-tools/hadoop-azure/src/test/java/org/apache/hadoop/fs/azure/ITestListPerformance.java       | 196 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 8 files changed, 514 insertions(+), 415 deletions(-)

commit 5836e0a46bf9793e0a61bb8ec46536f4a67d38d7
Author: Eric Yang <eyang@apache.org>
Date:   Thu Jul 19 12:30:38 2018 -0400

    YARN-8501. Reduce complexity of RMWebServices getApps method.
               Contributed by Szilard Nemeth

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/webapp/WebServices.java                                             |   2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/ApplicationsRequestBuilder.java     | 231 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/RMWebServices.java                  | 145 ++++++++++++++++---------------------------------------------------------------------------------------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/TestApplicationsRequestBuilder.java | 529 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 777 insertions(+), 130 deletions(-)

commit ccf2db7fc2688d262df3309007cb12a4dfedc179
Author: Kihwal Lee <kihwal@apache.org>
Date:   Thu Jul 19 11:13:37 2018 -0500

    HADOOP-15614. TestGroupsCaching.testExceptionOnBackgroundRefreshHandled reliably fails. Contributed by Weiwei Yang.

 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestGroupsCaching.java | 17 +++++++++++------
 1 file changed, 11 insertions(+), 6 deletions(-)

commit ba1ab08fdae96ad7c9c4f4bf8672abd741b7f758
Author: Eric Yang <eyang@apache.org>
Date:   Wed Jul 18 20:09:43 2018 -0400

    HADOOP-15610.  Fixed pylint version for Hadoop docker image.
                   Contributed by Jack Bearden

 dev-support/docker/Dockerfile | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit c492eaccc21bb53d0d40214290b2fa9c493e2955
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Wed Jul 18 11:46:26 2018 -0700

    HDDS-255. Fix TestOzoneConfigurationFields for missing hdds.command.status.report.interval in config classes. Contributed by Sandeep Nemuri.

 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/TestOzoneConfigurationFields.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 129269f98926775ccb5046d9dd41b58f1013211d
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Wed Jul 18 11:05:42 2018 -0700

    HDDS-207. ozone listVolume command accepts random values as argument. Contributed by Lokesh Jain.

 hadoop-ozone/acceptance-test/src/test/acceptance/basic/ozone-shell.robot                                   |  8 +++++---
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/ozShell/TestOzoneShell.java            | 12 ++++++++++--
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/web/ozShell/Shell.java                    |  1 +
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/web/ozShell/volume/ListVolumeHandler.java | 13 ++++++++++++-
 4 files changed, 28 insertions(+), 6 deletions(-)

commit d5d444732bf5c3f3cfc681f8d87e0681a7471f2f
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Wed Jul 18 09:38:43 2018 -0700

    HDDS-241. Handle Volume in inconsistent state. Contributed by Hanisha Koneru.

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/HddsVolume.java     | 45 +++++++++++++++++++++++++++++++++++++++------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/VolumeSet.java      | 14 ++++++++++----
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/volume/TestVolumeSet.java  | 78 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++------------
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/ozoneimpl/TestOzoneContainer.java | 18 ++++++++++++++----
 4 files changed, 129 insertions(+), 26 deletions(-)

commit 1af87df242c4286474961078d306a5692f85debc
Author: Yiqun Lin <yqlin@apache.org>
Date:   Tue Jul 17 10:45:08 2018 +0800

    HDFS-13733. RBF: Add Web UI configurations and descriptions to RBF document. Contributed by Takanobu Asanuma.

 hadoop-hdfs-project/hadoop-hdfs-rbf/src/site/markdown/HDFSRouterFederation.md | 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 0a1e922f3d8eca4e852be57124ec1bcafaadb289
Author: Konstantin V Shvachko <shv@apache.org>
Date:   Mon Jul 16 18:20:24 2018 -0700

    Fix potential FSImage corruption. Contributed by Ekanth Sethuramalingam & Arpit Agarwal.

 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/AclEntryStatusFormat.java      |  6 ++++--
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/INodeWithAdditionalFields.java |  4 ++--
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/XAttrFormat.java               | 67 +++++++++++++++++++++++++++++++++++++++++++------------------------
 3 files changed, 49 insertions(+), 28 deletions(-)

commit d2153577181f900ee6d8bf67d254e408bbaad243
Author: Wei-Chiu Chuang <weichiu@apache.org>
Date:   Mon Jul 16 15:45:55 2018 -0700

    HDFS-13485. DataNode WebHDFS endpoint throws NPE. Contributed by Siyao Meng.

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/Token.java     |  5 +++++
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/token/TestToken.java | 18 ++++++++++++++++++
 2 files changed, 23 insertions(+)

commit 121865c3f96166e2190ed54b433ebcf8d053b91c
Author: Eric Yang <eyang@apache.org>
Date:   Mon Jul 16 17:41:23 2018 -0400

    YARN-8299.  Added CLI and REST API for query container status.
                Contributed by Chandni Singh

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-api/src/main/java/org/apache/hadoop/yarn/service/client/ApiServiceClient.java                        |  74 ++++++++++++++++++++++++++++++++++++++++++++++++++------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-api/src/main/java/org/apache/hadoop/yarn/service/webapp/ApiServer.java                               |  67 ++++++++++++++++++++++++++++++++++++++++++++++++++++---------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/ClientAMProtocol.java                              |   5 +++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/ClientAMService.java                               |  14 ++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/client/ServiceClient.java                          |  47 +++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/component/instance/ComponentInstance.java          |  41 +++++++++++++++++++++++++++++++++++++++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/conf/RestApiConstants.java                         |   5 ++++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/impl/pb/client/ClientAMProtocolPBClientImpl.java   |  13 +++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/impl/pb/service/ClientAMProtocolPBServiceImpl.java |  13 +++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/utils/FilterUtils.java                             |  81 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/utils/ServiceApiUtil.java                          |   9 +++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/proto/ClientAMProtocol.proto                                                           |  12 ++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/test/java/org/apache/hadoop/yarn/service/MockRunningServiceContext.java                     | 154 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/test/java/org/apache/hadoop/yarn/service/client/TestServiceCLI.java                         |  25 ++++++++++++++++++++++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/test/java/org/apache/hadoop/yarn/service/client/TestServiceClient.java                      |  54 ++++++++++++++++++++++++++++++++++++++++++++++++++++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/test/java/org/apache/hadoop/yarn/service/component/TestComponent.java                       | 133 ++++++-------------------------------------------------------------------------------------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/test/java/org/apache/hadoop/yarn/service/component/instance/TestComponentInstance.java      |  46 +++++++++++++++++++++++-----------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/test/java/org/apache/hadoop/yarn/service/utils/TestFilterUtils.java                         | 102 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/ApplicationCLI.java                                                                                  |  68 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/test/java/org/apache/hadoop/yarn/client/cli/TestYarnCLI.java                                                                                     |   6 +++++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/client/api/AppAdminClient.java                                                                                  |   6 ++++++
 21 files changed, 773 insertions(+), 202 deletions(-)

commit efb4e274e505736cb9771a5654a0fc82bbd5396f
Author: Eric Yang <eyang@apache.org>
Date:   Mon Jul 16 17:38:49 2018 -0400

    YARN-8538.  Fixed memory leaks in container-executor and test cases.
                Contributed by Billie Rinaldi

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/native/container-executor/impl/configuration.c                        |   3 +++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/native/container-executor/impl/main.c                                 |   4 +++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/native/container-executor/impl/modules/cgroups/cgroups-operations.c   |   2 ++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/native/container-executor/impl/utils/docker-util.c                    | 234 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-----------------------------------------------------------------------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/native/container-executor/test/modules/cgroups/test-cgroups-module.cc |   8 ++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/native/container-executor/test/modules/fpga/test-fpga-module.cc       |  24 +++++++++++++++++++++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/native/container-executor/test/modules/gpu/test-gpu-module.cc         |  24 +++++++++++++++++++++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/native/container-executor/test/test_configuration.cc                  |  34 +++++++++++++++++++++++++++++-----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/native/container-executor/test/test_util.cc                           |   5 +++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/native/container-executor/test/utils/test-string-utils.cc             |   6 ++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/native/container-executor/test/utils/test_docker_util.cc              | 128 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++----------------------------------------
 11 files changed, 307 insertions(+), 165 deletions(-)

commit d2874e04173613b1a3d44eabf8d449c8a3920fa4
Author: Xiao Chen <xiao@apache.org>
Date:   Mon Jul 16 13:19:24 2018 -0700

    HDFS-13690. Improve error message when creating encryption zone while KMS is unreachable. Contributed by Kitti Nanasi.

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/crypto/key/kms/KMSClientProvider.java | 11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit 0c7a578927032d5d1ef3469283d7d1fb7dee2a56
Author: Wei-Chiu Chuang <weichiu@apache.org>
Date:   Mon Jul 16 11:32:45 2018 -0700

    HADOOP-15598. DataChecksum calculate checksum is contented on hashtable synchronization. Contributed by Prasanth Jayachandran.

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/NativeCrc32.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 238ffff99907290fb2cf791a1ad28ff7f78952f4
Author: Wangda Tan <wangda@apache.org>
Date:   Mon Jul 16 10:58:00 2018 -0700

    YARN-8524. Single parameter Resource / LightWeightResource constructor looks confusing. (Szilard Nemeth via wangda)
    
    Change-Id: I4ae97548b5b8d76a6bcebb2d3d70bf8e0be3c125

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/api/records/Resource.java                                                                             | 11 -----------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/api/records/impl/LightWeightResource.java                                                             | 16 ----------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/util/resource/Resources.java                                                                       | 23 ++++++++++++++++++++++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/test/java/org/apache/hadoop/yarn/util/resource/TestResources.java                                                                   | 36 ++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/ConfigurableResource.java |  8 +++++++-
 5 files changed, 65 insertions(+), 29 deletions(-)

commit a2e49f41a8bcc03ce0a85b294d0b86fee7e86f31
Author: Wangda Tan <wangda@apache.org>
Date:   Mon Jul 16 10:57:37 2018 -0700

    YARN-8361. Change App Name Placement Rule to use App Name instead of App Id for configuration. (Zian Chen via wangda)
    
    Change-Id: I17e5021f8f611a9c5e3bd4b38f25e08585afc6b1

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/placement/AppNameMappingPlacementRule.java     | 18 ++++++++++--------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/placement/TestAppNameMappingPlacementRule.java | 43 ++++++++++++++++++++++---------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/placement/TestPlacementManager.java            |  7 +++----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/CapacityScheduler.md                                                                                                          |  6 +++---
 4 files changed, 38 insertions(+), 36 deletions(-)

commit 752dcce5f4cf0f6ebcb40a61f622f1a885c4bda7
Author: Wangda Tan <wangda@apache.org>
Date:   Mon Jul 16 10:54:41 2018 -0700

    YARN-8511. When AM releases a container, RM removes allocation tags before it is released by NM. (Weiwei Yang via wangda)
    
    Change-Id: I6f9f409f2ef685b405cbff547dea9623bf3322d9

 hadoop-tools/hadoop-sls/src/main/java/org/apache/hadoop/yarn/sls/nodemanager/NodeInfo.java                                                                                                 |   6 ++++++
 hadoop-tools/hadoop-sls/src/main/java/org/apache/hadoop/yarn/sls/scheduler/RMNodeWrapper.java                                                                                              |   6 ++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmcontainer/RMContainerImpl.java         |   5 -----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmnode/RMNode.java                       |   6 ++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmnode/RMNodeImpl.java                   |   5 +++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/SchedulerNode.java             |  15 +++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/MockNodes.java                           |   5 +++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/rmcontainer/TestRMContainerImpl.java     |  16 +++++++++++++++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/TestAbstractYarnScheduler.java | 104 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 9 files changed, 162 insertions(+), 6 deletions(-)

commit 88b2794244d19b6432253eb649a375e5bcdcf964
Author: Wei-Chiu Chuang <weichiu@apache.org>
Date:   Mon Jul 16 10:51:23 2018 -0700

    HDFS-13524. Occasional "All datanodes are bad" error in TestLargeBlock#testLargeBlockSize. Contributed by Siyao Meng.

 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestLargeBlock.java | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 359ea4e18147af5677c6d88265e26de6b6c72999
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Mon Jul 16 09:46:21 2018 -0700

    HDFS-13475. RBF: Admin cannot enforce Router enter SafeMode. Contributed by Chao Sun.

 hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/router/Router.java                |  7 +++++++
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/router/RouterAdminServer.java     | 32 ++++++++++++++++++++++++--------
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/router/RouterRpcServer.java       | 26 ++------------------------
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/router/RouterSafemodeService.java | 44 +++++++++++++++++++++++++++++++++++++-------
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/test/java/org/apache/hadoop/hdfs/server/federation/router/TestRouterAdminCLI.java    |  7 ++++---
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/test/java/org/apache/hadoop/hdfs/server/federation/router/TestRouterSafemode.java    | 58 +++++++++++++++++++++++++++++++++++++++++++++++-----------
 6 files changed, 121 insertions(+), 53 deletions(-)

commit 937ef39b3ff90f72392b7a319e4346344db34e03
Author: Eric E Payne <ericp@oath.com>
Date:   Mon Jul 16 16:24:21 2018 +0000

    YARN-8421: when moving app, activeUsers is increased, even though app does not have outstanding request. Contributed by Kyungwan Nam

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/AppSchedulingInfo.java               |  4 +++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/TestSchedulerApplicationAttempt.java | 44 ++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 47 insertions(+), 1 deletion(-)

commit 5074ca93afb4fbd1c367852ba55d1e89b38a2133
Author: Bharat Viswanadham <bharat@apache.org>
Date:   Sun Jul 15 10:47:20 2018 -0700

    HDDS-254. Fix TestStorageContainerManager#testBlockDeletingThrottling. Contributed by Lokesh Jain

 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/MiniOzoneClusterImpl.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0927bc4f76c6803be31855835a9191ab7ed47bc7
Author: Bharat Viswanadham <bharat@apache.org>
Date:   Sun Jul 15 10:34:00 2018 -0700

    HDDS-251. Integrate BlockDeletingService in KeyValueHandler. Contributed by Lokesh Jain

 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ScmConfigKeys.java                                                                     |  5 +++--
 hadoop-hdds/common/src/main/resources/ozone-default.xml                                                                                            |  4 ++--
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerSet.java                                        | 16 ++++++++++++----
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/interfaces/Container.java                                     |  2 +-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/interfaces/ContainerDeletionChoosingPolicy.java               |  1 -
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueHandler.java                                        | 24 ++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/statemachine/background/BlockDeletingService.java           | 11 ++++++++++-
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/TestBlockDeletingService.java                                 | 26 ++++++++++++++++++++------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/impl/TestContainerDeletionChoosingPolicy.java                 | 62 ++++++++++++++++++++++++--------------------------------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/TestBlockDeletion.java            | 14 ++++++--------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/TestCloseContainerByPipeline.java | 18 +++++++-----------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/TestCloseContainerHandler.java    | 12 ++++--------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/om/TestContainerReportWithKeys.java                                            | 11 ++++-------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/web/client/TestKeys.java                                                       |  2 --
 14 files changed, 117 insertions(+), 91 deletions(-)

commit 4523cc5637bc3558aa5796150b358ca8471773bb
Author: bibinchundatt <bibinchundatt@apache.org>
Date:   Sun Jul 15 13:53:53 2018 +0530

    YARN-8434. Update federation documentation of Nodemanager configurations. Contributed by Bibin A Chundatt.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/Federation.md | 1 -
 1 file changed, 1 deletion(-)

commit 103f2eeb57dbadd9abbbc25a05bb7c79b48fdc17
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Fri Jul 13 11:44:24 2018 -0700

    HDDS-210. Make "-file" argument optional for ozone getKey command. Contributed by Lokesh Jain.

 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/ozShell/TestOzoneShell.java      | 12 ++++++++++++
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/web/ozShell/keys/GetKeyHandler.java |  9 ++++++---
 2 files changed, 18 insertions(+), 3 deletions(-)

commit 88625f5cd90766136a9ebd76a8d84b45a37e6c99
Author: Akira Ajisaka <aajisaka@apache.org>
Date:   Fri Jul 13 11:42:12 2018 -0400

    HADOOP-15531. Use commons-text instead of commons-lang in some classes to fix deprecation warnings. Contributed by Takanobu Asanuma.

 hadoop-client-modules/hadoop-client-minicluster/pom.xml                                                                                                                              |  4 ++++
 hadoop-common-project/hadoop-common/pom.xml                                                                                                                                          |  5 +++++
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/conf/ReconfigurationServlet.java                                                                                 |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/qjournal/server/GetJournalEditServlet.java                                                                      |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/diskbalancer/command/Command.java                                                                        |  6 +++---
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/diskbalancer/command/PlanCommand.java                                                                    |  4 ++--
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/diskbalancer/command/ReportCommand.java                                                                  | 10 +++++-----
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java                                                                               |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/CacheAdmin.java                                                                                           |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestDecommission.java                                                                                           |  4 ++--
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/tools/TestDFSAdmin.java                                                                                         |  4 ++--
 hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/webapp/TaskPage.java                                   |  2 +-
 hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/webapp/TasksBlock.java                                 |  2 +-
 hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs/src/main/java/org/apache/hadoop/mapreduce/v2/hs/webapp/HsJobsBlock.java                                  |  2 +-
 hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs/src/main/java/org/apache/hadoop/mapreduce/v2/hs/webapp/HsTaskPage.java                                   |  2 +-
 hadoop-project/pom.xml                                                                                                                                                               |  5 +++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/TopCLI.java                                                                       |  3 ++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/state/Graph.java                                                                             |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/webapp/hamlet/HamletImpl.java                                                                |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/webapp/hamlet2/HamletImpl.java                                                               |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/webapp/view/JQueryUI.java                                                                    |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/webapp/view/TextView.java                                                                    |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/webapp/AppAttemptBlock.java                                 |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/webapp/AppBlock.java                                        |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/webapp/AppsBlock.java                                       |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/FairSchedulerAppsBlock.java |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/RMAppAttemptBlock.java      |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/RMAppBlock.java             |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/RMAppsBlock.java            |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-router/src/main/java/org/apache/hadoop/yarn/server/router/webapp/AppsBlock.java                                |  4 ++--
 30 files changed, 52 insertions(+), 37 deletions(-)

commit 17118f446c2387aa796849da8b69a845d9d307d3
Author: Jason Lowe <jlowe@apache.org>
Date:   Fri Jul 13 10:05:25 2018 -0500

    YARN-8515. container-executor can crash with SIGPIPE after nodemanager restart. Contributed by Jim Brennan

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/native/container-executor/impl/main.c | 6 ++++++
 1 file changed, 6 insertions(+)

commit d18507209e268aa5be0d3e56cec23de24107e7d9
Author: Nanda kumar <nanda@apache.org>
Date:   Fri Jul 13 19:50:52 2018 +0530

    HDDS-232. Parallel unit test execution for HDDS/Ozone. Contributed by Arpit Agarwal.

 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/report/TestReportPublisher.java |  2 +-
 hadoop-hdds/pom.xml                                                                                                  | 49 +++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-ozone/pom.xml                                                                                                 | 49 +++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 99 insertions(+), 1 deletion(-)

commit 1fe5b938435ab49e40cffa66f4dd16ddf1592405
Author: Nanda kumar <nanda@apache.org>
Date:   Fri Jul 13 17:18:42 2018 +0530

    HDDS-253. SCMBlockDeletingService should publish events for delete blocks to EventQueue. Contributed by Lokesh Jain.

 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/BlockManagerImpl.java         | 10 ++++++----
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/SCMBlockDeletingService.java  | 13 +++++++++----
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/StorageContainerManager.java |  2 +-
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/block/TestBlockManager.java         |  2 +-
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/scm/TestContainerSQLCli.java    |  3 +--
 5 files changed, 18 insertions(+), 12 deletions(-)

commit 3f3f72221ffd11cc6bfa0e010e3c5b0e14911102
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Thu Jul 12 22:02:57 2018 -0700

    HDDS-238. Add Node2Pipeline Map in SCM to track ratis/standalone pipelines. Contributed by Mukul Kumar Singh.

 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/container/common/helpers/ContainerInfo.java         |  11 +++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerMapping.java                 |  11 +++++++++--
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerStateManager.java            |   6 ++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/states/ContainerStateMap.java         |  36 +++++++++++++++++++++++++++++++++++-
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/Node2PipelineMap.java                 | 121 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/PipelineManager.java                  |  22 ++++++++++++++--------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/PipelineSelector.java                 |  24 ++++++++++++++++++++----
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/ratis/RatisManagerImpl.java           |  11 ++++++-----
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/standalone/StandaloneManagerImpl.java |   7 ++++---
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/hdds/scm/pipeline/TestNode2PipelineMap.java       | 117 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 10 files changed, 343 insertions(+), 23 deletions(-)

commit f89e265905f39c8e51263a3946a8b8e6ab4ebad9
Author: Anu Engineer <aengineer@apache.org>
Date:   Thu Jul 12 21:34:32 2018 -0700

    HDDS-187. Command status publisher for datanode.
    Contributed by Ajay Kumar.

 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/HddsConfigKeys.java                                                                            |   8 ++++++++
 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/HddsIdFactory.java                                                                             |  53 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/common/src/main/resources/ozone-default.xml                                                                                                |   9 +++++++++
 hadoop-hdds/common/src/test/java/org/apache/hadoop/utils/TestHddsIdFactory.java                                                                        |  77 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/report/CommandStatusReportPublisher.java                          |  71 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/report/ReportPublisher.java                                       |   9 +++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/report/ReportPublisherFactory.java                                |   4 ++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/DatanodeStateMachine.java                            |   2 ++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/StateContext.java                                    |  70 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/CloseContainerCommandHandler.java     |   5 ++++-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/CommandHandler.java                   |  11 +++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/DeleteBlocksCommandHandler.java       | 166 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-------------------------------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/ReplicateContainerCommandHandler.java |   7 ++++++-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/protocol/commands/CloseContainerCommand.java                                       |  36 ++++++++++++++++++++++--------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/protocol/commands/CommandStatus.java                                               | 141 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/protocol/commands/DeleteBlocksCommand.java                                         |  13 +++++++++++--
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/protocol/commands/ReplicateContainerCommand.java                                   |  20 ++++++++++++++------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/protocol/commands/ReregisterCommand.java                                           |  10 ++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/protocol/commands/SCMCommand.java                                                  |  19 +++++++++++++++++++
 hadoop-hdds/container-service/src/main/proto/StorageContainerDatanodeProtocol.proto                                                                    |  21 +++++++++++++++++++++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/ScmTestMock.java                                                  |  33 ++++++++++++++++++++++++++++++---
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/report/TestReportPublisher.java                                   |  75 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/events/SCMEvents.java                                                                  |  57 ++++++++++++++++++++++++++++++++++-----------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMDatanodeHeartbeatDispatcher.java                                             |  23 ++++++++++++++++++++++-
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/server/TestSCMDatanodeHeartbeatDispatcher.java                                         |  25 +++++++++++++++++++++----
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/ozone/container/common/TestEndPoint.java                                                        | 111 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-
 26 files changed, 935 insertions(+), 141 deletions(-)

commit 87eeb26e7200fa3be0ca62ebf163985b58ad309e
Author: Xiao Chen <xiao@apache.org>
Date:   Thu Jul 12 20:19:14 2018 -0700

    HDFS-13663. Should throw exception when incorrect block size is set. Contributed by Shweta.

 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/BlockRecoveryWorker.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 1bc106a738a6ce4f7ed025d556bb44c1ede022e3
Author: Robert Kanter <rkanter@apache.org>
Date:   Thu Jul 12 16:38:46 2018 -0700

    YARN-8518. test-container-executor test_is_empty() is broken (Jim_Brennan via rkanter)

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/native/container-executor/test/test-container-executor.c | 14 +++++++++-----
 1 file changed, 9 insertions(+), 5 deletions(-)

commit 556d9b36be4b0b759646b8f6030c9e693b97bdb8
Author: Anu Engineer <aengineer@apache.org>
Date:   Thu Jul 12 12:09:31 2018 -0700

    HDDS-234. Add SCM node report handler.
    Contributed by Ajay Kumar.

 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeManager.java                            |  9 +++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeReportHandler.java                      | 19 ++++++++++++++++---
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java                         | 11 +++++++++++
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/MockNodeManager.java                   | 11 +++++++++++
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/node/TestNodeReportHandler.java                  | 95 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/ozone/container/testutils/ReplicationNodeManagerMock.java | 10 ++++++++++
 6 files changed, 152 insertions(+), 3 deletions(-)

commit 5ee90efed385db4bf235816145b30a0f691fc91b
Author: Anu Engineer <aengineer@apache.org>
Date:   Thu Jul 12 10:43:24 2018 -0700

    HDDS-228. Add the ReplicaMaps to ContainerStateManager.
    Contributed by Ajay Kumar.

 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerStateManager.java            | 34 ++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/states/ContainerStateMap.java         | 86 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/hdds/scm/container/TestContainerStateManager.java | 79 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 199 insertions(+)

commit a08812a1b10df059b26f6a216e6339490298ba28
Author: Sean Mackrory <mackrorysd@apache.org>
Date:   Thu Jul 12 16:46:02 2018 +0200

    HADOOP-15349. S3Guard DDB retryBackoff to be more informative on limits exceeded. Contributed by Gabor Bota.

 hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 4f3f9391b035d7f7e285c332770c6c1ede9a5a85
Author: Sean Mackrory <mackrorysd@apache.org>
Date:   Thu Jul 12 16:45:07 2018 +0200

    HADOOP-15316. GenericTestUtils can exceed maxSleepTime. Contributed by Adam Antal.

 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/test/GenericTestUtils.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b37074be5ab35c238e18bb9c3b89db6d7f8d0986
Author: Xiao Chen <xiao@apache.org>
Date:   Wed Jul 11 20:54:37 2018 -0700

    HDFS-12837. Intermittent failure in TestReencryptionWithKMS.

 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/ReencryptionHandler.java |  4 +++-
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/TestReencryption.java    | 61 ++++++++++++++++++++++++++++++++++---------------------------
 2 files changed, 37 insertions(+), 28 deletions(-)

commit 632aca5793d391c741c0bce3d2e70ae6e03fe306
Author: Anu Engineer <aengineer@apache.org>
Date:   Wed Jul 11 12:08:50 2018 -0700

    HDDS-242. Introduce NEW_NODE, STALE_NODE and DEAD_NODE event
    and corresponding event handlers in SCM.
    Contributed by Nanda Kumar.
    
    Recommitting after making sure that patch is clean.

 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/CloseContainerEventHandler.java        |  7 ++++++-
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerMapping.java                  |  5 -----
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerReportHandler.java            | 47 +++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/Mapping.java                           |  9 +--------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/closer/ContainerCloser.java            |  1 -
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/events/SCMEvents.java                            | 22 ++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/DatanodeInfo.java                           | 11 +++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/DeadNodeHandler.java                        | 42 ++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NewNodeHandler.java                         | 50 ++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeManager.java                            |  4 +++-
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeReportHandler.java                      | 42 ++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeStateManager.java                       | 32 ++++++++++++++++++++++++++++++--
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java                         | 24 ++++++++++++++++--------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/StaleNodeHandler.java                       | 42 ++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMDatanodeHeartbeatDispatcher.java       | 20 +++++++++++++++++---
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMDatanodeProtocolServer.java            | 18 +++++-------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/StorageContainerManager.java              | 51 ++++++++++++++++++++++++++++++++++++++-------------
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/MockNodeManager.java                   |  9 +++++++++
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/TestCloseContainerEventHandler.java    |  2 ++
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/node/TestContainerPlacement.java                 | 12 +++++++++++-
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/node/TestNodeManager.java                        | 11 ++++++++++-
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/server/TestSCMDatanodeHeartbeatDispatcher.java   |  8 ++++++--
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/ozone/container/testutils/ReplicationNodeManagerMock.java |  7 +++++++
 23 files changed, 417 insertions(+), 59 deletions(-)

commit b56785873a4ec9f6f5617e4252888b23837604e2
Author: Anu Engineer <aengineer@apache.org>
Date:   Wed Jul 11 12:03:42 2018 -0700

    Revert "HDDS-242. Introduce NEW_NODE, STALE_NODE and DEAD_NODE event"
    This reverts commit a47ec5dac4a1cdfec788ce3296b4f610411911ea.
    There was a spurious file in this commit. Revert to clean it.

 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerReportHandler.java | 47 -----------------------------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/DeadNodeHandler.java             | 42 ------------------------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NewNodeHandler.java              | 50 --------------------------------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeReportHandler.java           | 42 ------------------------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/StaleNodeHandler.java            | 42 ------------------------------------------
 hadoop-ozone/common/src/main/bin/ozone-config.sh                                                      | 51 ---------------------------------------------------
 6 files changed, 274 deletions(-)

commit 418cc7f3aeabedc57c94aa9d4c4248c1476ac90e
Author: Akira Ajisaka <aajisaka@apache.org>
Date:   Wed Jul 11 14:46:43 2018 -0400

    HDFS-13729. Fix broken links to RBF documentation. Contributed by Gabor Bota.

 hadoop-hdfs-project/hadoop-hdfs/src/site/markdown/HDFSCommands.md        | 4 ++--
 hadoop-hdfs-project/hadoop-hdfs/src/site/markdown/HdfsProvidedStorage.md | 2 +-
 hadoop-project/src/site/markdown/index.md.vm                             | 2 +-
 3 files changed, 4 insertions(+), 4 deletions(-)

commit 162228e8db937d4bdb9cf61d15ed555f1c96368f
Author: Wei-Chiu Chuang <weichiu@apache.org>
Date:   Wed Jul 11 10:02:08 2018 -0700

    HDFS-13723. Occasional "Should be different group" error in TestRefreshUserMappings#testGroupMappingRefresh. Contributed by Siyao Meng.

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/Groups.java              |  5 ++++-
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/security/TestRefreshUserMappings.java | 19 +++++++++++++------
 2 files changed, 17 insertions(+), 7 deletions(-)

commit d36ed94ee06945fe9122970b196968fd1c997dcc
Author: Akira Ajisaka <aajisaka@apache.org>
Date:   Wed Jul 11 10:53:08 2018 -0400

    HADOOP-15594. Exclude commons-lang3 from hadoop-client-minicluster. Contributed by Takanobu Asanuma.

 hadoop-client-modules/hadoop-client-minicluster/pom.xml | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 2ae13d41dcd4f49e6b4ebc099e5f8bb8280b9872
Author: Yiqun Lin <yqlin@apache.org>
Date:   Wed Jul 11 22:11:59 2018 +0800

    HDFS-13726. RBF: Fix RBF configuration links. Contributed by Takanobu Asanuma.

 hadoop-hdfs-project/hadoop-hdfs-rbf/src/site/markdown/HDFSRouterFederation.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 52e1bc8539ce769f47743d8b2d318a54c3887ba0
Author: bibinchundatt <bibinchundatt@apache.org>
Date:   Wed Jul 11 16:19:51 2018 +0530

    YARN-8491. TestServiceCLI#testEnableFastLaunch fail when umask is 077. Contributed by K G Bakthavachalam.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/test/java/org/apache/hadoop/yarn/service/client/TestServiceCLI.java | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 7f1d3d0e9dbe328fae0d43421665e0b6907b33fe
Author: Sunil G <sunilg@apache.org>
Date:   Wed Jul 11 12:26:32 2018 +0530

    YARN-8512. ATSv2 entities are not published to HBase from second attempt onwards. Contributed by Rohith Sharma K S.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/ContainerManagerImpl.java         |  69 +++++++++++++++++++++++++++++++++++++++++++++++++++------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/application/ApplicationImpl.java  |   7 ++++++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/BaseContainerManagerTest.java     |  25 +++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/TestContainerManagerRecovery.java | 106 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++--------
 4 files changed, 180 insertions(+), 27 deletions(-)

commit a47ec5dac4a1cdfec788ce3296b4f610411911ea
Author: Anu Engineer <aengineer@apache.org>
Date:   Tue Jul 10 15:58:47 2018 -0700

    HDDS-242. Introduce NEW_NODE, STALE_NODE and DEAD_NODE event
    and corresponding event handlers in SCM.
    Contributed by Nanda Kumar.

 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerReportHandler.java | 47 +++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/DeadNodeHandler.java             | 42 ++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NewNodeHandler.java              | 50 ++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeReportHandler.java           | 42 ++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/StaleNodeHandler.java            | 42 ++++++++++++++++++++++++++++++++++++++++++
 hadoop-ozone/common/src/main/bin/ozone-config.sh                                                      | 51 +++++++++++++++++++++++++++++++++++++++++++++++++++
 6 files changed, 274 insertions(+)

commit 4e59b9278463e4f8ccce7100d4582e896154beb8
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Tue Jul 10 14:07:23 2018 -0700

    HDDS-208. ozone createVolume command ignores the first character of the volume name argument. Contributed by Lokesh Jain.

 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/ozShell/TestOzoneShell.java              | 26 +++++++++++++++++++++++---
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/web/ozShell/volume/CreateVolumeHandler.java | 10 +++++-----
 2 files changed, 28 insertions(+), 8 deletions(-)

commit 5d0f01e1fe988616d53120bad0cb69a825a4dde0
Author: Allen Wittenauer <aw@apache.org>
Date:   Tue Jul 10 12:17:44 2018 -0700

    HDFS-13722. HDFS Native Client Fails Compilation on Ubuntu 18.04 (contributed by Jack Bearden)

 hadoop-hdfs-project/hadoop-hdfs-native-client/src/main/native/libhdfspp/lib/rpc/request.cc | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 82ac3aa6d0a83235cfac2805a444dd26efe5f9ce
Author: Giovanni Matteo Fumarola <gifuma@apache.com>
Date:   Tue Jul 10 10:36:17 2018 -0700

    YARN-8502. Use path strings consistently for webservice endpoints in RMWebServices. Contributed by Szilard Nemeth.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/RMWSConsts.java    | 3 +++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/RMWebServices.java | 6 +++---
 2 files changed, 6 insertions(+), 3 deletions(-)

commit d503f65b6689b19278ec2a0cf9da5a8762539de8
Author: Sean Mackrory <mackrorysd@apache.org>
Date:   Thu Jul 5 13:52:00 2018 -0600

    HADOOP-15541. [s3a] Shouldn't try to drain stream before aborting
    connection in case of timeout.

 hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/S3AInputStream.java | 24 ++++++++++++++++--------
 1 file changed, 16 insertions(+), 8 deletions(-)

commit 705e2c1f7cba51496b0d019ecedffbe5fb55c28b
Author: Sunil G <sunilg@apache.org>
Date:   Tue Jul 10 20:11:47 2018 +0530

    YARN-8473. Containers being launched as app tears down can leave containers in NEW state. Contributed by Jason Lowe.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/application/ApplicationImpl.java | 36 +++++++++++++++++++++++++++++-------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/application/TestApplication.java | 53 ++++++++++++++++++++++++++++++++++++++++++-----------
 2 files changed, 71 insertions(+), 18 deletions(-)

commit ca8b80bf59c0570bb9172208d3a6c993a6854514
Author: Steve Loughran <stevel@apache.org>
Date:   Tue Jul 10 10:43:59 2018 +0100

    HADOOP-15384. distcp numListstatusThreads option doesn't get to -delete scan.
    Contributed by Steve Loughran.

 hadoop-tools/hadoop-distcp/src/main/java/org/apache/hadoop/tools/DistCpOptions.java                       |  5 ++++-
 hadoop-tools/hadoop-distcp/src/main/java/org/apache/hadoop/tools/mapred/CopyCommitter.java                | 13 +++++++++++--
 hadoop-tools/hadoop-distcp/src/test/java/org/apache/hadoop/tools/contract/AbstractContractDistCpTest.java |  2 +-
 3 files changed, 16 insertions(+), 4 deletions(-)

commit 9bd5bef297b036b19f7be0c42c5477808ef8c070
Merge: 3584baf2642 2403231c8c3
Author: Arpit Agarwal <arp@apache.org>
Date:   Mon Jul 9 13:22:58 2018 -0700

    Merge remote-tracking branch 'apache/trunk' into HDDS-48

commit 3584baf2642816a453402a717a05d16754a6ac52
Author: Bharat Viswanadham <bharat@apache.org>
Date:   Mon Jul 9 12:30:59 2018 -0700

    HDDS-48. Fix branch after merging from trunk.

 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/TestBlockDeletion.java | 32 +++++++++++++++++---------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/scm/TestSCMCli.java                                                 |  4 ++--
 2 files changed, 19 insertions(+), 17 deletions(-)

commit 2403231c8c3685ba08cd6bdf715d281cae611e45
Author: Anu Engineer <aengineer@apache.org>
Date:   Mon Jul 9 13:04:44 2018 -0700

    HDDS-240. Implement metrics for EventQueue.
    Contributed by Elek, Marton.

 hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/EventQueue.java           | 108 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++----------------------------------------------
 hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/SingleThreadExecutor.java |  35 +++++++++++++++++++++++++----------
 hadoop-hdds/framework/src/test/java/org/apache/hadoop/hdds/server/events/TestEventQueue.java       |  35 ++++-------------------------------
 3 files changed, 91 insertions(+), 87 deletions(-)

commit 3c0a66abe632277e89fccd8dced9e71ca5d87df0
Author: Anu Engineer <aengineer@apache.org>
Date:   Mon Jul 9 13:03:57 2018 -0700

    Revert "HDDS-224. Create metrics for Event Watcher."
    
    This reverts commit cb5e225868a069d6d16244b462ebada44465dce8.
    The JIRA number is wrong, reverting to fix it.

 hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/EventQueue.java           | 108 ++++++++++++++++++++++++++++++++++++++++++++++--------------------------------------------------------------
 hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/SingleThreadExecutor.java |  35 ++++++++++-------------------------
 hadoop-hdds/framework/src/test/java/org/apache/hadoop/hdds/server/events/TestEventQueue.java       |  35 +++++++++++++++++++++++++++++++----
 3 files changed, 87 insertions(+), 91 deletions(-)

commit cb5e225868a069d6d16244b462ebada44465dce8
Author: Anu Engineer <aengineer@apache.org>
Date:   Mon Jul 9 12:52:39 2018 -0700

    HDDS-224. Create metrics for Event Watcher.
    Contributed b Elek, Marton.

 hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/EventQueue.java           | 108 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++----------------------------------------------
 hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/SingleThreadExecutor.java |  35 +++++++++++++++++++++++++----------
 hadoop-hdds/framework/src/test/java/org/apache/hadoop/hdds/server/events/TestEventQueue.java       |  35 ++++-------------------------------
 3 files changed, 91 insertions(+), 87 deletions(-)

commit 4a08ddfa68a405bfd97ffd96fafc1e3d48d20d7e
Author: Akira Ajisaka <aajisaka@apache.org>
Date:   Mon Jul 9 15:43:38 2018 -0400

    HADOOP-15568. fix some typos in the .sh comments. Contributed by Steve Loughran.

 hadoop-common-project/hadoop-common/src/main/conf/hadoop-env.sh              | 6 +++---
 hadoop-common-project/hadoop-common/src/main/conf/hadoop-metrics2.properties | 2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit ea9b608237e7f2cf9b1e36b0f78c9674ec84096f
Author: Giovanni Matteo Fumarola <gifuma@apache.com>
Date:   Mon Jul 9 12:27:36 2018 -0700

    YARN-7899. [AMRMProxy] Stateful FederationInterceptor for pending requests. Contributed by Botong Huang.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/client/AMRMClientUtils.java                                                                |  91 -------------------------------------------------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/AMRMClientRelayer.java                                    |   9 ++++++++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/uam/UnmanagedAMPoolManager.java                           |  16 ++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/uam/UnmanagedApplicationManager.java                      |  40 +++++++++++++++++++++++-----------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/test/java/org/apache/hadoop/yarn/server/MockResourceManagerFacade.java                            |  13 +++----------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/amrmproxy/FederationInterceptor.java     | 146 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-----------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/amrmproxy/BaseAMRMProxyTest.java         |   2 ++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/amrmproxy/TestFederationInterceptor.java |  17 +++++++++++++++++
 8 files changed, 192 insertions(+), 142 deletions(-)

commit c275a9a6a07b2bd889bdba4d05b420027f430b34
Merge: 44e19fc7f70 83cd84b70ba
Author: Bharat Viswanadham <bharat@apache.org>
Date:   Mon Jul 9 12:13:03 2018 -0700

    Merge trunk into HDDS-48

commit e12d93bfc1a0efd007bc84758e60b5149c3aa663
Author: Anu Engineer <aengineer@apache.org>
Date:   Mon Jul 9 12:02:20 2018 -0700

    HDDS-224. Create metrics for Event Watcher.
    Contributed by Elek, Marton.

 hadoop-hdds/framework/pom.xml                                                                     |   5 +++++
 hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/EventWatcher.java        |  43 ++++++++++++++++++++++++++++++++++++++++++-
 hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/EventWatcherMetrics.java |  79 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/framework/src/test/java/org/apache/hadoop/hdds/server/events/TestEventWatcher.java    | 107 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-------------
 4 files changed, 220 insertions(+), 14 deletions(-)

commit 895845e9b0d7ac49da36b5cf773c6330afe4f3e0
Author: Xiao Chen <xiao@apache.org>
Date:   Mon Jul 9 12:06:25 2018 -0700

    HADOOP-15581. Set default jetty log level to INFO in KMS. Contributed by Kitti Nanasi.

 hadoop-common-project/hadoop-kms/src/main/conf/kms-log4j.properties  | 4 +++-
 hadoop-common-project/hadoop-kms/src/test/resources/log4j.properties | 4 +++-
 2 files changed, 6 insertions(+), 2 deletions(-)

commit def9d94a40e1ff71a0dc5a4db1f042e2704cb84d
Author: Xiao Chen <xiao@apache.org>
Date:   Mon Jul 9 12:00:32 2018 -0700

    HADOOP-15591. KMSClientProvider should log KMS DT acquisition at INFO level. Contributed by Kitti Nanasi.

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/crypto/key/kms/KMSClientProvider.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 83cd84b70bac7b613eb4b2901d5ffe40098692eb
Author: Wangda Tan <wangda@apache.org>
Date:   Mon Jul 9 11:30:08 2018 -0700

    YARN-8506. Make GetApplicationsRequestPBImpl thread safe. (wangda)
    
    Change-Id: If304567abb77a01b686d82c769bdf50728484163

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/api/protocolrecords/impl/pb/GetApplicationsRequestPBImpl.java | 44 ++++++++++++++++++++++----------------------
 1 file changed, 22 insertions(+), 22 deletions(-)

commit 0838fe833738e04f5e6f6408e97866d77bebbf30
Author: Robert Kanter <rkanter@apache.org>
Date:   Mon Jul 9 10:37:20 2018 -0700

    Only mount non-empty directories for cgroups (miklos.szegedi@cloudera.com via rkanter)

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/native/container-executor/impl/container-executor.c      | 30 +++++++++++++++++++++++++++++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/native/container-executor/test/test-container-executor.c | 20 ++++++++++++++++++++
 2 files changed, 49 insertions(+), 1 deletion(-)

commit 44e19fc7f70b5c19f2b626fe247aea5d51ada51c
Author: Hanisha Koneru <hanishakoneru@apache.org>
Date:   Mon Jul 9 09:33:09 2018 -0700

    HDDS-213. Single lock to synchronize KeyValueContainer#update.

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerData.java     |  28 ++++++++++++++++++++--------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerDataYaml.java |  10 +---------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueContainer.java    | 124 ++++++++++++++++++++++++++++++++++++++++++++++------------------------------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/ContainerReader.java     |  37 ++++++++++++++++++++-----------------
 4 files changed, 87 insertions(+), 112 deletions(-)

commit eecb5baaaaa54599aeae758abd4007e55e5b531f
Author: Andrew Wang <wang@apache.org>
Date:   Mon Jul 9 15:17:21 2018 +0200

    HDFS-13719. Docs around dfs.image.transfer.timeout are misleading. Contributed by Kitti Nansi.

 hadoop-hdfs-project/hadoop-hdfs/src/main/resources/hdfs-default.xml | 13 +++++--------
 1 file changed, 5 insertions(+), 8 deletions(-)

commit 43f7fe8aae0eca89cce4d67bfc4965fe8ce63e38
Author: Yiqun Lin <yqlin@apache.org>
Date:   Mon Jul 9 15:06:07 2018 +0800

    HDFS-13710. RBF: setQuota and getQuotaUsage should check the dfs.federation.router.quota.enable. Contributed by yanghuafeng.

 hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/router/Quota.java                  |  8 ++++++++
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/router/RouterRpcServer.java        |  1 -
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/test/java/org/apache/hadoop/hdfs/server/federation/router/TestDisableRouterQuota.java | 94 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 102 insertions(+), 1 deletion(-)

commit 7a68ac607c52c8a28dcd75a367ae77331787a3b4
Author: Yiqun Lin <yqlin@apache.org>
Date:   Mon Jul 9 14:27:34 2018 +0800

    HDFS-13674. Improve documentation on Metrics. Contributed by Chao Sun.

 hadoop-common-project/hadoop-common/src/site/markdown/Metrics.md | 39 ++++++++++++++++++++++++---------------
 1 file changed, 24 insertions(+), 15 deletions(-)

commit 790c563511161c901b7b667e787baca8725f9249
Author: Anu Engineer <aengineer@apache.org>
Date:   Sun Jul 8 11:27:54 2018 -0700

    HDDS-235. Fix TestOzoneAuditLogger#verifyDefaultLogLevel.
    Contributed by Xiaoyu Yao.

 hadoop-hdds/common/src/test/java/org/apache/hadoop/ozone/audit/TestOzoneAuditLogger.java | 46 +++++++++++++++++++++++++++++++---------------
 1 file changed, 31 insertions(+), 15 deletions(-)

commit 2f51cd60ef082cd0360fe46e9d2a4ec9b8ed979a
Author: Anu Engineer <aengineer@apache.org>
Date:   Sun Jul 8 11:11:21 2018 -0700

    HDDS-217. Move all SCMEvents to a package.
    Contributed by Anu Engineer.

 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/CloseContainerEventHandler.java      | 13 ++++++-------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/events/SCMEvents.java                          | 80 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/events/package-info.java                       | 23 +++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java                       |  5 +----
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMDatanodeHeartbeatDispatcher.java     | 11 +++++------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/StorageContainerManager.java            |  7 +++++--
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/TestCloseContainerEventHandler.java  | 27 +++++++++++++++------------
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/node/TestNodeManager.java                      | 10 +++-------
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/server/TestSCMDatanodeHeartbeatDispatcher.java | 20 +++++++++-----------
 9 files changed, 147 insertions(+), 49 deletions(-)

commit 936e0df0d344f13eea97fe624b154e8356cdea7c
Author: Xiao Chen <xiao@apache.org>
Date:   Fri Jul 6 20:45:27 2018 -0700

    HDFS-13721. NPE in DataNode due to uninitialized DiskBalancer.

 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/DataNode.java             | 19 +++++++++++++------
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/diskbalancer/TestDiskBalancer.java |  5 +++++
 2 files changed, 18 insertions(+), 6 deletions(-)

commit cb9574a337f2012f2ab59c2abf300567562bf3a3
Author: Bharat Viswanadham <bharat@apache.org>
Date:   Fri Jul 6 16:26:40 2018 -0700

    HDDS-237. Add updateDeleteTransactionId. Contributed by Bharat Viswanadham and Lokesh Jain

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerData.java   | 21 +++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/interfaces/Container.java |  6 ++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueContainer.java  |  5 +++++
 3 files changed, 32 insertions(+)

commit ba683204498c97654be4727ab9e128c433a45498
Author: Rohith Sharma K S <rohithsharmaks@apache.org>
Date:   Fri Jul 6 15:19:01 2018 -0700

    YARN-8302. ATS v2 should handle HBase connection issue properly. Contributed by Billie Rinaldi.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/conf/YarnConfiguration.java                                                                                                                             |   7 +++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice-hbase-tests/src/test/java/org/apache/hadoop/yarn/server/timelineservice/storage/TestTimelineReaderHBaseDown.java                                       | 220 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice-hbase/hadoop-yarn-server-timelineservice-hbase-client/src/main/java/org/apache/hadoop/yarn/server/timelineservice/storage/HBaseTimelineReaderImpl.java |  93 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 320 insertions(+)

commit e899c4cc01df3b657893314adcdbb411dfbf3764
Author: Bharat Viswanadham <bharat@apache.org>
Date:   Fri Jul 6 15:02:40 2018 -0700

    HDDS-211. Add a create container Lock. Contributed by Bharat Viswanadham

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/HddsDispatcher.java |  4 +++-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/interfaces/Handler.java  |  8 +++-----
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueHandler.java   | 20 +++++++++++++++++---
 hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/genesis/BenchMarkDatanodeDispatcher.java             |  7 -------
 4 files changed, 23 insertions(+), 16 deletions(-)

commit 0247cb6318507afe06816e337a19f396afc53efa
Author: Wei-Chiu Chuang <weichiu@apache.org>
Date:   Fri Jul 6 14:59:49 2018 -0700

    HDFS-13121. NPE when request file descriptors when SC read. Contributed by Zsolt Venczel.

 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/client/impl/BlockReaderFactory.java |  5 +++++
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/shortcircuit/TestShortCircuitCache.java    | 89 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 94 insertions(+)

commit 061b168529a9cd5d6a3a482c890bacdb49186368
Author: Arpit Agarwal <arp@apache.org>
Date:   Fri Jul 6 12:09:05 2018 -0700

    HDDS-167. Rename KeySpaceManager to OzoneManager. Contributed by Arpit Agarwal.

 .gitignore                                                                                                                                                                                     |   4 ++++
 dev-support/bin/ozone-dist-layout-stitching                                                                                                                                                    |   2 +-
 hadoop-common-project/hadoop-common/src/main/conf/hadoop-env.sh                                                                                                                                |   6 +++---
 hadoop-dist/src/main/compose/ozone/docker-compose.yaml                                                                                                                                         |   6 +++---
 hadoop-dist/src/main/compose/ozone/docker-config                                                                                                                                               |   2 +-
 hadoop-dist/src/main/compose/ozoneperf/README.md                                                                                                                                               |   4 ++--
 hadoop-dist/src/main/compose/ozoneperf/docker-compose.yaml                                                                                                                                     |   6 +++---
 hadoop-dist/src/main/compose/ozoneperf/docker-config                                                                                                                                           |   2 +-
 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ScmConfigKeys.java                                                                                                                 |   2 +-
 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/OzoneConsts.java                                                                                                                      |  22 +++++++++++-----------
 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/Storage.java                                                                                                                   |   6 +++---
 hadoop-hdds/common/src/main/proto/ScmBlockLocationProtocol.proto                                                                                                                               |  10 +++++-----
 hadoop-hdds/common/src/main/proto/hdds.proto                                                                                                                                                   |   6 +++---
 hadoop-hdds/common/src/main/resources/ozone-default.xml                                                                                                                                        | 120 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++------------------------------------------------------------
 hadoop-hdds/framework/src/main/resources/webapps/static/ozone.js                                                                                                                               |   4 ++--
 hadoop-hdds/framework/src/main/resources/webapps/static/templates/config.html                                                                                                                  |   4 ++--
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/DeletedBlockLog.java                                                                                                     |   2 +-
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/states/ContainerStateMap.java                                                                                        |   6 +++---
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/CommandQueue.java                                                                                                         |   2 +-
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMBlockProtocolServer.java                                                                                             |   2 +-
 hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/OzoneBaseCLI.java                                                                                                               |   2 +-
 hadoop-ozone/acceptance-test/src/test/acceptance/basic/basic.robot                                                                                                                             |   6 +++---
 hadoop-ozone/acceptance-test/src/test/acceptance/basic/docker-compose.yaml                                                                                                                     |   8 ++++----
 hadoop-ozone/acceptance-test/src/test/acceptance/basic/docker-config                                                                                                                           |   4 ++--
 hadoop-ozone/acceptance-test/src/test/acceptance/basic/ozone-shell.robot                                                                                                                       |  18 +++++++++---------
 hadoop-ozone/acceptance-test/src/test/acceptance/commonlib.robot                                                                                                                               |   4 ++--
 hadoop-ozone/acceptance-test/src/test/acceptance/ozonefs/docker-compose.yaml                                                                                                                   |   8 ++++----
 hadoop-ozone/acceptance-test/src/test/acceptance/ozonefs/docker-config                                                                                                                         |   4 ++--
 hadoop-ozone/acceptance-test/src/test/acceptance/ozonefs/ozonefs.robot                                                                                                                         |   6 +++---
 hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/BucketArgs.java                                                                                                               |   4 ++--
 hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/OzoneClientFactory.java                                                                                                       |  86 ++++++++++++++++++++++++++++++++++++++++++--------------------------------------------
 hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/OzoneKey.java                                                                                                                 |   2 +-
 hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/VolumeArgs.java                                                                                                               |   4 ++--
 hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/ChunkGroupInputStream.java                                                                                                 |  24 ++++++++++++------------
 hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/ChunkGroupOutputStream.java                                                                                                |  54 +++++++++++++++++++++++++++---------------------------
 hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/rest/DefaultRestServerSelector.java                                                                                           |   2 +-
 hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/rest/RestClient.java                                                                                                          |  15 +++++++--------
 hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/rest/RestServerSelector.java                                                                                                  |   2 +-
 hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/rpc/RpcClient.java                                                                                                            | 142 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++------------------------------------------------------------------------
 hadoop-ozone/client/src/test/java/org/apache/hadoop/ozone/client/TestHddsClientUtils.java                                                                                                      |  24 ++++++++++++------------
 hadoop-ozone/common/pom.xml                                                                                                                                                                    |   2 +-
 hadoop-ozone/common/src/main/bin/ozone                                                                                                                                                         |   9 ++++-----
 hadoop-ozone/common/src/main/bin/start-ozone.sh                                                                                                                                                |  16 ++++++++--------
 hadoop-ozone/common/src/main/bin/stop-ozone.sh                                                                                                                                                 |  16 ++++++++--------
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/{KsmUtils.java => OmUtils.java}                                                                                                      |  51 +++++++++++++++++++++++++--------------------------
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/freon/OzoneGetConf.java                                                                                                              |  16 ++++++++--------
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/ksm/KSMConfigKeys.java                                                                                                               |  81 ---------------------------------------------------------------------------------
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/OMConfigKeys.java                                                                                                                 |  81 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/{ksm/helpers/KsmBucketArgs.java => om/helpers/OmBucketArgs.java}                                                                     |  46 +++++++++++++++++++++++-----------------------
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/{ksm/helpers/KsmBucketInfo.java => om/helpers/OmBucketInfo.java}                                                                     |  42 +++++++++++++++++++++---------------------
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/{ksm/helpers/KsmKeyArgs.java => om/helpers/OmKeyArgs.java}                                                                           |  14 +++++++-------
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/{ksm/helpers/KsmKeyInfo.java => om/helpers/OmKeyInfo.java}                                                                           |  64 ++++++++++++++++++++++++++++++++--------------------------------
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/{ksm/helpers/KsmKeyLocationInfo.java => om/helpers/OmKeyLocationInfo.java}                                                           |  20 ++++++++++----------
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/{ksm/helpers/KsmKeyLocationInfoGroup.java => om/helpers/OmKeyLocationInfoGroup.java}                                                 |  42 +++++++++++++++++++++---------------------
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/{ksm/helpers/KsmOzoneAclMap.java => om/helpers/OmOzoneAclMap.java}                                                                   |  16 ++++++++--------
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/{ksm/helpers/KsmVolumeArgs.java => om/helpers/OmVolumeArgs.java}                                                                     |  40 ++++++++++++++++++++--------------------
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/{ksm => om}/helpers/OpenKeySession.java                                                                                              |   8 ++++----
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/{ksm => om}/helpers/ServiceInfo.java                                                                                                 |  20 ++++++++++----------
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/{ksm => om}/helpers/VolumeArgs.java                                                                                                  |   2 +-
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/{ksm => om}/helpers/package-info.java                                                                                                |   2 +-
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/{ksm => om}/package-info.java                                                                                                        |   4 ++--
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/{ksm/protocol/KeySpaceManagerProtocol.java => om/protocol/OzoneManagerProtocol.java}                                                 |  68 ++++++++++++++++++++++++++++++++++----------------------------------
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/{ksm => om}/protocol/package-info.java                                                                                               |   2 +-
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/{ksm/protocolPB/KeySpaceManagerProtocolClientSideTranslatorPB.java => om/protocolPB/OzoneManagerProtocolClientSideTranslatorPB.java} | 180 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++------------------------------------------------------------------------------------------
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/{ksm/protocolPB/KeySpaceManagerProtocolPB.java => om/protocolPB/OzoneManagerProtocolPB.java}                                         |  12 ++++++------
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/{ksm => om}/protocolPB/package-info.java                                                                                             |   2 +-
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/protocolPB/{KSMPBHelper.java => OMPBHelper.java}                                                                                     |  10 +++++-----
 hadoop-ozone/common/src/main/proto/{KeySpaceManagerProtocol.proto => OzoneManagerProtocol.proto}                                                                                               |  14 ++++++++++----
 hadoop-ozone/docs/content/GettingStarted.md                                                                                                                                                    |  18 +++++++++---------
 hadoop-ozone/docs/content/Metrics.md                                                                                                                                                           |  10 +++++-----
 hadoop-ozone/docs/content/_index.md                                                                                                                                                            |  12 ++++++------
 hadoop-ozone/docs/static/OzoneOverview.svg                                                                                                                                                     |   2 +-
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/MiniOzoneCluster.java                                                                                                      |  24 ++++++++++++------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/MiniOzoneClusterImpl.java                                                                                                  |  66 +++++++++++++++++++++++++++++++++---------------------------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/TestOzoneConfigurationFields.java                                                                                          |   4 ++--
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/TestStorageContainerManager.java                                                                                           |  18 +++++++++---------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/TestStorageContainerManagerHelper.java                                                                                     |  12 ++++++------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/client/rest/TestOzoneRestClient.java                                                                                       |   6 +++---
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/client/rpc/TestOzoneRpcClient.java                                                                                         |  18 +++++++++---------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/TestBlockDeletion.java                                                        |  45 +++++++++++++++++++++++----------------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/TestCloseContainerByPipeline.java                                             |  35 +++++++++++++++++------------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/TestCloseContainerHandler.java                                                |  14 +++++++-------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/{ksm => om}/TestContainerReportWithKeys.java                                                                               |  12 ++++++------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/{ksm => om}/TestMultipleContainerReadWrite.java                                                                            |   2 +-
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/{ksm/TestKsmBlockVersioning.java => om/TestOmBlockVersioning.java}                                                         |  68 ++++++++++++++++++++++++++++++++++----------------------------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/{ksm/TestKSMMetrcis.java => om/TestOmMetrics.java}                                                                         | 193 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++---------------------------------------------------------------------------------------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/{ksm/TestKSMSQLCli.java => om/TestOmSQLCli.java}                                                                           |  16 ++++++++--------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/{ksm/TestKeySpaceManager.java => om/TestOzoneManager.java}                                                                 | 185 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++---------------------------------------------------------------------------------------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/{ksm/TestKeySpaceManagerRestInterface.java => om/TestOzoneManagerRestInterface.java}                                       |  32 ++++++++++++++++----------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/ozShell/TestOzoneShell.java                                                                                                |  14 +++++++-------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/scm/TestContainerSQLCli.java                                                                                               |   3 +--
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/web/TestDistributedOzoneVolumes.java                                                                                       |  12 ++++++------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/web/client/TestKeys.java                                                                                                   |  58 +++++++++++++++++++++++++++++-----------------------------
 hadoop-ozone/integration-test/src/test/resources/webapps/{ksm => ozoneManager}/.gitkeep                                                                                                        |   0
 hadoop-ozone/objectstore-service/src/main/java/org/apache/hadoop/hdfs/server/datanode/ObjectStoreHandler.java                                                                                  |  33 ++++++++++++++++-----------------
 hadoop-ozone/objectstore-service/src/main/java/org/apache/hadoop/ozone/web/handlers/KeyProcessTemplate.java                                                                                    |   4 ++--
 hadoop-ozone/objectstore-service/src/main/java/org/apache/hadoop/ozone/web/handlers/VolumeProcessTemplate.java                                                                                 |   4 ++--
 hadoop-ozone/objectstore-service/src/main/java/org/apache/hadoop/ozone/web/storage/DistributedStorageHandler.java                                                                              | 153 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-----------------------------------------------------------------------------
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/{ksm => om}/BucketManager.java                                                                                                |  20 ++++++++++----------
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/{ksm => om}/BucketManagerImpl.java                                                                                            |  80 ++++++++++++++++++++++++++++++++++++++++----------------------------------------
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/{ksm => om}/KeyDeletingService.java                                                                                           |  20 ++++++++++----------
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/{ksm => om}/KeyManager.java                                                                                                   |  42 +++++++++++++++++++++---------------------
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/{ksm => om}/KeyManagerImpl.java                                                                                               | 140 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++----------------------------------------------------------------------
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/{ksm/KSMMXBean.java => om/OMMXBean.java}                                                                                      |   6 +++---
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/{ksm/KSMMetadataManager.java => om/OMMetadataManager.java}                                                                    |  38 +++++++++++++++++++-------------------
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/{ksm/KSMMetrics.java => om/OMMetrics.java}                                                                                    |  22 +++++++++++-----------
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/{ksm/KSMStorage.java => om/OMStorage.java}                                                                                    |  46 +++++++++++++++++++++++-----------------------
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/{ksm/KSMMetadataManagerImpl.java => om/OmMetadataManagerImpl.java}                                                            | 126 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++---------------------------------------------------------------
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/{ksm => om}/OpenKeyCleanupService.java                                                                                        |  10 +++++-----
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/{ksm/KeySpaceManager.java => om/OzoneManager.java}                                                                            | 277 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/{ksm/KeySpaceManagerHttpServer.java => om/OzoneManagerHttpServer.java}                                                        |  30 +++++++++++++++---------------
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/{ksm => om}/ServiceListJSONServlet.java                                                                                       |  14 +++++++-------
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/{ksm => om}/VolumeManager.java                                                                                                |  18 +++++++++---------
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/{ksm => om}/VolumeManagerImpl.java                                                                                            |  89 ++++++++++++++++++++++++++++++++++++++++++++---------------------------------------------
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/{ksm/exceptions/KSMException.java => om/exceptions/OMException.java}                                                          |  22 +++++++++++-----------
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/{ksm => om}/exceptions/package-info.java                                                                                      |   4 ++--
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/{ksm => om}/package-info.java                                                                                                 |   4 ++--
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/protocolPB/{KeySpaceManagerProtocolServerSideTranslatorPB.java => OzoneManagerProtocolServerSideTranslatorPB.java}            | 180 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++------------------------------------------------------------------------------------
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/protocolPB/package-info.java                                                                                                  |   2 +-
 hadoop-ozone/ozone-manager/src/main/webapps/{ksm => ozoneManager}/index.html                                                                                                                   |  12 ++++++------
 hadoop-ozone/ozone-manager/src/main/webapps/{ksm => ozoneManager}/main.css                                                                                                                     |   0
 hadoop-ozone/ozone-manager/src/main/webapps/{ksm => ozoneManager}/main.html                                                                                                                    |   0
 hadoop-ozone/ozone-manager/src/main/webapps/{ksm/ksm-metrics.html => ozoneManager/om-metrics.html}                                                                                             |   2 +-
 hadoop-ozone/ozone-manager/src/main/webapps/{ksm/ksm.js => ozoneManager/ozoneManager.js}                                                                                                       |  14 +++++++-------
 hadoop-ozone/ozone-manager/src/test/java/org/apache/hadoop/ozone/{ksm => om}/TestBucketManagerImpl.java                                                                                        | 129 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-----------------------------------------------------------------
 hadoop-ozone/ozone-manager/src/test/java/org/apache/hadoop/ozone/{ksm => om}/TestChunkStreams.java                                                                                             |   2 +-
 hadoop-ozone/ozone-manager/src/test/java/org/apache/hadoop/ozone/{ksm/TestKeySpaceManagerHttpServer.java => om/TestOzoneManagerHttpServer.java}                                                |  16 ++++++++--------
 hadoop-ozone/ozone-manager/src/test/java/org/apache/hadoop/ozone/{ksm => om}/package-info.java                                                                                                 |   4 ++--
 hadoop-ozone/ozonefs/src/test/java/org/apache/hadoop/fs/ozone/contract/OzoneContract.java                                                                                                      |   4 ++--
 hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/scm/cli/SQLCLI.java                                                                                                                   |  48 ++++++++++++++++++++++++------------------------
 130 files changed, 2013 insertions(+), 1998 deletions(-)

commit e4bf38cf50943565796c00f8b5711a2882813488
Author: Sunil G <sunilg@apache.org>
Date:   Fri Jul 6 12:05:32 2018 -0700

    YARN-8492. ATSv2 HBase tests are failing with ClassNotFoundException. Contributed by Rohith Sharma K S.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice-hbase-tests/pom.xml | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 498e3bfb6b93bf542e5581d83e64e920983fe87e
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Thu Jul 5 14:19:05 2018 -0700

    HADOOP-15571. Multiple FileContexts created with the same configuration object should be allowed to have different umask. Contributed by Vinod Kumar Vavilapalli.

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileContext.java                                         |  9 +++++----
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestFileContext.java                                     | 44 ++++++++++++++++++++++++++++++++++++++++++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/logaggregation/AggregatedLogFormat.java |  6 ++----
 3 files changed, 49 insertions(+), 10 deletions(-)

commit a129e3e74e16ed039d637dc1499dc3e5df317d94
Author: Robert Kanter <rkanter@apache.org>
Date:   Thu Jul 5 10:54:19 2018 -0700

    YARN-7451. Add missing tests to verify the presence of custom resources of RM apps and scheduler webservice endpoints (snemeth via rkanter)

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/dao/AppInfo.java                                                     |   2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/dao/SchedulerInfo.java                                               |   8 ++++++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/TestFairSchedulerConfiguration.java                          |   9 ++++++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/TestRMWebServices.java                                               |  31 ++++++++++++++++---------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/TestRMWebServicesApps.java                                           |  14 ++++++++------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/TestRMWebServicesAppsCustomResourceTypes.java                        | 242 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/TestRMWebServicesCapacitySched.java                                  |  30 +++++++++++++++++-------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/TestRMWebServicesConfigurationMutation.java                          |   5 +++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/TestRMWebServicesFairScheduler.java                                  |  95 +++++++++++++++++++++++++++++++++++++++++++++++++----------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/TestRMWebServicesSchedulerActivities.java                            |   2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/fairscheduler/CustomResourceTypesConfigurationProvider.java          | 138 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/fairscheduler/FairSchedulerJsonVerifications.java                    | 139 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/fairscheduler/FairSchedulerXmlVerifications.java                     | 153 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/fairscheduler/TestRMWebServicesFairSchedulerCustomResourceTypes.java | 271 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/helper/AppInfoJsonVerifications.java                                 | 123 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/helper/AppInfoXmlVerifications.java                                  | 132 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/helper/BufferedClientResponse.java                                   |  57 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/helper/JsonCustomResourceTypeTestcase.java                           |  77 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/helper/ResourceRequestsJsonVerifications.java                        | 252 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/helper/ResourceRequestsXmlVerifications.java                         | 215 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/helper/XmlCustomResourceTypeTestCase.java                            | 112 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 21 files changed, 2020 insertions(+), 87 deletions(-)

commit 9edc74f64a31450af3c55c0dadf352862e4b359d
Author: Haibo Chen <haibochen@apache.org>
Date:   Thu Jul 5 10:42:39 2018 -0700

    YARN-7556. Fair scheduler configuration should allow resource types in the minResources and maxResources properties. (Daniel Templeton and Szilard Nemeth via Haibo Chen)

 hadoop-yarn-project/hadoop-yarn/dev-support/findbugs-exclude.xml                                                                                                                                           |  17 ++++++++++++-----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/api/records/Resource.java                                                                                             |  13 +++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/api/records/impl/LightWeightResource.java                                                                             |  23 +++++++++++++++++++----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/ConfigurableResource.java                 |  69 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/FairSchedulerConfiguration.java           | 174 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++---------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/allocation/AllocationFileQueueParser.java |   2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/TestFairSchedulerConfiguration.java       | 151 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++---------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/FairScheduler.md                                                                                                                        |   6 +++---
 8 files changed, 385 insertions(+), 70 deletions(-)

commit 7dcf5878a40bcaff815527af85bfd1302bae6d32
Author: Bharat Viswanadham <bharat@apache.org>
Date:   Fri Jul 6 11:01:33 2018 -0700

    HDDS-204. Modify Integration tests for new ContainerIO classes. Contributed by Bharat Viswanadham

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueHandler.java               |  8 ++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/helpers/KeyValueContainerUtil.java | 10 ----------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/ContainerReader.java              | 18 ++++++++++++++----
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/OzoneContainer.java               |  2 +-
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/keyvalue/TestKeyValueHandler.java           | 51 +--------------------------------------------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/genconf/TestGenerateOzoneRequiredConfigurations.java  |  5 ++++-
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/scm/TestContainerSmallFile.java                       |  2 +-
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/web/client/TestKeys.java                              |  2 ++
 8 files changed, 31 insertions(+), 67 deletions(-)

commit 2c2351e87b60d3e8b50b94e9ca5ab78d7afae783
Author: Bharat Viswanadham <bharat@apache.org>
Date:   Thu Jul 5 15:23:39 2018 -0700

    HDDS-182:CleanUp Reimplemented classes. Contributed by Hansiha Koneru

 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/OzoneConsts.java                                                                            |   10 ++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/helpers/ChunkUtils.java                                         |  343 -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/helpers/ContainerData.java                                      |  512 --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/helpers/ContainerUtils.java                                     |  179 ++++++++++-------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/helpers/KeyUtils.java                                           |  148 ----------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ChunkManagerImpl.java                                      |  233 -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerData.java                                         |  131 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-----------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerDataYaml.java                                     |   29 +++++++++++++++++------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerLocationManagerImpl.java                          |  158 --------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerManagerImpl.java                                  | 1115 -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerSet.java                                          |   19 ++++++++++++++++---
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerStorageLocation.java                              |  212 --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/Dispatcher.java                                            |  695 -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/KeyManagerImpl.java                                        |  204 ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/RandomContainerDeletionChoosingPolicy.java                 |    1 -
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/TopNOrderedContainerDeletionChoosingPolicy.java            |    1 -
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/interfaces/ChunkManager.java                                    |   73 -------------------------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/interfaces/Container.java                                       |    1 -
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/interfaces/ContainerDeletionChoosingPolicy.java                 |    3 ++-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/interfaces/ContainerManager.java                                |  267 ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/interfaces/KeyManager.java                                      |   73 -------------------------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/VolumeSet.java                                           |   13 +++++--------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueContainer.java                                        |   36 +++++++++++++++++++-----------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueContainerData.java                                    |   80 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueHandler.java                                          |    2 +-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/helpers/ChunkUtils.java                                       |   18 +++++++++---------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/helpers/KeyUtils.java                                         |   19 ++++++++++---------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/helpers/KeyValueContainerUtil.java                            |   48 +++++++++++++++++++++++++++++++++---------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/impl/ChunkManagerImpl.java                                    |   10 +++++++---
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/{common => keyvalue}/statemachine/background/BlockDeletingService.java |   35 ++++++++++++++++++-----------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/{common => keyvalue}/statemachine/background/package-info.java         |    2 +-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/OzoneContainer.java                                          |    2 +-
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/TestKeyValueContainerData.java                                  |    2 +-
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/impl/TestContainerDataYaml.java                                 |    6 +++---
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/impl/TestContainerSet.java                                      |   10 +++++-----
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/volume/TestRoundRobinVolumeChoosingPolicy.java                  |    6 +-----
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/volume/TestVolumeSet.java                                       |    6 +-----
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/keyvalue/TestKeyValueContainer.java                                    |   20 +-------------------
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/keyvalue/TestKeyValueHandler.java                                      |   11 ++++-------
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/ozoneimpl/TestOzoneContainer.java                                      |    2 +-
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/testutils/BlockDeletingServiceTestImpl.java                            |    9 ++++-----
 hadoop-hdds/container-service/src/test/resources/additionalfields.container                                                                          |    2 +-
 hadoop-hdds/container-service/src/test/resources/incorrect.container                                                                                 |    2 +-
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/ContainerTestHelper.java                                               |    2 ++
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/TestBlockDeletingService.java                                   |  118 ++++++++++++++++++++++++++++++++++++++++++++++------------------------------------------------------------------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/impl/TestContainerDeletionChoosingPolicy.java                   |   63 ++++++++++++++++++++++++---------------------------------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/impl/TestContainerPersistence.java                              |  478 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/metrics/TestContainerMetrics.java                                      |    3 ++-
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/server/TestContainerServer.java                                        |   14 +++++---------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/scm/TestSCMCli.java                                                              |   44 +++++++++++++++++++++++++-------------------
 hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/genesis/BenchMarkDatanodeDispatcher.java                                                    |   24 ++++++++----------------
 51 files changed, 696 insertions(+), 4798 deletions(-)

commit 39ad98903a5f042573b97a2e5438bc57af7cc7a1
Author: Anu Engineer <aengineer@apache.org>
Date:   Thu Jul 5 12:22:18 2018 -0700

    Revert "Merge branch 'trunk' of https://git-wip-us.apache.org/repos/asf/hadoop into trunk"
    
    This reverts commit c163d1797ade0f47d35b4a44381b8ef1dfec5b60, reversing
    changes made to 0d9804dcef2eab5ebf84667d9ca49bb035d9a731.

 hadoop-yarn-project/hadoop-yarn/dev-support/findbugs-exclude.xml                                                                                                                                                              |  17 +++++------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/api/records/Resource.java                                                                                                                |  13 -------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/api/records/impl/LightWeightResource.java                                                                                                |  23 ++++-------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/ConfigurableResource.java                                    |  69 +++------------------------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/FairSchedulerConfiguration.java                              | 174 +++++++++++++++++++++---------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/allocation/AllocationFileQueueParser.java                    |   2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/dao/AppInfo.java                                                     |   2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/dao/SchedulerInfo.java                                               |   8 ++------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/TestFairSchedulerConfiguration.java                          | 160 ++++++++++++++++++++++++++++++++++++----------------------------------------------------------------------------------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/TestRMWebServices.java                                               |  31 +++++++++++++++----------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/TestRMWebServicesApps.java                                           |  14 ++++++--------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/TestRMWebServicesAppsCustomResourceTypes.java                        | 242 --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/TestRMWebServicesCapacitySched.java                                  |  30 +++++++++++++-----------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/TestRMWebServicesConfigurationMutation.java                          |   5 -----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/TestRMWebServicesFairScheduler.java                                  |  95 ++++++++++++++++++++++++++++++++++++++++++++++-------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/TestRMWebServicesSchedulerActivities.java                            |   2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/fairscheduler/CustomResourceTypesConfigurationProvider.java          | 138 ------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/fairscheduler/FairSchedulerJsonVerifications.java                    | 139 -------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/fairscheduler/FairSchedulerXmlVerifications.java                     | 153 ---------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/fairscheduler/TestRMWebServicesFairSchedulerCustomResourceTypes.java | 271 -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/helper/AppInfoJsonVerifications.java                                 | 123 ---------------------------------------------------------------------------------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/helper/AppInfoXmlVerifications.java                                  | 132 ------------------------------------------------------------------------------------------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/helper/BufferedClientResponse.java                                   |  57 ---------------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/helper/JsonCustomResourceTypeTestcase.java                           |  77 -----------------------------------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/helper/ResourceRequestsJsonVerifications.java                        | 252 ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/helper/ResourceRequestsXmlVerifications.java                         | 215 -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/helper/XmlCustomResourceTypeTestCase.java                            | 112 ----------------------------------------------------------------------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/FairScheduler.md                                                                                                                                           |   6 +++---
 28 files changed, 157 insertions(+), 2405 deletions(-)

commit a404164939c898aaf1ced90747b1011ed722e99a
Author: Bharat Viswanadham <bharat@apache.org>
Date:   Thu Jul 5 11:26:00 2018 -0700

    HDDS-229:Remove singleton for Handler. Contributed by Bharat Viswanadham

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/interfaces/Handler.java |  2 +-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueHandler.java  | 22 ++++------------------
 2 files changed, 5 insertions(+), 19 deletions(-)

commit c163d1797ade0f47d35b4a44381b8ef1dfec5b60
Merge: 0d9804dcef2 99febe7fd50
Author: Giovanni Matteo Fumarola <gifuma@apache.com>
Date:   Thu Jul 5 10:55:05 2018 -0700

    Merge branch 'trunk' of https://git-wip-us.apache.org/repos/asf/hadoop into trunk

commit 0d9804dcef2eab5ebf84667d9ca49bb035d9a731
Author: Giovanni Matteo Fumarola <gifuma@apache.com>
Date:   Thu Jul 5 10:54:31 2018 -0700

    YARN-8435. Fix NPE when the same client simultaneously contact for the first time Yarn Router. Contributed by Rang Jiaheng.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-router/src/main/java/org/apache/hadoop/yarn/server/router/clientrm/RouterClientRMService.java     | 53 ++++++++++++++++++++++++++---------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-router/src/main/java/org/apache/hadoop/yarn/server/router/rmadmin/RouterRMAdminService.java       | 51 +++++++++++++++++++++++++--------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-router/src/main/java/org/apache/hadoop/yarn/server/router/webapp/RouterWebServices.java           | 48 +++++++++++++++++++++++-------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-router/src/test/java/org/apache/hadoop/yarn/server/router/clientrm/TestRouterClientRMService.java | 60 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-router/src/test/java/org/apache/hadoop/yarn/server/router/rmadmin/TestRouterRMAdminService.java   | 60 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-router/src/test/java/org/apache/hadoop/yarn/server/router/webapp/TestRouterWebServices.java       | 65 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 6 files changed, 259 insertions(+), 78 deletions(-)

commit 99febe7fd50c31c0f5dd40fa7f376f2c1f64f8c3
Author: Robert Kanter <rkanter@apache.org>
Date:   Thu Jul 5 10:54:19 2018 -0700

    YARN-7451. Add missing tests to verify the presence of custom resources of RM apps and scheduler webservice endpoints (snemeth via rkanter)

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/dao/AppInfo.java                                                     |   2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/dao/SchedulerInfo.java                                               |   8 ++++++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/TestFairSchedulerConfiguration.java                          |   9 ++++++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/TestRMWebServices.java                                               |  31 ++++++++++++++++---------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/TestRMWebServicesApps.java                                           |  14 ++++++++------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/TestRMWebServicesAppsCustomResourceTypes.java                        | 242 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/TestRMWebServicesCapacitySched.java                                  |  30 +++++++++++++++++-------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/TestRMWebServicesConfigurationMutation.java                          |   5 +++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/TestRMWebServicesFairScheduler.java                                  |  95 +++++++++++++++++++++++++++++++++++++++++++++++++----------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/TestRMWebServicesSchedulerActivities.java                            |   2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/fairscheduler/CustomResourceTypesConfigurationProvider.java          | 138 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/fairscheduler/FairSchedulerJsonVerifications.java                    | 139 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/fairscheduler/FairSchedulerXmlVerifications.java                     | 153 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/fairscheduler/TestRMWebServicesFairSchedulerCustomResourceTypes.java | 271 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/helper/AppInfoJsonVerifications.java                                 | 123 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/helper/AppInfoXmlVerifications.java                                  | 132 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/helper/BufferedClientResponse.java                                   |  57 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/helper/JsonCustomResourceTypeTestcase.java                           |  77 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/helper/ResourceRequestsJsonVerifications.java                        | 252 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/helper/ResourceRequestsXmlVerifications.java                         | 215 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/helper/XmlCustomResourceTypeTestCase.java                            | 112 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 21 files changed, 2020 insertions(+), 87 deletions(-)

commit 17262470246232d0f0651d627a4961e55b1efe6a
Author: Haibo Chen <haibochen@apache.org>
Date:   Thu Jul 5 10:42:39 2018 -0700

    YARN-7556. Fair scheduler configuration should allow resource types in the minResources and maxResources properties. (Daniel Templeton and Szilard Nemeth via Haibo Chen)

 hadoop-yarn-project/hadoop-yarn/dev-support/findbugs-exclude.xml                                                                                                                                           |  17 ++++++++++++-----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/api/records/Resource.java                                                                                             |  13 +++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/api/records/impl/LightWeightResource.java                                                                             |  23 +++++++++++++++++++----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/ConfigurableResource.java                 |  69 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/FairSchedulerConfiguration.java           | 174 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++---------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/allocation/AllocationFileQueueParser.java |   2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/TestFairSchedulerConfiguration.java       | 151 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++---------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/FairScheduler.md                                                                                                                        |   6 +++---
 8 files changed, 385 insertions(+), 70 deletions(-)

commit 71df8c27c9a0e326232d3baf16414a63b5ea5a4b
Author: Nanda kumar <nanda@apache.org>
Date:   Thu Jul 5 02:11:10 2018 +0530

    HDDS-212. Introduce NodeStateManager to manage the state of Datanodes in SCM. Contributed by Nanda kumar.

 hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/client/ContainerOperationClient.java                                   |   8 ++++----
 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/protocol/DatanodeDetails.java                                              |  13 ++++++++++---
 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ScmConfigKeys.java                                                     |   4 ----
 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/client/ScmClient.java                                                  |   5 ++---
 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/protocol/StorageContainerLocationProtocol.java                         |   5 ++---
 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/protocolPB/StorageContainerLocationProtocolClientSideTranslatorPB.java |   8 +++-----
 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/protocolPB/StorageContainerLocationProtocolServerSideTranslatorPB.java    |   8 +++-----
 hadoop-hdds/common/src/main/proto/StorageContainerLocationProtocol.proto                                                           |  19 +++----------------
 hadoop-hdds/common/src/main/proto/hdds.proto                                                                                       |  13 +++++--------
 hadoop-hdds/common/src/main/resources/ozone-default.xml                                                                            |  11 -----------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/hdds/scm/HddsServerUtil.java                                         |  11 -----------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/protocol/StorageContainerNodeProtocol.java                     |   4 +---
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/DatanodeInfo.java                                             | 109 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/HeartbeatQueueItem.java                                       |  98 --------------------------------------------------------------------------------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeManager.java                                              |  16 ++++------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeStateManager.java                                         | 575 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java                                           | 506 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/states/NodeAlreadyExistsException.java                        |  45 +++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/states/NodeException.java                                     |  44 ++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/states/NodeNotFoundException.java                             |  49 +++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/states/NodeStateMap.java                                      | 281 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMClientProtocolServer.java                                |  60 +++++++++++++-----------------------------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMDatanodeHeartbeatDispatcher.java                         |   2 +-
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMDatanodeProtocolServer.java                              |   2 +-
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/MockNodeManager.java                                     |  58 ++++------------------------------------------------------
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/node/TestContainerPlacement.java                                   |  10 +++++-----
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/node/TestNodeManager.java                                          | 176 +++++++++++++++++++++++++++++++++++++++++++++++++++-----------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/ozone/container/testutils/ReplicationNodeManagerMock.java                   |  37 ++++---------------------------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/TestStorageContainerManager.java                               |   4 ++--
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/scm/node/TestQueryNode.java                                    |  19 +++++++++----------
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/ksm/KeySpaceManager.java                                          |   6 ++----
 31 files changed, 1288 insertions(+), 918 deletions(-)

commit 3b637155a47d2aa93284969a96208347a647083d
Author: Yiqun Lin <yqlin@apache.org>
Date:   Wed Jul 4 15:03:24 2018 +0800

    HDFS-13528. RBF: If a directory exceeds quota limit then quota usage is not refreshed for other mount entries. Contributed by Dibyendu Karmakar.

 hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/router/Quota.java                    |   2 +-
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/router/RouterQuotaUpdateService.java |  43 ++++++++++++++++++++++++++++++++++++++-----
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/test/java/org/apache/hadoop/hdfs/server/federation/router/TestRouterQuota.java          | 212 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++--------
 3 files changed, 243 insertions(+), 14 deletions(-)

commit 7ca4f0cefa220c752920822c8d16469ab3b09b37
Author: Anu Engineer <aengineer@apache.org>
Date:   Tue Jul 3 13:30:19 2018 -0700

    HDDS-175. Refactor ContainerInfo to remove Pipeline object from it.
    Contributed by Ajay Kumar.

 hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/client/ContainerOperationClient.java                                                   | 109 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-------------------------
 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/client/ScmClient.java                                                                  |  38 ++++++++++++++++++++++++++++++++++++--
 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/container/common/helpers/ContainerInfo.java                                            | 167 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++----------------------------------------------------
 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/container/common/helpers/ContainerWithPipeline.java                                    | 131 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/protocol/StorageContainerLocationProtocol.java                                         |  13 ++++++++++++-
 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/protocolPB/StorageContainerLocationProtocolClientSideTranslatorPB.java                 |  26 ++++++++++++++++++++++++--
 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/protocolPB/StorageContainerLocationProtocolServerSideTranslatorPB.java                    |  25 ++++++++++++++++++++++---
 hadoop-hdds/common/src/main/proto/StorageContainerLocationProtocol.proto                                                                           |  15 ++++++++++++++-
 hadoop-hdds/common/src/main/proto/hdds.proto                                                                                                       |   9 ++++++++-
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/BlockManagerImpl.java                                                        |  80 ++++++++++++++++++++++++++++++++++++++++++++------------------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/DatanodeDeletedBlockTransactions.java                                        |  11 ++++++-----
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/CloseContainerEventHandler.java                                          |  26 +++++++++++++++++++-------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerMapping.java                                                    | 128 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerStateManager.java                                               |  30 ++++++++++++++++++++++++------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/Mapping.java                                                             |  26 ++++++++++++++++++++++++--
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/closer/ContainerCloser.java                                              |  15 ++++++++-------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/states/ContainerStateMap.java                                            |   7 ++++---
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/PipelineManager.java                                                     |  27 ++++++++++++++++++++++++++-
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/PipelineSelector.java                                                    |  16 ++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/ratis/RatisManagerImpl.java                                              |   1 +
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/standalone/StandaloneManagerImpl.java                                    |   1 +
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMClientProtocolServer.java                                                |  14 ++++++++++++--
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/block/TestDeletedBlockLog.java                                                     |  15 +++++++++++----
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/TestCloseContainerEventHandler.java                                      |  31 ++++++++++++++++++-------------
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/TestContainerMapping.java                                                |  27 +++++++++++++++------------
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/closer/TestContainerCloser.java                                          |  18 +++++++++++-------
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/node/TestContainerPlacement.java                                                   |   6 +++---
 hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/container/CloseContainerHandler.java                                                |  10 +++++-----
 hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/container/DeleteContainerHandler.java                                               |   9 +++++----
 hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/container/InfoContainerHandler.java                                                 |  11 +++++------
 hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/ChunkGroupInputStream.java                                                     |  15 ++++++++-------
 hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/ChunkGroupOutputStream.java                                                    |   9 ++++++---
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/protocolPB/OzonePBHelper.java                                                            |  30 ++++++++++++++++++++++++++++++
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/hdds/scm/container/TestContainerStateManager.java                                    | 161 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++---------------------------------------------------------------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/TestContainerOperations.java                                                   |  11 +++++------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/TestStorageContainerManager.java                                               |   6 +++---
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/TestStorageContainerManagerHelper.java                                         |  10 ++++++----
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/client/rpc/TestOzoneRpcClient.java                                             |   4 ++--
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/TestCloseContainerByPipeline.java |  21 +++++++++------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/ksm/TestContainerReportWithKeys.java                                           |   2 +-
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/scm/TestAllocateContainer.java                                                 |   6 ++----
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/scm/TestContainerSmallFile.java                                                |  36 +++++++++++++++++++-----------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/scm/TestSCMCli.java                                                            | 135 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++----------------------------------------------------------------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/scm/TestXceiverClientManager.java                                              |  62 +++++++++++++++++++++++++++++++++++---------------------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/scm/TestXceiverClientMetrics.java                                              |  14 ++++++++------
 hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/genesis/BenchMarkContainerStateMap.java                                                   |  16 ++++++++++++----
 hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/scm/cli/SQLCLI.java                                                                       |  63 +++++++++++++++++++++++----------------------------------------
 47 files changed, 1139 insertions(+), 504 deletions(-)

commit 93ac01cb59b99b84b4f1ff26c089dcb5ce1b7c89
Author: Aaron Fabbri <fabbri@apache.org>
Date:   Tue Jul 3 13:50:11 2018 -0700

    HADOOP-15215 s3guard set-capacity command to fail on read/write of 0 (Gabor Bota)

 hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/s3guard/S3GuardTool.java                 | 10 ++++++++++
 hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/s3guard/AbstractS3GuardToolTestBase.java | 18 ++++++++++++++++++
 2 files changed, 28 insertions(+)

commit c0ef7e7680d882e2182f48f033109678a48742ab
Author: Anu Engineer <aengineer@apache.org>
Date:   Tue Jul 3 11:38:14 2018 -0700

    HDDS-198. Create AuditLogger mechanism to be used by OM, SCM and Datanode.
    Contributed by Dinesh Chitlangia.

 hadoop-hdds/common/pom.xml                                                               |  18 ++++++++++++++++++
 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/audit/AuditAction.java          |  30 ++++++++++++++++++++++++++++++
 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/audit/AuditEventStatus.java     |  36 ++++++++++++++++++++++++++++++++++++
 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/audit/AuditLogger.java          | 128 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/audit/AuditLoggerType.java      |  37 +++++++++++++++++++++++++++++++++++++
 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/audit/AuditMarker.java          |  38 ++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/audit/Auditable.java            |  32 ++++++++++++++++++++++++++++++++
 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/audit/package-info.java         | 123 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/common/src/test/java/org/apache/hadoop/ozone/audit/DummyAction.java          |  51 +++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/common/src/test/java/org/apache/hadoop/ozone/audit/DummyEntity.java          |  57 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/common/src/test/java/org/apache/hadoop/ozone/audit/TestOzoneAuditLogger.java | 131 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/common/src/test/java/org/apache/hadoop/ozone/audit/package-info.java         |  23 +++++++++++++++++++++++
 hadoop-hdds/common/src/test/resources/log4j2.properties                                  |  76 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/audit/OMAction.java            |  51 +++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/audit/package-info.java        |  22 ++++++++++++++++++++++
 15 files changed, 853 insertions(+)

commit 51654a3962bcd0482c0e1dd32765e9533e3f9158
Author: Sunil G <sunilg@apache.org>
Date:   Tue Jul 3 09:59:20 2018 -0700

    YARN-8459. Improve Capacity Scheduler logs to debug invalid states. Contributed by Wangda Tan.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/CapacityScheduler.java                    | 39 ++++++++++++++++++++++++++-------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/ParentQueue.java                          | 36 ++++++++++++++++++++++++------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/allocator/AbstractContainerAllocator.java | 13 ++++++++-----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/common/fica/FiCaSchedulerApp.java                  |  5 +++++
 4 files changed, 63 insertions(+), 30 deletions(-)

commit e1f4b3b560a9ec2b34bb9ffbfe71fd3b0ac48120
Author: Hanisha Koneru <hanishakoneru@apache.org>
Date:   Tue Jul 3 09:53:41 2018 -0700

    HDDS-176. Add keyCount and container maximum size to ContainerData. Contributed by Bharat Viswanadham.

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerData.java                  | 50 ++++++++++++++++++++++++++++++++++++++++++++++++--
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerDataYaml.java              | 10 +++++++---
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/states/endpoint/VersionEndpointTask.java |  3 ---
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueContainer.java                 |  8 ++------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueContainerData.java             | 20 +++++++++++++-------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueHandler.java                   | 14 +++++++++-----
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/helpers/KeyValueContainerUtil.java     |  1 +
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/impl/KeyManagerImpl.java               |  6 ++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/impl/package-info.java                 | 22 ++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/ContainerReader.java                  | 21 ++++++++++++++-------
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/TestKeyValueContainerData.java           |  8 +++++++-
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/impl/TestContainerDataYaml.java          |  6 +++++-
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/impl/TestContainerSet.java               |  4 ++--
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/keyvalue/TestChunkManagerImpl.java              |  2 +-
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/keyvalue/TestKeyManagerImpl.java                |  7 ++++++-
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/keyvalue/TestKeyValueContainer.java             |  2 +-
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/ozoneimpl/TestOzoneContainer.java               |  2 +-
 hadoop-hdds/container-service/src/test/resources/additionalfields.container                                                   |  1 +
 hadoop-hdds/container-service/src/test/resources/incorrect.container                                                          |  1 +
 19 files changed, 147 insertions(+), 41 deletions(-)

commit 44b091a8d776db954db1f9ddbba91f7b9445c8ec
Author: Hanisha Koneru <hanishakoneru@apache.org>
Date:   Tue Jul 3 09:50:25 2018 -0700

    HDDS-205. Add metrics to HddsDispatcher. Contributed by Bharat Viswanadham.

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/helpers/ContainerMetrics.java |  2 +-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/Dispatcher.java          |  2 +-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/HddsDispatcher.java      | 24 ++++++++++++++++++++----
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/interfaces/Handler.java       | 14 +++++++++-----
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueHandler.java        | 41 +++++++++++++++++++++++++++++++++++------
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/keyvalue/TestKeyValueHandler.java    | 13 ++++++++++---
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/metrics/TestContainerMetrics.java    | 59 ++++++++++++++++++++++++++++++++++-------------------------
 7 files changed, 110 insertions(+), 45 deletions(-)

commit 344f324710522ffb27852c1a673c4f7d3d6eac4b
Author: Andrew Wang <wang@apache.org>
Date:   Tue Jul 3 11:07:45 2018 +0200

    HDFS-13712. BlockReaderRemote.read() logging improvement. Contributed by Gergo Repas.

 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/client/impl/BlockReaderRemote.java | 14 ++++++++++----
 1 file changed, 10 insertions(+), 4 deletions(-)

commit d9ba6f3656e8dc97d2813181e27d12e52dca4328
Author: Junping Du <junping_du@apache.org>
Date:   Tue Jul 3 14:46:44 2018 +0800

    yarn.resourcemanager.fail-fast is used inconsistently. Contributed by Yuanbo Liu.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/conf/capacity-scheduler.xml                                                                                        | 10 ++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/CapacityScheduler.java              |  6 +++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/CapacitySchedulerConfiguration.java | 10 ++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/TestWorkPreservingRMRestart.java                       |  2 ++
 4 files changed, 25 insertions(+), 3 deletions(-)

commit 59a3038bc3d7913dca3de971026bc32cef536a2d
Author: Bharat Viswanadham <bharat@apache.org>
Date:   Mon Jul 2 21:43:18 2018 -0700

    HDFS-13715:diskbalancer does not work if one of the blockpools are empty on a Federated cluster. Contributed by Bharat Viswanadham

 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/DiskBalancer.java                 | 29 ++++++++++++++++++++---------
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/fsdataset/impl/FsDatasetImpl.java |  8 ++++++++
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/diskbalancer/TestDiskBalancer.java         | 75 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-------
 3 files changed, 96 insertions(+), 16 deletions(-)

commit 7296b644f7c44400f03995668573a4cfd2ee552c
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Mon Jul 2 16:36:25 2018 -0700

    HDFS-13714. Fix TestNameNodePrunesMissingStorages test failures on Windows. Contributed by Lukas Majercak.

 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/blockmanagement/TestNameNodePrunesMissingStorages.java | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit fa9ef15ecd6dc30fb260e1c342a2b51505d39b6b
Author: Sunil G <sunilg@apache.org>
Date:   Mon Jul 2 15:34:37 2018 -0700

    YARN-8415. TimelineWebServices.getEntity should throw ForbiddenException instead of 404 when ACL checks fail. Contributed by Suma Shivaprasad.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/timeline/RollingLevelDBTimelineStore.java    | 6 ++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/timeline/TimelineDataManager.java            | 7 ++++++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/timeline/webapp/TimelineWebServices.java     | 4 ++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/test/java/org/apache/hadoop/yarn/server/timeline/webapp/TestTimelineWebServices.java | 2 +-
 4 files changed, 17 insertions(+), 2 deletions(-)

commit 53e267fa7232add3c21174382d91b2607aa6becf
Author: Shane Kumpf <skumpf@apache.org>
Date:   Mon Jul 2 16:18:32 2018 -0600

    YARN-8485. Priviledged container app launch is failing intermittently. Contributed by Eric Yang

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/native/container-executor/impl/utils/docker-util.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ab2f8343a9810c9ec8b0920215a0897e7f671aba
Author: Nanda kumar <nanda@apache.org>
Date:   Tue Jul 3 00:51:16 2018 +0530

    HDDS-206. Ozone shell command doesn't respect KSM port set in ozone-site.xml. Contributed by Shashikant Banerjee.

 hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/OzoneClientFactory.java | 13 +++++++------
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/KsmUtils.java                  | 24 ++++++++++++++++--------
 2 files changed, 23 insertions(+), 14 deletions(-)

commit 1804a31515e541b3371925aa895589919b54d443
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Mon Jul 2 10:48:20 2018 -0700

    HDFS-13536. [PROVIDED Storage] HA for InMemoryAliasMap. Contributed by Virajith Jalaparti.

 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/DFSUtilClient.java                                               |   4 ++--
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/client/HdfsClientConfigKeys.java                                 |   3 +++
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/server/namenode/ha/ConfiguredFailoverProxyProvider.java          |   9 ++++++++-
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/server/namenode/ha/InMemoryAliasMapFailoverProxyProvider.java    |  38 ++++++++++++++++++++++++++++++++++++++
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DFSConfigKeys.java                                                      |   5 ++++-
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DFSUtil.java                                                            |  37 ++++++++++++++++++++++++++++++++++++-
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/NameNodeProxies.java                                                    |  15 ++++++++++++++-
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/protocolPB/InMemoryAliasMapProtocolClientSideTranslatorPB.java          |  95 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++--------------------
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/aliasmap/InMemoryAliasMapProtocol.java                           |   5 +++++
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/aliasmap/InMemoryLevelDBAliasMapServer.java                      |  19 ++++++++++---------
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/common/blockaliasmap/impl/InMemoryLevelDBAliasMapClient.java     |  80 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++----------------------
 hadoop-hdfs-project/hadoop-hdfs/src/main/resources/hdfs-default.xml                                                                          |  22 ++++++++++++++++++++--
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/MiniDFSCluster.java                                                     |  13 ++++++++++++-
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/MiniDFSNNTopology.java                                                  |   2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/common/blockaliasmap/impl/TestInMemoryLevelDBAliasMapClient.java |   7 +++++++
 hadoop-tools/hadoop-fs2img/src/test/java/org/apache/hadoop/hdfs/server/namenode/ITestProvidedImplementation.java                             | 371 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-------------------------------------------------
 16 files changed, 615 insertions(+), 110 deletions(-)

commit 5cc2541a163591181b80bf2ec42c1e7e7f8929f5
Author: Eric Yang <eyang@apache.org>
Date:   Mon Jul 2 13:37:51 2018 -0400

    YARN-8465. Fixed docker container status for node manager restart.
               Contributed by Shane Kumpf

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/runtime/DockerLinuxContainerRuntime.java |  4 ++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/runtime/ContainerExecutionException.java       |  6 ++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/runtime/TestDockerContainerRuntime.java  | 10 ++++++++--
 3 files changed, 16 insertions(+), 4 deletions(-)

commit fef20a446f7bf9f29e0f0ee690987fb6fc78a031
Author: Wei-Chiu Chuang <weichiu@apache.org>
Date:   Mon Jul 2 09:41:15 2018 -0700

    HDFS-13635. Incorrect message when block is not found. Contributed by Gabor Bota.

 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/server/datanode/ReplicaNotFoundException.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f51da9c4d1423c2ac92eb4f40e973264e7e968cc
Author: Andrew Wang <wang@apache.org>
Date:   Mon Jul 2 18:31:21 2018 +0200

    HADOOP-15554. Improve JIT performance for Configuration parsing. Contributed by Todd Lipcon.

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/conf/Configuration.java | 458 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 1 file changed, 276 insertions(+), 182 deletions(-)

commit 5d748bd056a32f2c6922514cd0c5b31d866a9919
Author: Andrew Wang <wang@apache.org>
Date:   Mon Jul 2 12:11:06 2018 +0200

    HDFS-13702. Remove HTrace hooks from DFSClient to reduce CPU usage. Contributed by Todd Lipcon.

 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/DFSClient.java                               | 19 -------------------
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/DFSInputStream.java                          | 44 ++++++--------------------------------------
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/client/impl/BlockReaderFactory.java          | 16 ++--------------
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/client/impl/BlockReaderLocal.java            | 93 ++++++++++++++++++++++++++++++++++++++-------------------------------------------------------
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/client/impl/BlockReaderLocalLegacy.java      | 44 ++++++++++++++++++--------------------------
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/client/impl/BlockReaderRemote.java           | 19 +++----------------
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/erasurecode/StripedBlockReader.java |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/NamenodeFsck.java                   |  1 -
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/client/impl/BlockReaderTestUtil.java                |  2 --
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/client/impl/TestBlockReaderLocal.java               |  2 --
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/blockmanagement/TestBlockTokenWithDFS.java   |  2 --
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/datanode/TestDataNodeVolumeFailure.java      |  2 --
 12 files changed, 68 insertions(+), 178 deletions(-)

commit 6ba99741086170b83c38d3e7e715d9e8046a1e00
Author: Andrew Wang <wang@apache.org>
Date:   Mon Jul 2 12:02:19 2018 +0200

    HDFS-13703. Avoid allocation of CorruptedBlocks hashmap when no corrupted blocks are hit. Contributed by Todd Lipcon.

 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/DFSInputStream.java    |  2 +-
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/DFSUtilClient.java     | 11 ++++++-----
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/DataNode.java |  2 +-
 3 files changed, 8 insertions(+), 7 deletions(-)

commit d40121845e0e1ace6b349180ced53292353dbb7c
Author: Nanda kumar <nanda@apache.org>
Date:   Sun Jul 1 17:11:46 2018 +0530

    HADOOP-15574: Suppress build error if there are no docs after excluding private annotations. Contributed by Takanobu Asanuma.

 hadoop-common-project/hadoop-annotations/src/main/java/org/apache/hadoop/classification/tools/ExcludePrivateAnnotationsStandardDoclet.java | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit cdb084426bc27a9f902da0b6927a3354a307dd82
Author: Giovanni Matteo Fumarola <gifuma@apache.com>
Date:   Fri Jun 29 11:47:30 2018 -0700

    YARN-8481. AMRMProxyPolicies should accept heartbeat response from new/unknown subclusters. Contributed by Botong Huang.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/federation/policies/amrmproxy/BroadcastAMRMProxyPolicy.java               | 11 -----------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/federation/policies/amrmproxy/RejectAMRMProxyPolicy.java                  |  4 ----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/test/java/org/apache/hadoop/yarn/server/federation/policies/amrmproxy/TestBroadcastAMRMProxyFederationPolicy.java | 11 +++--------
 3 files changed, 3 insertions(+), 23 deletions(-)

commit d36f6b9e93e4c30d24d0e837cb00bd24ffa8f274
Author: Eric E Payne <ericp@oath.com>
Date:   Fri Jun 29 18:18:32 2018 +0000

    HADOOP-15548: Randomize local dirs. Contributed by Jim Brennan.

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/LocalDirAllocator.java     |  7 ++++++-
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestLocalDirAllocator.java | 59 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 65 insertions(+), 1 deletion(-)

commit 100470140d86eede0fa240a9aa93226f274ee4f5
Author: Jason Lowe <jlowe@apache.org>
Date:   Fri Jun 29 13:06:28 2018 -0500

    YARN-8451. Multiple NM heartbeat thread created when a slow NM resync with RM. Contributed by Botong Huang

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/NodeManager.java           | 66 ++++++++++++++++++++++++++++++++++++++++++------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/TestNodeManagerResync.java | 56 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 98 insertions(+), 24 deletions(-)

commit a820738e347854aed7cdaa7758d9c0830df624e3
Author: Rohith Sharma K S <rohithsharmaks@apache.org>
Date:   Fri Jun 29 10:21:25 2018 -0700

    YARN-8469. [UI2] URL needs to be trimmed to handle index.html redirection while accessing via knox. Contributed by Sunil Govindan.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/initializers/loader.js | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit 469b29c0817b7bf1902c9195c4f8d031a909e1c9
Author: Sunil G <sunilg@apache.org>
Date:   Fri Jun 29 10:02:53 2018 -0700

    YARN-8455. Add basic ACL check for all ATS v2 REST APIs. Contributed by Rohith Sharma K S.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice/src/main/java/org/apache/hadoop/yarn/server/timelineservice/reader/TimelineFromIdConverter.java               |  93 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice/src/main/java/org/apache/hadoop/yarn/server/timelineservice/reader/TimelineReaderWebServices.java             | 198 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++--------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice/src/test/java/org/apache/hadoop/yarn/server/timelineservice/reader/TestTimelineReaderWebServicesBasicAcl.java | 154 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 407 insertions(+), 38 deletions(-)

commit 73746c5da76d5e39df131534a1ec35dfc5d2529b
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Fri Jun 29 09:56:13 2018 -0700

    HDFS-13707. [PROVIDED Storage] Fix failing integration tests in ITestProvidedImplementation. Contributed by Virajith Jalaparti.

 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/common/blockaliasmap/impl/TextFileRegionAliasMap.java | 5 +++--
 hadoop-tools/hadoop-fs2img/src/test/java/org/apache/hadoop/hdfs/server/namenode/ITestProvidedImplementation.java                  | 2 +-
 2 files changed, 4 insertions(+), 3 deletions(-)

commit 23ebe0f4f0073816b0639bed5800e77b08b63681
Author: Bharat Viswanadham <bharat@apache.org>
Date:   Thu Jun 28 17:10:10 2018 -0700

    HDDS-169:Add Volume IO Stats. Contributed by Bharat Viswanadham

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerData.java      |  20 ++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/HddsVolume.java       |   6 ++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/VolumeIOStats.java    | 139 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueContainer.java     |   1 +
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/helpers/ChunkUtils.java    |  30 +++++++++++++++++++++++-------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/impl/ChunkManagerImpl.java |  26 ++++++++++++++++++--------
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/keyvalue/TestChunkManagerImpl.java  | 111 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++----------------------------
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/keyvalue/TestKeyManagerImpl.java    |  29 ++++++++++++++++++-----------
 8 files changed, 308 insertions(+), 54 deletions(-)

commit e4d7227aad586f055b47bdc90c65361f9fb23146
Author: Nanda kumar <nanda@apache.org>
Date:   Fri Jun 29 04:37:16 2018 +0530

    HDDS-178: DN should update transactionId on block delete. Contributed by Lokesh Jain.

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerManagerImpl.java                              |   7 ++++++-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/interfaces/ContainerManager.java                            |   2 ++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/DeleteBlocksCommandHandler.java |  29 ++++++++++++++++++++++++-----
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/TestBlockDeletion.java          | 211 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 243 insertions(+), 6 deletions(-)

commit 852ca6b432a801df51f957a9b169483008e3c744
Author: Nanda kumar <nanda@apache.org>
Date:   Fri Jun 29 04:11:39 2018 +0530

    HDDS-185: TestCloseContainerByPipeline#testCloseContainerViaRatis fail intermittently. Contributed by Shashikant Banerjee.

 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/TestCloseContainerByPipeline.java | 65 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-------
 1 file changed, 58 insertions(+), 7 deletions(-)

commit 84ac6bb1b1974ed7746c55ec79486525b1cca19b
Merge: c1045251680 291194302cc
Author: Bharat Viswanadham <bharat@apache.org>
Date:   Thu Jun 28 14:57:23 2018 -0700

    Merge branch 'trunk' into HDDS-48

commit c10452516804eed793e575dedcd1ee7758ec1f4c
Merge: 52d1d9603ec d3fa83a44b0
Author: Bharat Viswanadham <bharat@apache.org>
Date:   Thu Jun 28 14:28:23 2018 -0700

    Merge remote-tracking branch 'apache-commit/trunk' into HDDS-48

commit 52d1d9603ecc03dbe3ef5fafa60377ef461ecca3
Author: Bharat Viswanadham <bharat@apache.org>
Date:   Thu Jun 28 14:07:52 2018 -0700

    HDDS-183:Integrate Volumeset, ContainerSet and HddsDispatcher. Contributed by Bharat Viswanadham

 hadoop-hdds/common/src/main/proto/DatanodeContainerProtocol.proto                                                                                  |   1 +
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerData.java                                       |   1 +
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/{keyvalue/KeyValueYaml.java => common/impl/ContainerDataYaml.java}   |  96 ++++++++++++++++++++++++++++++++++++++++++++++++++----------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/Dispatcher.java                                          |  11 +++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/HddsDispatcher.java                                      |  28 +++++++++++++++++++---------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/interfaces/ContainerDispatcher.java                           |  14 ++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/interfaces/Handler.java                                       |  15 ++++++++-------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/DatanodeStateMachine.java                        |   4 ++--
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/background/BlockDeletingService.java             |   1 +
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/DeleteBlocksCommandHandler.java   |  56 +++++++++++++++++++++++++++++++++++++++-----------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/states/datanode/RunningDatanodeState.java                     |   3 ++-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/states/endpoint/VersionEndpointTask.java                      |  34 ++++++++++++++++++++++++++++++++--
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/HddsVolume.java                                        |   6 ++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/VolumeSet.java                                         |  48 ++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueContainer.java                                      |  52 +++++-----------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueContainerData.java                                  |  22 +++++++++++++++-------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueHandler.java                                        |  22 ++++++++++++++++------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/helpers/KeyValueContainerUtil.java                          | 134 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/ContainerReader.java                                       | 157 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/OzoneContainer.java                                        | 396 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/protocol/VersionResponse.java                                                  |   4 ++++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/SCMTestUtils.java                                             |  13 +++++++++++--
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/ScmTestMock.java                                              |   4 ++++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/TestKeyValueContainerData.java                                |   3 +--
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/impl/{TestKeyValueYaml.java => TestContainerDataYaml.java}    |  25 ++++++++++++++-----------
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/impl/TestContainerSet.java                                    |   6 ++----
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/interfaces/TestHandler.java                                   |   8 +++-----
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/keyvalue/TestChunkManagerImpl.java                                   |   3 +--
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/keyvalue/TestKeyManagerImpl.java                                     |   3 +--
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/keyvalue/TestKeyValueContainer.java                                  |  10 ++++++----
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/keyvalue/TestKeyValueHandler.java                                    |   8 ++++----
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/ozoneimpl/TestOzoneContainer.java                                    | 108 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java                                                           |   4 ++++
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/ozone/container/common/TestEndPoint.java                                                    |  20 ++++++++++++++------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/TestStorageContainerManagerHelper.java                                         |  11 +++++++----
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/TestCloseContainerByPipeline.java |   6 +++---
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/TestCloseContainerHandler.java    |   6 +++---
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/ozoneimpl/TestOzoneContainer.java                                    |  13 +++++++------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/server/TestContainerServer.java                                      |  10 ++++++++++
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/ksm/TestContainerReportWithKeys.java                                           |  14 +++++++-------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/web/client/TestKeys.java                                                       |  22 +++++++++++++---------
 41 files changed, 954 insertions(+), 448 deletions(-)

commit 291194302cc1a875d6d94ea93cf1184a3f1fc2cc
Author: Sunil G <sunilg@apache.org>
Date:   Thu Jun 28 10:23:31 2018 -0700

    YARN-8379. Improve balancing resources in already satisfied queues by using Capacity Scheduler preemption. Contributed by Zian Chen.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/AbstractPreemptableResourceCalculator.java                    |  21 ++++++++++++++++++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/CapacitySchedulerPreemptionContext.java                       |   2 ++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/CapacitySchedulerPreemptionUtils.java                         |  23 ++++++++++++++++-------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/FifoCandidatesSelector.java                                   |  45 ++++++++++++++++++++++++++++++---------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/IntraQueueCandidatesSelector.java                             |   9 +++++----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/PreemptableResourceCalculator.java                            |   7 +++++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/PreemptionCandidatesSelector.java                             |  11 +++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/ProportionalCapacityPreemptionPolicy.java                     | 129 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/QueuePriorityContainerCandidateSelector.java                  |  16 ++++++----------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/ReservedContainerCandidatesSelector.java                      |  16 ++++++----------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/TempQueuePerPartition.java                                    |   8 ++++++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/CapacitySchedulerConfiguration.java                         |  17 +++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/TestPreemptionForQueueWithPriorities.java                     |  58 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/TestProportionalCapacityPreemptionPolicyPreemptToBalance.java | 254 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/TestCapacitySchedulerSurgicalPreemption.java                | 111 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 15 files changed, 637 insertions(+), 90 deletions(-)

commit 13579f9296ddb087ff5fd24061f3aaf17741e6c9
Author: Hanisha Koneru <hanishakoneru@apache.org>
Date:   Thu Jun 28 10:13:30 2018 -0700

    HDDS-173. Refactor Dispatcher and implement Handler for new ContainerIO design.

 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/storage/ContainerProtocolCalls.java                                                       |  24 +++++++++---------------
 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/OzoneConfigKeys.java                                                                         |  12 ++++++++++++
 hadoop-hdds/common/src/main/proto/DatanodeContainerProtocol.proto                                                                                     |  20 ++++++++------------
 hadoop-hdds/common/src/main/resources/ozone-default.xml                                                                                               |  33 +++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/helpers/ChunkUtils.java                                          |   5 ++---
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/helpers/ContainerUtils.java                                      | 169 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++---------------------------------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/helpers/KeyUtils.java                                            |   5 ++---
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerSet.java                                           |   7 +++++--
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/Dispatcher.java                                             |  49 +++++++++++++++++++++++--------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/HddsDispatcher.java                                         | 180 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/interfaces/Container.java                                        |  15 +++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/interfaces/Handler.java                                          |  71 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/ContainerStateMachine.java                |   5 ++---
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/VolumeSet.java                                            |  11 +++++++----
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueContainer.java                                         |  29 +++++++++++++++++++----------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/{common/impl => keyvalue}/KeyValueContainerData.java                    |  47 ++++++++++++++++++++++++++++-------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueHandler.java                                           | 643 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/{common/impl => keyvalue}/KeyValueYaml.java                             |  15 ++++++---------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/helpers/ChunkUtils.java                                        |  50 ++++++++++++++++++++++++++++++++++++++++++++++++--
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/helpers/KeyUtils.java                                          |  35 +++++++++++++++++++++++++++++++++--
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/{ => helpers}/KeyValueContainerLocationUtil.java               |   2 +-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/{ => helpers}/KeyValueContainerUtil.java                       |  35 ++++++++++++++++++++++++++++++-----
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/{common/helpers/FileUtils.java => keyvalue/helpers/SmallFileUtils.java} |  36 +++++++++++++++++++-----------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/{ => impl}/ChunkManagerImpl.java                               |   4 ++--
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/{ => impl}/KeyManagerImpl.java                                 |  20 ++++++++++++--------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/interfaces/KeyManager.java                                     |   4 ++--
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/TestKeyValueContainerData.java                                   |  36 +-----------------------------------
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/impl/TestContainerSet.java                                       |  12 ++++++++++--
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/impl/TestKeyValueYaml.java                                       |   2 ++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/interfaces/TestHandler.java                                      |  91 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/keyvalue/TestChunkManagerImpl.java                                      |   3 +--
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/keyvalue/TestKeyManagerImpl.java                                        |   7 +++----
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/keyvalue/TestKeyValueContainer.java                                     |  10 ++++++----
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/keyvalue/TestKeyValueHandler.java                                       | 246 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/ChunkGroupInputStream.java                                                        |   6 +++---
 hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/OzoneContainerTranslation.java                                                    |  50 --------------------------------------------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/ContainerTestHelper.java                                                |  25 +++++++------------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/ozoneimpl/TestOzoneContainer.java                                       |   6 ++++--
 hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/genesis/BenchMarkDatanodeDispatcher.java                                                     |  12 ++++--------
 39 files changed, 1678 insertions(+), 354 deletions(-)

commit 384764cdeac6490bc47fa0eb7b936baa4c0d3230
Author: Eric Yang <eyang@apache.org>
Date:   Thu Jun 28 12:39:49 2018 -0400

    YARN-8409.  Fixed NPE in ActiveStandbyElectorBasedElectorService.
                Contributed by Chandni Singh

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ha/ActiveStandbyElector.java                                                                             |  5 ++++-
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ha/ZKFailoverController.java                                                                             |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/TestRMEmbeddedElector.java | 22 ++++++++++++++++++++++
 3 files changed, 27 insertions(+), 2 deletions(-)

commit d3fa83a44b01c85f39bfb4deaf2972912ac61ca3
Author: Bharat Viswanadham <bharat@apache.org>
Date:   Thu Jun 28 09:21:56 2018 -0700

    HDFS-13705:The native ISA-L library loading failure should be made warning rather than an error message. Contributed by Shashikant Banerjee.

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/erasurecode/ErasureCodeNative.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 85627e2cba91a61d675d20cdb35e188c6c81e3f2
Author: Anu Engineer <aengineer@apache.org>
Date:   Wed Jun 27 23:31:32 2018 -0700

    HDDS-195. Create generic CommandWatcher utility.
    Contributed by Elek, Marton.

 hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/EventWatcher.java             | 157 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/IdentifiableEventPayload.java |  30 ++++++++++++++++++++++++++++++
 hadoop-hdds/framework/src/test/java/org/apache/hadoop/hdds/server/events/EventHandlerStub.java         |  38 ++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/framework/src/test/java/org/apache/hadoop/hdds/server/events/TestEventWatcher.java         | 220 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 445 insertions(+)

commit ddbff7c8d3f1851e5c5fa9bc33637e859d7d8ccf
Author: Akira Ajisaka <aajisaka@apache.org>
Date:   Thu Jun 28 14:58:40 2018 +0900

    HADOOP-14313. Replace/improve Hadoop's byte[] comparator. Contributed by Vikas Vishwakarma.

 NOTICE.txt                                                                                      |  8 ++++++++
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/FastByteComparisons.java | 44 +++++++++++++++++---------------------------
 2 files changed, 25 insertions(+), 27 deletions(-)

commit 2b2399d623539ab68e71a38fa9fbfc9a405bddb8
Author: Akira Ajisaka <aajisaka@apache.org>
Date:   Thu Jun 28 14:29:40 2018 +0900

    HADOOP-15495. Upgrade commons-lang version to 3.7 in hadoop-common-project and hadoop-tools. Contributed by Takanobu Asanuma.

 hadoop-client-modules/hadoop-client-minicluster/pom.xml                                                                                                  |  8 --------
 hadoop-common-project/hadoop-common/pom.xml                                                                                                              |  5 -----
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/conf/ReconfigurationServlet.java                                                     | 42 +++++++++++++++++++++---------------------
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/crypto/key/KeyProvider.java                                                          |  4 ++--
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/crypto/key/KeyShell.java                                                             |  2 +-
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FsShell.java                                                                      |  3 +--
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/Path.java                                                                         |  2 +-
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/shell/Count.java                                                                  |  2 +-
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/ElasticByteBufferPool.java                                                        |  2 +-
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/erasurecode/ECSchema.java                                                         |  4 ++--
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/nativeio/SharedFileDescriptorFactory.java                                         |  2 +-
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/CallerContext.java                                                               |  4 ++--
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/DecayRpcScheduler.java                                                           |  4 ++--
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/FairCallQueue.java                                                               |  4 ++--
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/metrics2/MetricsJsonBuilder.java                                                     |  2 +-
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/metrics2/lib/MethodMetric.java                                                       |  2 +-
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/metrics2/lib/MutableMetricsFactory.java                                              |  2 +-
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/metrics2/lib/MutableQuantiles.java                                                   |  2 +-
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/metrics2/lib/MutableRollingAverages.java                                             |  2 +-
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/metrics2/lib/MutableStat.java                                                        |  2 +-
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/metrics2/sink/RollingFileSystemSink.java                                             |  2 +-
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/net/TableMapping.java                                                                |  2 +-
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/net/unix/DomainSocket.java                                                           |  2 +-
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/net/unix/DomainSocketWatcher.java                                                    |  2 +-
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/ShellBasedUnixGroupsMapping.java                                            |  2 +-
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/alias/CredentialShell.java                                                  |  2 +-
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/http/CrossOriginFilter.java                                                 |  2 +-
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/DtFileOperations.java                                                 |  2 +-
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/tools/TableListing.java                                                              |  6 +++---
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/StringUtils.java                                                                | 64 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++--
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/conf/TestConfiguration.java                                                          |  2 +-
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/conf/TestConfigurationFieldsBase.java                                                |  2 +-
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/crypto/random/TestOsSecureRandom.java                                                |  2 +-
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/FSTestWrapper.java                                                                |  2 +-
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/FileContextTestHelper.java                                                        |  1 -
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestDFCachingGetSpaceUsed.java                                                    |  2 +-
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestFileSystemStorageStatistics.java                                              | 18 +++++++++---------
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/shell/TestCopyFromLocal.java                                                      | 10 +++++-----
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/io/nativeio/TestSharedFileDescriptorFactory.java                                     |  2 +-
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/ipc/TestProtoBufRpc.java                                                             |  2 +-
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/ipc/TestSaslRPC.java                                                                 |  2 +-
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/net/TestNetUtils.java                                                                |  2 +-
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/net/unix/TestDomainSocket.java                                                       |  2 +-
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/token/delegation/web/TestDelegationTokenAuthenticationHandlerWithMocks.java |  2 +-
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/service/launcher/AbstractServiceLauncherTestBase.java                                |  2 +-
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/test/GenericTestUtils.java                                                           |  4 ++--
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/util/TestShutdownHookManager.java                                                    |  2 +-
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/util/TestSignalLogger.java                                                           |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystemLock.java                                               |  2 +-
 hadoop-project/pom.xml                                                                                                                                   |  5 -----
 hadoop-tools/hadoop-aliyun/src/main/java/org/apache/hadoop/fs/aliyun/oss/AliyunCredentialsProvider.java                                                  |  2 +-
 hadoop-tools/hadoop-aliyun/src/main/java/org/apache/hadoop/fs/aliyun/oss/AliyunOSSFileSystem.java                                                        |  2 +-
 hadoop-tools/hadoop-aliyun/src/main/java/org/apache/hadoop/fs/aliyun/oss/AliyunOSSFileSystemStore.java                                                   |  2 +-
 hadoop-tools/hadoop-aliyun/src/main/java/org/apache/hadoop/fs/aliyun/oss/AliyunOSSUtils.java                                                             |  2 +-
 hadoop-tools/hadoop-aliyun/src/test/java/org/apache/hadoop/fs/aliyun/oss/AliyunOSSTestUtils.java                                                         |  2 +-
 hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/AWSCredentialProviderList.java                                                            |  2 +-
 hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/BasicAWSCredentialsProvider.java                                                          |  2 +-
 hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/S3AFileSystem.java                                                                        |  4 ++--
 hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/S3AInputStream.java                                                                       |  2 +-
 hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/S3AUtils.java                                                                             |  2 +-
 hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/SimpleAWSCredentialsProvider.java                                                         |  2 +-
 hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/TemporaryAWSCredentialsProvider.java                                                      |  2 +-
 hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/auth/AssumedRoleCredentialProvider.java                                                   |  2 +-
 hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/commit/files/SinglePendingCommit.java                                                     |  2 +-
 hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/commit/files/SuccessData.java                                                             |  2 +-
 hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/commit/magic/MagicCommitTracker.java                                                      |  2 +-
 hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/commit/staging/Paths.java                                                                 |  2 +-
 hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/s3guard/DynamoDBClientFactory.java                                                        |  2 +-
 hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.java                                                        |  2 +-
 hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/s3guard/LocalMetadataStore.java                                                           |  2 +-
 hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/s3guard/S3GuardTool.java                                                                  |  2 +-
 hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3native/S3xLoginHelper.java                                                                  |  4 ++--
 hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/ITestS3AConfiguration.java                                                                |  4 ++--
 hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/ITestS3AEncryptionSSEKMSUserDefinedKey.java                                               |  2 +-
 hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/ITestS3AEncryptionSSEKMSUserDefinedKeyBlockOutputStream.java                              |  2 +-
 hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/S3ATestUtils.java                                                                         |  2 +-
 hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/commit/AbstractCommitITest.java                                                           |  2 +-
 hadoop-tools/hadoop-azure-datalake/src/main/java/org/apache/hadoop/fs/adl/AdlFileSystem.java                                                             |  2 +-
 hadoop-tools/hadoop-azure-datalake/src/test/java/org/apache/hadoop/fs/adl/TestAzureADTokenProvider.java                                                  |  2 +-
 hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azure/AzureNativeFileSystemStore.java                                                       |  2 +-
 hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azure/BlockBlobAppendStream.java                                                            |  2 +-
 hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azure/ClientThrottlingAnalyzer.java                                                         |  2 +-
 hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azure/NativeAzureFileSystem.java                                                            |  2 +-
 hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azure/PageBlobOutputStream.java                                                             |  2 +-
 hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azure/RemoteWasbAuthorizerImpl.java                                                         |  2 +-
 hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azure/SecureWasbRemoteCallHelper.java                                                       |  2 +-
 hadoop-tools/hadoop-azure/src/test/java/org/apache/hadoop/fs/azure/ITestBlobDataValidation.java                                                          |  2 +-
 hadoop-tools/hadoop-azure/src/test/java/org/apache/hadoop/fs/azure/ITestNativeAzureFileSystemAppend.java                                                 |  2 +-
 hadoop-tools/hadoop-azure/src/test/java/org/apache/hadoop/fs/azure/MockStorageInterface.java                                                             | 12 ++++++------
 hadoop-tools/hadoop-azure/src/test/java/org/apache/hadoop/fs/azure/TestNativeAzureFileSystemBlockCompaction.java                                         |  2 +-
 hadoop-tools/hadoop-azure/src/test/java/org/apache/hadoop/fs/azure/integration/AzureTestUtils.java                                                       |  2 +-
 hadoop-tools/hadoop-distcp/src/main/java/org/apache/hadoop/tools/DistCpOptions.java                                                                      |  2 +-
 hadoop-tools/hadoop-distcp/src/main/java/org/apache/hadoop/tools/OptionsParser.java                                                                      |  2 +-
 hadoop-tools/hadoop-distcp/src/main/java/org/apache/hadoop/tools/mapred/CopyMapper.java                                                                  |  2 +-
 hadoop-tools/hadoop-gridmix/src/main/java/org/apache/hadoop/mapred/gridmix/ClusterSummarizer.java                                                        |  2 +-
 hadoop-tools/hadoop-gridmix/src/main/java/org/apache/hadoop/mapred/gridmix/ExecutionSummarizer.java                                                      |  4 ++--
 hadoop-tools/hadoop-gridmix/src/main/java/org/apache/hadoop/mapred/gridmix/JobFactory.java                                                               |  2 +-
 hadoop-tools/hadoop-gridmix/src/main/java/org/apache/hadoop/mapred/gridmix/RandomTextDataGenerator.java                                                  |  2 +-
 hadoop-tools/hadoop-resourceestimator/src/main/java/org/apache/hadoop/resourceestimator/translator/impl/BaseLogParser.java                               |  1 -
 hadoop-tools/hadoop-rumen/src/main/java/org/apache/hadoop/tools/rumen/anonymization/WordListAnonymizerUtility.java                                       |  2 +-
 hadoop-tools/hadoop-rumen/src/main/java/org/apache/hadoop/tools/rumen/datatypes/util/MapReduceJobPropertiesParser.java                                   |  2 +-
 hadoop-tools/hadoop-streaming/src/test/java/org/apache/hadoop/streaming/TestUnconsumedInput.java                                                         |  2 +-
 102 files changed, 207 insertions(+), 168 deletions(-)

commit 8752a48564028cb5892c19e29d4e5b984d70c076
Author: Anu Engineer <aengineer@apache.org>
Date:   Wed Jun 27 14:18:25 2018 -0700

    HDDS-193. Make Datanode heartbeat dispatcher in SCM event based.
    Contributed by Elek, Marton.

 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMDatanodeHeartbeatDispatcher.java               | 126 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMDatanodeProtocolServer.java                    |  14 +++++++-------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/StorageContainerManager.java                      |   4 ++--
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/report/SCMDatanodeContainerReportHandler.java     |  76 ----------------------------------------------------------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/report/SCMDatanodeHeartbeatDispatcher.java        | 189 ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/report/SCMDatanodeNodeReportHandler.java          |  43 -------------------------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/report/SCMDatanodeReportHandler.java              |  83 -----------------------------------------------------------------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/report/SCMDatanodeReportHandlerFactory.java       |  82 ----------------------------------------------------------------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/report/package-info.java                          |  57 ---------------------------------------------------------
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/server/TestSCMDatanodeHeartbeatDispatcher.java           | 119 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/server/report/TestSCMDatanodeContainerReportHandler.java |  34 ----------------------------------
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/server/report/TestSCMDatanodeHeartbeatDispatcher.java    | 138 ------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/server/report/TestSCMDatanodeNodeReportHandler.java      |  36 ------------------------------------
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/server/report/TestSCMDatanodeReportHandlerFactory.java   |  51 ---------------------------------------------------
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/server/report/package-info.java                          |  21 ---------------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/scm/TestSCMMetrics.java                              | 253 -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 16 files changed, 254 insertions(+), 1072 deletions(-)

commit 18932717c42382ed8842de7719ec6d20c1765366
Author: Anu Engineer <aengineer@apache.org>
Date:   Tue Jun 26 18:28:47 2018 -0700

    HDDS-94. Change ozone datanode command to start the standalone datanode plugin.
    Contributed by  Sandeep Nemuri.

 hadoop-dist/src/main/compose/ozone/docker-compose.yaml                                       | 12 ------------
 hadoop-dist/src/main/compose/ozone/docker-config                                             |  5 -----
 hadoop-dist/src/main/compose/ozoneperf/docker-compose.yaml                                   | 13 -------------
 hadoop-dist/src/main/compose/ozoneperf/docker-config                                         |  5 -----
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/HddsDatanodeService.java | 13 ++++++++++++-
 hadoop-ozone/acceptance-test/src/test/acceptance/basic/docker-compose.yaml                   | 12 ------------
 hadoop-ozone/acceptance-test/src/test/acceptance/basic/docker-config                         |  5 -----
 hadoop-ozone/acceptance-test/src/test/acceptance/commonlib.robot                             |  1 -
 hadoop-ozone/acceptance-test/src/test/acceptance/ozonefs/docker-compose.yaml                 | 12 ------------
 hadoop-ozone/acceptance-test/src/test/acceptance/ozonefs/docker-config                       |  5 -----
 hadoop-ozone/common/src/main/bin/ozone                                                       |  9 +++------
 11 files changed, 15 insertions(+), 77 deletions(-)

commit 1e30547642c7c6c014745862dd06f90f091f90b6
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Wed Jun 27 13:56:45 2018 -0700

    HDDS-170. Fix TestBlockDeletingService#testBlockDeletionTimeout. Contributed by Lokesh Jain.

 hadoop-hdds/common/src/main/java/org/apache/hadoop/utils/BackgroundService.java                                                        |  2 +-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/background/BlockDeletingService.java |  8 ++++----
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/OzoneContainer.java                            |  2 +-
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/testutils/BlockDeletingServiceTestImpl.java              |  4 ++--
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/TestBlockDeletingService.java                     | 11 +++++++----
 5 files changed, 15 insertions(+), 12 deletions(-)

commit e9ec3d78f520a8543dc77d763d4b358aa608bae8
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Wed Jun 27 13:35:30 2018 -0700

    HDDS-186. Create under replicated queue. Contributed by Ajay Kumar.

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/replication/ReplicationQueue.java     |  76 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/replication/ReplicationRequest.java   | 106 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/replication/package-info.java         |  23 +++++++++++++++++++++++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/replication/TestReplicationQueue.java | 134 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/replication/package-info.java         |  23 +++++++++++++++++++++++
 5 files changed, 362 insertions(+)

commit 56a4cdb9804daea7164155a5b1b4eba44a11b705
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Wed Jun 27 13:28:00 2018 -0700

    HDDS-194. Remove NodePoolManager and node pool handling from SCM. Contributed by Elek Marton.

 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ScmConfigKeys.java                                       |  26 --------------------------
 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/OzoneConsts.java                                            |   1 -
 hadoop-hdds/common/src/main/resources/ozone-default.xml                                                              |  47 -----------------------------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerMapping.java                      |  10 +++-------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ContainerSupervisor.java       | 340 ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/InProgressPool.java            | 255 ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/PeriodicPool.java              | 119 -----------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/package-info.java              |  23 -----------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeManager.java                                |   6 ------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodePoolManager.java                            |  71 -----------------------------------------------------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java                             |  23 -----------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodePoolManager.java                         | 269 -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/MockNodeManager.java                       |   6 ------
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/node/TestSCMNodePoolManager.java                     | 160 ----------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/ozone/container/testutils/ReplicationNodeManagerMock.java     |   5 -----
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/ozone/container/testutils/ReplicationNodePoolManagerMock.java | 133 -------------------------------------------------------------------------------------------------------------------------------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/scm/TestContainerSQLCli.java                     |  31 -------------------------------
 hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/scm/cli/SQLCLI.java                                         |  74 --------------------------------------------------------------------------
 18 files changed, 3 insertions(+), 1596 deletions(-)

commit 0d6fe5f36be5b19aab89d995866e526c5feec758
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Wed Jun 27 13:25:45 2018 -0700

    Revert "HDDS-194. Remove NodePoolManager and node pool handling from SCM. Contributed by Elek Marton"
    
    This reverts commit aaf03cc459a34af284f9735453aefd4ddb430d67.

 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ScmConfigKeys.java                                       |  26 ++++++++++++++++++++++++++
 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/OzoneConsts.java                                            |   1 +
 hadoop-hdds/common/src/main/resources/ozone-default.xml                                                              |  47 +++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/replication/ReplicationQueue.java      |  78 ------------------------------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/replication/ReplicationReqMsg.java     | 107 -----------------------------------------------------------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/replication/package-info.java          |  23 -----------------------
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/replication/TestReplicationQueue.java  | 134 --------------------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/replication/package-info.java          |  23 -----------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerMapping.java                      |  10 +++++++---
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ContainerSupervisor.java       | 340 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/InProgressPool.java            | 255 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/PeriodicPool.java              | 119 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/package-info.java              |  23 +++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeManager.java                                |   6 ++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodePoolManager.java                            |  71 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java                             |  23 +++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodePoolManager.java                         | 269 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/MockNodeManager.java                       |   6 ++++++
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/node/TestSCMNodePoolManager.java                     | 160 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/ozone/container/testutils/ReplicationNodeManagerMock.java     |   5 +++++
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/ozone/container/testutils/ReplicationNodePoolManagerMock.java | 133 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/scm/TestContainerSQLCli.java                     |  31 +++++++++++++++++++++++++++++++
 hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/scm/cli/SQLCLI.java                                         |  74 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 23 files changed, 1596 insertions(+), 368 deletions(-)

commit aaf03cc459a34af284f9735453aefd4ddb430d67
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Wed Jun 27 12:39:15 2018 -0700

    HDDS-194. Remove NodePoolManager and node pool handling from SCM. Contributed by Elek Marton

 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ScmConfigKeys.java                                       |  26 --------------------------
 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/OzoneConsts.java                                            |   1 -
 hadoop-hdds/common/src/main/resources/ozone-default.xml                                                              |  47 -----------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/replication/ReplicationQueue.java      |  78 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/replication/ReplicationReqMsg.java     | 107 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/replication/package-info.java          |  23 +++++++++++++++++++++++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/replication/TestReplicationQueue.java  | 134 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/replication/package-info.java          |  23 +++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerMapping.java                      |  10 +++-------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ContainerSupervisor.java       | 340 ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/InProgressPool.java            | 255 ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/PeriodicPool.java              | 119 -----------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/package-info.java              |  23 -----------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeManager.java                                |   6 ------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodePoolManager.java                            |  71 -----------------------------------------------------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java                             |  23 -----------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodePoolManager.java                         | 269 -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/MockNodeManager.java                       |   6 ------
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/node/TestSCMNodePoolManager.java                     | 160 ----------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/ozone/container/testutils/ReplicationNodeManagerMock.java     |   5 -----
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/ozone/container/testutils/ReplicationNodePoolManagerMock.java | 133 -------------------------------------------------------------------------------------------------------------------------------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/scm/TestContainerSQLCli.java                     |  31 -------------------------------
 hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/scm/cli/SQLCLI.java                                         |  74 --------------------------------------------------------------------------
 23 files changed, 368 insertions(+), 1596 deletions(-)

commit fbaff369e9b9022723a7b2c6f25e71122a8f8a15
Author: Sunil G <sunilg@apache.org>
Date:   Wed Jun 27 10:35:15 2018 -0700

    YARN-8401. [UI2] new ui is not accessible with out internet connection. Contributed by Bibin A Chundatt.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/WEB-INF/web.xml | 6 +-----
 1 file changed, 1 insertion(+), 5 deletions(-)

commit bedc4fe0799cf3b161100acc521fc62a97793427
Author: Wangda Tan <wangda@apache.org>
Date:   Tue Jun 26 19:27:17 2018 -0700

    YARN-8464. Async scheduling thread could be interrupted when there are no NodeManagers in cluster. (Sunil G via wangda)
    
    Change-Id: I4f5f856373378685713e77752ba6cf0988a66065

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/CapacityScheduler.java | 18 +++++++++++++++++-
 1 file changed, 17 insertions(+), 1 deletion(-)

commit ada8f63d0b3739d245300461387b0516dc92ccf9
Author: Wangda Tan <wangda@apache.org>
Date:   Tue Jun 26 19:25:57 2018 -0700

    YARN-8423. GPU does not get released even though the application gets killed. (Sunil G via wangda)
    
    Change-Id: I570db7d60f8c6c21762dd618a9207d1107c486a0

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/container/Container.java                        |  6 ++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/container/ContainerImpl.java                    | 11 +++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/resources/gpu/GpuResourceAllocator.java   | 68 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/resources/gpu/GpuResourceHandlerImpl.java |  1 -
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/webapp/MockContainer.java                                        |  3 +++
 5 files changed, 85 insertions(+), 4 deletions(-)

commit 62d83ca5360cf803ecf6780caf192462d0092009
Author: Miklos Szegedi <miklos.szegedi@cloudera.com>
Date:   Tue Jun 26 15:21:35 2018 -0700

    YARN-8461. Support strict memory control on individual container with elastic control memory mechanism. Contributed by Haibo Chen.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/resources/CGroupsMemoryResourceHandlerImpl.java     |  24 ++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/resources/MemoryResourceHandler.java                |  10 ++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/monitor/ContainersMonitorImpl.java                        | 108 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/resources/TestCGroupsMemoryResourceHandlerImpl.java |  43 +++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 142 insertions(+), 43 deletions(-)

commit b69ba0f3307a90500aeb0c5db9e582fcda60b501
Author: Eric Yang <eyang@apache.org>
Date:   Tue Jun 26 17:34:57 2018 -0400

    YARN-8108.  Added option to disable loading existing filters to prevent
                security filter from initialize twice.
                Contributed by Sunil Govindan

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/webapp/WebApps.java                                                            | 14 +++++++++++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/ResourceManager.java |  2 +-
 2 files changed, 12 insertions(+), 4 deletions(-)

commit 3e586330eb2c7db0b884fe328b171fb27ce545fa
Author: Eric Yang <eyang@apache.org>
Date:   Tue Jun 26 14:25:15 2018 -0400

    YARN-8214.  Change default RegistryDNS port.
                Contributed by Billie Rinaldi

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-registry/src/main/java/org/apache/hadoop/registry/client/api/RegistryConstants.java |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/yarn-service/RegistryDNS.md                                  | 10 +++++-----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/yarn-service/ServiceDiscovery.md                             |  6 +++---
 3 files changed, 9 insertions(+), 9 deletions(-)

commit 238fe00ad2692154f6a382f35735169ee5e4af2c
Author: Bharat Viswanadham <bharat@apache.org>
Date:   Mon Jun 25 21:12:05 2018 -0700

    HDDS-192:Create new SCMCommand to request a replication of a container. Contributed by Elek Marton

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/DatanodeStateMachine.java                            |  3 +++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/ReplicateContainerCommandHandler.java | 67 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/states/endpoint/HeartbeatEndpointTask.java                        | 12 ++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/protocol/commands/ReplicateContainerCommand.java                                   | 94 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/proto/StorageContainerDatanodeProtocol.proto                                                                    | 12 +++++++++++-
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMDatanodeProtocolServer.java                                                  | 11 +++++++++++
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/TestReplicateContainerHandler.java    | 71 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 7 files changed, 269 insertions(+), 1 deletion(-)

commit 35ec9401e829bfa10994790659a26b0babacae35
Author: Miklos Szegedi <miklos.szegedi@cloudera.com>
Date:   Mon Jun 25 09:23:11 2018 -0700

    YARN-8438. TestContainer.testKillOnNew flaky on trunk. Contributed by Szilard Nemeth.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/container/TestContainer.java | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 7a3c6e9c3cd9ffdc71946fd12f5c3d59718c4939
Author: Todd Lipcon <todd@apache.org>
Date:   Mon Jun 25 15:36:45 2018 -0700

    HADOOP-15550. Avoid static initialization of ObjectMappers

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/crypto/key/kms/KMSClientProvider.java                                 |  7 ++-----
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/delegation/web/DelegationTokenAuthenticator.java       |  8 ++------
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/HttpExceptionUtils.java                                          | 12 ++----------
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/JsonSerialization.java                                           | 24 ++++++++++++++++++++++++
 hadoop-common-project/hadoop-kms/src/main/java/org/apache/hadoop/crypto/key/kms/server/KMSJSONWriter.java                                 |  6 ++----
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/web/WebHdfsFileSystem.java                                    |  7 ++-----
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/web/oauth2/ConfRefreshTokenBasedAccessTokenProvider.java      |  8 +++-----
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/web/oauth2/CredentialBasedAccessTokenProvider.java            |  8 +++-----
 hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/JobSubmitter.java |  8 +++-----
 hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azure/security/JsonUtils.java                                                |  4 ++--
 10 files changed, 45 insertions(+), 47 deletions(-)

commit c687a6617d73293019d8d91ac48bbfd2ccca3b40
Author: Sean Mackrory <mackrorysd@apache.org>
Date:   Mon Jun 25 11:04:34 2018 -0600

    HADOOP-15423. Merge fileCache and dirCache into ine single cache in LocalMetadataStore. Contributed by Gabor Bota.

 hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/s3guard/LocalMetadataEntry.java     |  81 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/s3guard/LocalMetadataStore.java     | 247 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-------------------------------------------------------------------------------------------------------
 hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/s3guard/MetadataStoreTestBase.java  |   2 +-
 hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/s3guard/TestLocalMetadataStore.java |  33 ++++++++++++++-------------------
 4 files changed, 240 insertions(+), 123 deletions(-)

commit a55d6bba71c81c1c4e9d8cd11f55c78f10a548b0
Author: Anu Engineer <aengineer@apache.org>
Date:   Mon Jun 25 13:05:22 2018 -0700

    HDDS-191. Queue SCMCommands via EventQueue in SCM.
    Contributed by Elek, Marton.

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/protocol/commands/CommandForDatanode.java | 45 +++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java                      | 20 +++++++++++++++++++-
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/StorageContainerManager.java           |  8 +++++++-
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/node/TestNodeManager.java                     | 39 +++++++++++++++++++++++++++++++++++++++
 4 files changed, 110 insertions(+), 2 deletions(-)

commit 4ffe68a6f70ce01a5654da8991b4cdb35ae0bf1f
Author: Rohith Sharma K S <rohithsharmaks@apache.org>
Date:   Mon Jun 25 10:38:03 2018 -0700

    YARN-8457. Compilation is broken with -Pyarn-ui.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/.bowerrc | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit abc3e4bad905efde5a4881e8a072c68f6e910ade
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Mon Jun 25 09:50:27 2018 -0700

    HADOOP-15458. TestLocalFileSystem#testFSOutputStreamBuilder fails on Windows. Contributed by Xiao Liang.

 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestLocalFileSystem.java | 23 ++++++++++++-----------
 1 file changed, 12 insertions(+), 11 deletions(-)

commit 1ba4e62304a70d53f1a4f76995b6e1fac3107922
Author: Steve Loughran <stevel@apache.org>
Date:   Mon Jun 25 14:38:33 2018 +0100

    HADOOP-14396. Add builder interface to FileContext.
    Contributed by  Lei (Eddy) Xu.

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FSDataOutputStreamBuilder.java         | 22 ++++++++++++++++++++++
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileContext.java                       | 66 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/Options.java                           |  3 +++
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/FileContextMainOperationsBaseTest.java | 44 +++++++++++++++++++++++++++++++++++++++++++-
 4 files changed, 134 insertions(+), 1 deletion(-)

commit 440140cea6718229094a3d2b97b9b9bd28b95d9b
Author: Weiwei Yang <wwei@apache.org>
Date:   Mon Jun 25 09:15:31 2018 +0800

    YARN-8443. Total #VCores in cluster metrics is wrong when CapacityScheduler reserved some containers. Contributed by Tao Yang.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/dao/ClusterMetricsInfo.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e16e5b307d6c4404db0698b9d128e5bf4aa16a8a
Author: Anu Engineer <aengineer@apache.org>
Date:   Sun Jun 24 01:05:04 2018 -0700

    HDDS-177. Create a releasable ozonefs artifact
    Contributed by Marton, Elek.

 dev-support/bin/ozone-dist-layout-stitching                                                                                                |  4 +++-
 hadoop-dist/pom.xml                                                                                                                        |  5 +++++
 hadoop-ozone/acceptance-test/src/test/acceptance/ozonefs/docker-compose.yaml                                                               | 71 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-ozone/acceptance-test/src/test/acceptance/ozonefs/docker-config                                                                     | 39 +++++++++++++++++++++++++++++++++++++++
 hadoop-ozone/acceptance-test/src/test/acceptance/ozonefs/ozonefs.robot                                                                     | 39 +++++++++++++++++++++++++++++++++++++++
 {hadoop-tools/hadoop-ozone => hadoop-ozone/ozonefs}/pom.xml                                                                                | 55 ++++++++++++++++++++++++++++++++++++++++++++++---------
 {hadoop-tools/hadoop-ozone => hadoop-ozone/ozonefs}/src/main/java/org/apache/hadoop/fs/ozone/Constants.java                                |  0
 {hadoop-tools/hadoop-ozone => hadoop-ozone/ozonefs}/src/main/java/org/apache/hadoop/fs/ozone/OzFs.java                                     |  0
 {hadoop-tools/hadoop-ozone => hadoop-ozone/ozonefs}/src/main/java/org/apache/hadoop/fs/ozone/OzoneFSInputStream.java                       |  0
 {hadoop-tools/hadoop-ozone => hadoop-ozone/ozonefs}/src/main/java/org/apache/hadoop/fs/ozone/OzoneFSOutputStream.java                      |  0
 {hadoop-tools/hadoop-ozone => hadoop-ozone/ozonefs}/src/main/java/org/apache/hadoop/fs/ozone/OzoneFileSystem.java                          |  0
 {hadoop-tools/hadoop-ozone => hadoop-ozone/ozonefs}/src/main/java/org/apache/hadoop/fs/ozone/package-info.java                             |  0
 {hadoop-tools/hadoop-ozone => hadoop-ozone/ozonefs}/src/test/java/org/apache/hadoop/fs/ozone/TestOzoneFSInputStream.java                   |  0
 {hadoop-tools/hadoop-ozone => hadoop-ozone/ozonefs}/src/test/java/org/apache/hadoop/fs/ozone/TestOzoneFileInterfaces.java                  |  0
 {hadoop-tools/hadoop-ozone => hadoop-ozone/ozonefs}/src/test/java/org/apache/hadoop/fs/ozone/contract/ITestOzoneContractCreate.java        |  0
 {hadoop-tools/hadoop-ozone => hadoop-ozone/ozonefs}/src/test/java/org/apache/hadoop/fs/ozone/contract/ITestOzoneContractDelete.java        |  0
 {hadoop-tools/hadoop-ozone => hadoop-ozone/ozonefs}/src/test/java/org/apache/hadoop/fs/ozone/contract/ITestOzoneContractDistCp.java        |  0
 {hadoop-tools/hadoop-ozone => hadoop-ozone/ozonefs}/src/test/java/org/apache/hadoop/fs/ozone/contract/ITestOzoneContractGetFileStatus.java |  0
 {hadoop-tools/hadoop-ozone => hadoop-ozone/ozonefs}/src/test/java/org/apache/hadoop/fs/ozone/contract/ITestOzoneContractMkdir.java         |  0
 {hadoop-tools/hadoop-ozone => hadoop-ozone/ozonefs}/src/test/java/org/apache/hadoop/fs/ozone/contract/ITestOzoneContractOpen.java          |  0
 {hadoop-tools/hadoop-ozone => hadoop-ozone/ozonefs}/src/test/java/org/apache/hadoop/fs/ozone/contract/ITestOzoneContractRename.java        |  0
 {hadoop-tools/hadoop-ozone => hadoop-ozone/ozonefs}/src/test/java/org/apache/hadoop/fs/ozone/contract/ITestOzoneContractRootDir.java       |  0
 {hadoop-tools/hadoop-ozone => hadoop-ozone/ozonefs}/src/test/java/org/apache/hadoop/fs/ozone/contract/ITestOzoneContractSeek.java          |  0
 {hadoop-tools/hadoop-ozone => hadoop-ozone/ozonefs}/src/test/java/org/apache/hadoop/fs/ozone/contract/OzoneContract.java                   |  0
 {hadoop-tools/hadoop-ozone => hadoop-ozone/ozonefs}/src/test/resources/contract/ozone.xml                                                  |  0
 {hadoop-tools/hadoop-ozone => hadoop-ozone/ozonefs}/src/test/resources/log4j.properties                                                    |  0
 hadoop-ozone/pom.xml                                                                                                                       |  1 +
 hadoop-project/pom.xml                                                                                                                     |  6 +++++-
 hadoop-tools/hadoop-tools-dist/pom.xml                                                                                                     | 15 ---------------
 hadoop-tools/pom.xml                                                                                                                       | 11 -----------
 30 files changed, 209 insertions(+), 37 deletions(-)

commit ca14fec02fb14e1b708f266bc715e84ae9784d6f
Author: Anu Engineer <aengineer@apache.org>
Date:   Sat Jun 23 15:49:44 2018 -0700

    HDDS-184. Upgrade common-langs version to 3.7 in hadoop-tools/hadoop-ozone.
    Contributed by Takanobu Asanuma.

 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/genconf/TestGenerateOzoneRequiredConfigurations.java | 2 +-
 hadoop-tools/hadoop-ozone/src/main/java/org/apache/hadoop/fs/ozone/OzoneFileSystem.java                                  | 2 +-
 hadoop-tools/hadoop-ozone/src/test/java/org/apache/hadoop/fs/ozone/TestOzoneFSInputStream.java                           | 2 +-
 hadoop-tools/hadoop-ozone/src/test/java/org/apache/hadoop/fs/ozone/TestOzoneFileInterfaces.java                          | 2 +-
 hadoop-tools/hadoop-ozone/src/test/java/org/apache/hadoop/fs/ozone/contract/OzoneContract.java                           | 2 +-
 5 files changed, 5 insertions(+), 5 deletions(-)

commit 8a32bc39eb210fca8052c472601e24c2446b4cc2
Author: Eric Yang <eyang@apache.org>
Date:   Fri Jun 22 19:12:48 2018 -0400

    YARN-8326.  Removed exit code file check for launched container.
                Contributed by Shane Kumpf

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/launcher/ContainerLaunch.java | 19 -------------------
 1 file changed, 19 deletions(-)

commit 1cdce86d33d4b73ba6dd4136c966eb7e822b6f36
Author: Yufei Gu <yufei_gu@apple.com>
Date:   Fri Jun 22 14:02:32 2018 -0700

    YARN-8184. Too many metrics if containerLocalizer/ResourceLocalizationService uses ReadWriteDiskValidator. Contributed by Yufei Gu

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/localizer/ContainerLocalizer.java          | 5 +----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/localizer/ResourceLocalizationService.java | 5 +----
 2 files changed, 2 insertions(+), 8 deletions(-)

commit ae055622edeb3cbf82baa6ed952fc2abc84c021e
Author: Miklos Szegedi <miklos.szegedi@cloudera.com>
Date:   Fri Jun 22 13:05:41 2018 -0700

    MAPREDUCE-7114. Make FrameworkUploader symlink ignore improvement. Contributed by Gergo Repas.

 hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-uploader/src/main/java/org/apache/hadoop/mapred/uploader/FrameworkUploader.java     |  2 +-
 hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-uploader/src/test/java/org/apache/hadoop/mapred/uploader/TestFrameworkUploader.java | 13 +++++++++++++
 2 files changed, 14 insertions(+), 1 deletion(-)

commit 55fad6a3de3125d9e7e2e9a5f8fa5b1b22a1de60
Author: Sean Mackrory <mackrorysd@apache.org>
Date:   Fri Jun 22 11:36:36 2018 -0600

    HADOOP-15416. Clear error message in S3Guard diff if source not found. Contributed by Gabor Bota.

 hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/s3guard/S3GuardTool.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 6432128622d64f3f9dd638b9c254c77cdf5408aa
Author: Eric E Payne <ericp@oath.com>
Date:   Fri Jun 22 17:15:29 2018 +0000

    YARN-8444: NodeResourceMonitor crashes on bad swapFree value. Contributed by Jim Brennan.

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/SysInfoLinux.java     | 19 +++++++++++++++++--
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/util/TestSysInfoLinux.java | 60 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 77 insertions(+), 2 deletions(-)

commit 30728aced4a6b05394b3fc8c613f39fade9cf3c2
Author: Yiqun Lin <yqlin@apache.org>
Date:   Fri Jun 22 10:50:54 2018 +0800

    HDFS-13692. StorageInfoDefragmenter floods log when compacting StorageInfo TreeSet. Contributed by Bharat Viswanadham.

 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/BlockManager.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 99948565cb5d5706241d7a8fc591e1617c499e03
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Thu Jun 21 18:24:10 2018 -0700

    YARN-8412. Move ResourceRequest.clone logic everywhere into a proper API. Contributed by Botong Huang.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/api/records/ResourceRequest.java                                                                                    | 20 ++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/api/impl/AMRMClientImpl.java                                                                              | 11 +----------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/test/java/org/apache/hadoop/yarn/client/api/impl/TestAMRMClientOnRMRestart.java                                                                   |  6 +-----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/AMRMClientRelayer.java                                                          |  8 +-------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/federation/policies/amrmproxy/LocalityMulticastAMRMProxyPolicy.java             | 10 +---------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/scheduler/ResourceRequestSet.java                                               | 14 ++------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/utils/BuilderUtils.java                                                         | 12 ------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/placement/LocalityAppPlacementAllocator.java | 10 ++--------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/Application.java                                       | 10 ++++------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/TestAppManager.java                                    | 18 ++----------------
 10 files changed, 34 insertions(+), 85 deletions(-)

commit 59de9679540f6d0edfb34cf9f88e52b51d94b4f4
Author: Todd Lipcon <todd@apache.org>
Date:   Thu Jun 21 10:32:52 2018 -0700

    HADOOP-15549. Upgrade to commons-configuration 2.1 regresses task CPU consumption

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/metrics2/impl/MetricsConfig.java | 15 ++++++---------
 1 file changed, 6 insertions(+), 9 deletions(-)

commit 9f15483c5d7c94251f4c84e0155449188f202779
Author: Eric Yang <eyang@apache.org>
Date:   Thu Jun 21 11:18:14 2018 -0400

    YARN-8445.  Improved error message for duplicated service and component names.
                Contributed by Chandni Singh

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/exceptions/RestApiErrorMessages.java |  2 ++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/utils/ServiceApiUtil.java            |  5 +++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/test/java/org/apache/hadoop/yarn/service/TestServiceApiUtil.java              | 18 ++++++++++++++++++
 3 files changed, 25 insertions(+)

commit 43541a18907d2303b708ae27a9a2cb5df891da4f
Author: Todd Lipcon <todd@apache.org>
Date:   Wed Jun 20 12:38:59 2018 -0700

    HADOOP-15551. Avoid use of Arrays.stream in Configuration.addTags

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/conf/Configuration.java | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 32f867a6a907c05a312657139d295a92756d98ef
Author: Xiao Chen <xiao@apache.org>
Date:   Wed Jun 20 15:58:01 2018 -0700

    HDFS-13682. Cannot create encryption zone after KMS auth token expires.

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/crypto/key/kms/KMSClientProvider.java |  9 ++++++---
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/UserGroupInformation.java    |  4 +++-
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestSecureEncryptionZoneWithKMS.java | 34 ++++++++++++++++++++++++++++++++--
 3 files changed, 41 insertions(+), 6 deletions(-)

commit b089a06793d94d42b7da1b7566e366ceb748e081
Author: Sean Mackrory <mackrorysd@apache.org>
Date:   Wed Jun 20 16:10:36 2018 -0600

    HADOOP-14918. Remove the Local Dynamo DB test option. Contributed by Gabor Bota.

 hadoop-project/pom.xml                                                                                 |   5 -----
 hadoop-tools/hadoop-aws/pom.xml                                                                        |  42 +++++++-----------------------------------
 hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/Constants.java                          |  11 +++++++++++
 hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.java      |   1 +
 hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/AbstractS3ATestBase.java                |  21 +--------------------
 hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/S3ATestConstants.java                   |   1 -
 hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/S3ATestUtils.java                       |  34 ++++++++++++++++++++++++++++------
 hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/commit/staging/StagingTestBase.java     |  30 +++++++++++++++++++++++-------
 hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/s3guard/DynamoDBLocalClientFactory.java | 160 ----------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/s3guard/MetadataStoreTestBase.java      |   4 ++--
 hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/s3guard/TestDynamoDBMetadataStore.java  | 589 -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 11 files changed, 73 insertions(+), 825 deletions(-)

commit d6ee4290df10ad3e0b087c21accd602508e0a197
Author: Miklos Szegedi <miklos.szegedi@cloudera.com>
Date:   Wed Jun 20 12:04:44 2018 -0700

    MAPREDUCE-7113. Typos in test names in TestTaskAttempt: "testAppDiognostic". Contributed by Szilard Nemeth.

 hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/test/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TestTaskAttempt.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 46f90581641feec37e285964df983d221bee5e1d
Author: Miklos Szegedi <miklos.szegedi@cloudera.com>
Date:   Wed Jun 20 11:58:18 2018 -0700

    YARN-8441. Typo in CSQueueUtils local variable names: queueGuranteedResource. Contributed by Szilard Nemeth.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/CSQueueUtils.java | 18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 388fafa004dc405a4e10f4487cff7c5a714af32f
Author: Miklos Szegedi <miklos.szegedi@cloudera.com>
Date:   Wed Jun 20 11:55:43 2018 -0700

    YARN-8442. Strange characters and missing spaces in FairScheduler documentation. Contributed by Szilard Nemeth.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/FairScheduler.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bbbc7cc426f71ad0fe4174efcd25e5ac3f62b501
Author: Miklos Szegedi <miklos.szegedi@cloudera.com>
Date:   Wed Jun 20 11:40:56 2018 -0700

    YARN-7449. Split up class TestYarnClient to TestYarnClient and TestYarnClientImpl. Contributed by Szilard Nemeth.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/test/java/org/apache/hadoop/yarn/client/api/impl/TestYarnClient.java     | 337 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/test/java/org/apache/hadoop/yarn/client/api/impl/TestYarnClientImpl.java | 254 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 324 insertions(+), 267 deletions(-)

commit 55432b09810b59ee361d0d4a8958efabb49fab3c
Author: Miklos Szegedi <miklos.szegedi@cloudera.com>
Date:   Wed Jun 20 11:36:12 2018 -0700

    YARN-8440. Typo in YarnConfiguration javadoc: "Miniumum request grant-able..". Contributed by Szilard Nemeth.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/conf/YarnConfiguration.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9a9e969570f23b627f9571819f388916d8fd7ec9
Author: Miklos Szegedi <miklos.szegedi@cloudera.com>
Date:   Wed Jun 20 10:29:12 2018 -0700

    YARN-8391. Investigate AllocationFileLoaderService.reloadListener locking issue. Contributed by Szilard Nemeth.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/AllocationFileLoaderService.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 4939ffedb151ce1550fcdd7ac04c79d8d0195891
Author: Haibo Chen <haibochen@apache.org>
Date:   Wed Jun 20 10:35:52 2018 -0700

    YARN-8437. Build oom-listener fails on older versions. (Miklos Szegedi via Haibo Chen)

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/CMakeLists.txt                                          |  4 ++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/native/oom-listener/test/oom_listener_test_main.cc | 33 +++++++++++++++++----------------
 2 files changed, 19 insertions(+), 18 deletions(-)

commit 2d87592fc6a56bfe77dd3c11953caea2b701c846
Author: Eric Yang <eyang@apache.org>
Date:   Tue Jun 19 13:38:13 2018 -0400

    HADOOP-15527.  Improve delay check for stopping processes.
                   Fixed script location.
                   Contributed by Vinod Kumar Vavilapalli

 {hadoop-common => hadoop-common-project/hadoop-common}/src/test/scripts/process_with_sigterm_trap.sh | 0
 1 file changed, 0 insertions(+), 0 deletions(-)

commit f386e78a4bc74e7c247b179c7d4ec27310fda4d3
Author: Dedunu Dhananjaya <dedunumax@gmail.com>
Date:   Mon Apr 23 09:34:57 2018 +0000

    YARN-7668. Remove unused variables from ContainerLocalizer
    
    This closes #364
    
    Signed-off-by: Akira Ajisaka <aajisaka@apache.org>

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/localizer/ContainerLocalizer.java | 2 --
 1 file changed, 2 deletions(-)

commit 1e94e5977f9075af2f74e30a3b8e52f7ded67863
Author: Vidura Mudalige <vidura.mudalige@kohls.com>
Date:   Thu Jun 14 21:23:01 2018 +0530

    MAPREDUCE-7063. Fix log level inconsistency in CombineFileInputFormat.java
    
    Signed-off-by: Akira Ajisaka <aajisaka@apache.org>

 hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/lib/input/CombineFileInputFormat.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2c87ec5affefeb1dc794c4eaae685a4e544f1841
Author: Eric Yang <eyang@apache.org>
Date:   Mon Jun 18 14:28:22 2018 -0400

    HADOOP-15527.  Improve delay check for stopping processes.
                   Contributed by Vinod Kumar Vavilapalli

 hadoop-common/src/test/scripts/process_with_sigterm_trap.sh | 24 ++++++++++++++++++++++++
 1 file changed, 24 insertions(+)

commit fba9d7cd746cd7b659d2fd9d2bfa23266be9009b
Author: Akira Ajisaka <aajisaka@apache.org>
Date:   Mon Jun 18 10:17:07 2018 -0700

    HDFS-13621. Upgrade commons-lang version to 3.7 in hadoop-hdfs-project. Contributed by Takanobu Asanuma.

 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/fs/XAttr.java                                                 |  4 ++--
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/ExtendedBlockId.java                                     |  4 ++--
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/client/impl/BlockReaderFactory.java                      |  2 +-
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/protocol/AddErasureCodingPolicyResponse.java             |  4 ++--
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/protocol/CacheDirectiveInfo.java                         |  4 ++--
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/protocol/CachePoolInfo.java                              |  4 ++--
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/protocol/EncryptionZone.java                             |  4 ++--
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/protocol/ErasureCodingPolicy.java                        |  4 ++--
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/protocol/ErasureCodingPolicyInfo.java                    |  4 ++--
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/protocol/ExtendedBlock.java                              |  2 +-
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/shortcircuit/DfsClientShmManager.java                    |  2 +-
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/shortcircuit/ShortCircuitCache.java                      |  2 +-
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/shortcircuit/ShortCircuitShm.java                        |  4 ++--
 hadoop-hdfs-project/hadoop-hdfs-client/src/test/java/org/apache/hadoop/hdfs/server/namenode/ha/TestRequestHedgingProxyProvider.java  |  2 +-
 hadoop-hdfs-project/hadoop-hdfs-nfs/pom.xml                                                                                          |  5 -----
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/router/ConnectionPoolId.java              |  2 +-
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/router/RemoteLocationContext.java         |  2 +-
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/store/driver/impl/StateStoreFileImpl.java |  2 +-
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/store/records/MountTable.java             |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/pom.xml                                                                                              |  5 -----
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/protocol/CacheDirective.java                                    |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/qjournal/server/GetJournalEditServlet.java                      |  4 ++--
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/qjournal/server/Journal.java                                    | 12 ++++++------
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/DirectoryScanner.java                           |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/fsdataset/impl/FsDatasetCache.java              |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/diskbalancer/command/Command.java                        |  4 ++--
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/diskbalancer/command/PlanCommand.java                    |  4 ++--
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/diskbalancer/command/ReportCommand.java                  |  4 ++--
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/EncryptionZoneManager.java                      |  4 ++--
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirErasureCodingOp.java                       |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java                               |  6 +++---
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/INodeAttributeProvider.java                     |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/startupprogress/Step.java                       |  6 +++---
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/top/metrics/TopMetrics.java                     |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/CacheAdmin.java                                           |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/util/EnumCounters.java                                          |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/fs/TestEnhancedByteBufferAccess.java                                 |  4 ++--
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/fs/TestGlobPaths.java                                                |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/fs/TestWebHdfsFileContextMainOperations.java                         |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/DFSTestUtil.java                                                |  4 ++--
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestDFSShell.java                                               |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestDecommission.java                                           |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestFsShellPermission.java                                      |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestHDFSPolicyProvider.java                                     |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestLeaseRecoveryStriped.java                                   |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/protocol/datatransfer/sasl/SaslDataTransferTestCase.java        |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/balancer/TestBalancer.java                               |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/datanode/SimulatedFSDataset.java                         |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/diskbalancer/command/TestDiskBalancerCommand.java        |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/FSImageTestUtil.java                            |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/NameNodeAdapter.java                            |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/TestAuditLogger.java                            |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/TestCacheDirectives.java                        |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/TestEditLogJournalFailures.java                 |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/shortcircuit/TestShortCircuitCache.java                         |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/tools/TestDFSAdmin.java                                         |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/tracing/TestTracing.java                                             |  2 +-
 57 files changed, 80 insertions(+), 90 deletions(-)

commit 2a4632d3d7b82980d10cc90cdfc52afd866cebb8
Author: Mukul Kumar Singh <msingh@apache.org>
Date:   Sun Jun 17 23:48:33 2018 -0700

    HDDS-141. Remove PipeLine Class from SCM and move the data field in the Pipeline to ContainerInfo. Contributed by Shashikant Banerjee.

 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/container/common/helpers/ContainerInfo.java         |  32 ++++++++++++++++++++++++++++++++
 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/container/common/helpers/Pipeline.java              | 142 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++---------------------------------------------------------
 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/container/common/helpers/PipelineChannel.java       | 124 ----------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/common/src/main/proto/hdds.proto                                                                    |   8 +-------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/closer/ContainerCloser.java           |   6 +++---
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/PipelineManager.java                  |  67 +++++++++++++++++++++++++++++++++----------------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/PipelineSelector.java                 |  11 +++++------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/ratis/RatisManagerImpl.java           |  13 +++++--------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/standalone/StandaloneManagerImpl.java |   8 ++++----
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/block/TestDeletedBlockLog.java                  |   8 +++-----
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/TestMiniOzoneCluster.java                   |   8 +++-----
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/ContainerTestHelper.java          |  19 +++++++------------
 hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/genesis/BenchMarkContainerStateMap.java                |  11 +++++------
 hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/genesis/BenchMarkDatanodeDispatcher.java               |   6 +++---
 hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/scm/cli/SQLCLI.java                                    |   4 ++--
 15 files changed, 191 insertions(+), 276 deletions(-)

commit f34744603ee93e082e7ba148df1400af5ac7c30c
Author: Chris Douglas <cdouglas@apache.org>
Date:   Sun Jun 17 23:12:18 2018 -0700

    HADOOP-15533. Make WASB listStatus messages consistent. Contributed by Esfandiar Manii

 hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azure/NativeAzureFileSystem.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 980031bb043dd026a6bf42b0e71d304ac89294a5
Author: Chris Douglas <cdouglas@apache.org>
Date:   Sun Jun 17 11:54:26 2018 -0700

    HADOOP-13186. Multipart Uploader API. Contributed by Ewan Higgs

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/BBPartHandle.java                                     |  58 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/BBUploadHandle.java                                   |  57 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileSystemMultipartUploader.java                      | 132 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/LocalFileSystemPathHandle.java                        | 100 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/MultipartUploader.java                                |  90 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/MultipartUploaderFactory.java                         |  65 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/PartHandle.java                                       |  45 +++++++++++++++++++++++++++++++++++++++++++++
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/RawLocalFileSystem.java                               |  61 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++--
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/UnsupportedMultipartUploaderException.java            |  41 +++++++++++++++++++++++++++++++++++++++++
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/UploadHandle.java                                     |  47 +++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-common-project/hadoop-common/src/main/proto/FSProtos.proto                                                            |   8 ++++++++
 hadoop-common-project/hadoop-common/src/main/resources/META-INF/services/org.apache.hadoop.fs.MultipartUploaderFactory       |  16 ++++++++++++++++
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/AbstractSystemMultipartUploaderTest.java              | 143 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestLocalFileSystemMultipartUploader.java             |  65 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/contract/AbstractContractPathHandleTest.java          |   6 ++++++
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/contract/rawlocal/TestRawlocalContractPathHandle.java |  40 ++++++++++++++++++++++++++++++++++++++++
 hadoop-common-project/hadoop-common/src/test/resources/contract/rawlocal.xml                                                 |   5 +++++
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/DFSMultipartUploaderFactory.java                 |  40 ++++++++++++++++++++++++++++++++++++++++
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/resources/META-INF/services/org.apache.hadoop.fs.MultipartUploaderFactory    |  16 ++++++++++++++++
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/fs/TestHDFSMultipartUploader.java                            |  76 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/S3AMultipartUploader.java                                     | 150 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-tools/hadoop-aws/src/main/resources/META-INF/org.apache.hadoop.fs.MultipartUploaderFactory                            |  15 +++++++++++++++
 hadoop-tools/hadoop-aws/src/main/resources/META-INF/services/org.apache.hadoop.fs.MultipartUploader                          |  16 ++++++++++++++++
 23 files changed, 1290 insertions(+), 2 deletions(-)

commit 3905fdb793e6370243d05d0c3036ca69898fe3fb
Author: Surendra Singh Lilhore <surendralilhore@apache.org>
Date:   Sun Jun 17 12:12:01 2018 +0530

    HADOOP-15523. Shell command timeout given is in seconds whereas it is taken as millisec while scheduling. Contributed by Bilwa S T.

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/CommonConfigurationKeysPublic.java         |  4 ++--
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/ShellBasedUnixGroupsMapping.java     | 10 +++++-----
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/Shell.java                               |  2 +-
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestShellBasedUnixGroupsMapping.java | 39 +++++++++++++++++++++++++++++++++++----
 4 files changed, 43 insertions(+), 12 deletions(-)

commit 8762e9cf10fa100dd5f7fd695f5e52b75a94c5d4
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Fri Jun 15 16:49:06 2018 -0700

    HDFS-13681. Fix TestStartup.testNNFailToStartOnReadOnlyNNDir test failure on Windows. Contributed by Xiao Liang.

 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/TestStartup.java | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit d31a3ce767d3bb68bdbb4f36d45600eab9f4f8b7
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Fri Jun 15 15:59:19 2018 -0700

    HDFS-13686. Add overall metrics for FSNamesystemLock. Contributed by Lukas Majercak.

 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystemLock.java     | 17 ++++++++++++-----
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/TestFSNamesystemLock.java | 10 ++++++++--
 2 files changed, 20 insertions(+), 7 deletions(-)

commit 1da3b556591fffaae0751c4f7fceda34d2314fda
Author: Sean Mackrory <mackrorysd@apache.org>
Date:   Tue May 1 08:56:10 2018 -0600

    HADOOP-15504. Upgrade Maven Core and Maven Wagon dependencies.

 hadoop-maven-plugins/pom.xml                                                                     | 38 +++++++++++++++++++++++++++++---------
 hadoop-maven-plugins/src/main/java/org/apache/hadoop/maven/plugin/resourcegz/ResourceGzMojo.java |  2 +-
 pom.xml                                                                                          |  2 +-
 3 files changed, 31 insertions(+), 11 deletions(-)

commit ca192cb7c9d76163391e88461716938fdb41c4d3
Author: Bharat Viswanadham <bharat@apache.org>
Date:   Fri Jun 15 14:35:33 2018 -0700

    HDDS-160:Refactor KeyManager, ChunkManager. Contributed by Bharat Viswanadham

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/interfaces/ChunkManager.java   |   2 +-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/ChunkManagerImpl.java        | 240 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyManagerImpl.java          | 188 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/helpers/ChunkUtils.java      | 295 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/helpers/KeyUtils.java        |  37 +++++++++++++++++++++++++++++++++++--
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/interfaces/ChunkManager.java |  80 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/interfaces/KeyManager.java   |  76 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/keyvalue/TestChunkManagerImpl.java    | 237 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/keyvalue/TestKeyManagerImpl.java      | 179 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 9 files changed, 1331 insertions(+), 3 deletions(-)

commit 308a1591f9f41597f4e7cc17bca06c66d6efc0a2
Author: Anu Engineer <aengineer@apache.org>
Date:   Fri Jun 15 10:23:58 2018 -0700

    HDDS-172. The numbers of operation should be integer in KSM UI.
    Contributed by Takanobu Asanuma.

 hadoop-ozone/ozone-manager/src/main/webapps/ksm/ksm.js | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit c966a3837af1c1a1c4a441f491b0d76d5c9e5d78
Author: Wei-Chiu Chuang <weichiu@apache.org>
Date:   Fri Jun 15 13:35:50 2018 -0700

    HDFS-13174. hdfs mover -p /path times out after 20 min. Contributed by Istvan Fajth.

 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DFSConfigKeys.java                |  4 +++-
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/balancer/Balancer.java     |  6 +++++-
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/balancer/Dispatcher.java   | 30 ++++++++++++++++++++----------
 hadoop-hdfs-project/hadoop-hdfs/src/main/resources/hdfs-default.xml                                    | 10 ++++++++++
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/balancer/TestBalancer.java | 79 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/mover/TestMover.java       | 46 ++++++++++++++++++++++++++++++++++++++++++++++
 6 files changed, 163 insertions(+), 12 deletions(-)

commit eebeb6033fd09791fcbff626f128a98e393f0a88
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Fri Jun 15 13:07:54 2018 -0700

    HDFS-13676. TestEditLogRace fails on Windows. Contributed by Zuoming Zhang.

 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/TestEditLogRace.java | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 43d994e4a6dfd1c24eafb909d6f8a0663b20769a
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Fri Jun 15 10:33:28 2018 -0700

    HDFS-13673. TestNameNodeMetrics fails on Windows. Contributed by Zuoming Zhang.

 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/metrics/TestNameNodeMetrics.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit b272b71095eb8929b60128835ef1078fe946b231
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Fri Jun 15 09:40:45 2018 -0700

    HADOOP-15537. Clean up ContainerLaunch and ContainerExecutor pre-HADOOP-15528. Contributed by Giovanni Matteo Fumarola.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/ContainerExecutor.java                             |  4 +++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/launcher/ContainerLaunch.java     | 27 +--------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/launcher/ContainerRelaunch.java   |  1 -
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/launcher/TestContainerLaunch.java |  2 --
 4 files changed, 4 insertions(+), 30 deletions(-)

commit 3e37a9a70ba93430da1b47f2a8b50358348396b0
Author: Mukul Kumar Singh <msingh@apache.org>
Date:   Fri Jun 15 14:58:20 2018 +0530

    HDFS-13679. Fix Typo in javadoc for ScanInfoPerBlockPool#addAll. Contributed by Shashikant Banerjee.

 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/DirectoryScanner.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 998e2850a3ceb961d66b9d3398a1afaad63a5cd8
Author: Bharat Viswanadham <bharat@apache.org>
Date:   Thu Jun 14 20:54:54 2018 -0700

    HDDS-155:Implement KeyValueContainer and adopt new disk layout for the containers. Contributed by Bharat Viswanadham

 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/OzoneConsts.java                                                 |   3 +++
 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/Storage.java                                              |   3 ++-
 hadoop-hdds/common/src/main/proto/DatanodeContainerProtocol.proto                                                         |   5 +++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/KeyValueContainer.java          |  78 ------------------------------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/KeyValueContainerData.java      |  21 +++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/interfaces/Container.java            |  17 +++++++++++------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueContainer.java             | 544 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueContainerLocationUtil.java | 140 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueContainerUtil.java         | 148 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/helpers/KeyUtils.java              |  82 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/helpers/package-info.java          |  21 +++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/package-info.java                  |  21 +++++++++++++++++++++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/impl/TestContainerSet.java           |   8 ++++++--
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/keyvalue/TestKeyValueContainer.java         | 281 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 14 files changed, 1285 insertions(+), 87 deletions(-)

commit 020dd61988b1d47971e328174135d54baf5d41aa
Author: Anu Engineer <aengineer@apache.org>
Date:   Thu Jun 14 14:14:24 2018 -0700

    HDDS-146. Refactor the structure of the acceptance tests.
    Contributed by  Elek, Marton.

 hadoop-ozone/acceptance-test/dev-support/bin/robot-all.sh                                                   |   2 +-
 hadoop-ozone/acceptance-test/dev-support/bin/robot-dnd-all.sh                                               |  63 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-ozone/acceptance-test/dev-support/bin/robot.sh                                                       |   9 ++++-----
 hadoop-ozone/acceptance-test/dev-support/docker/Dockerfile                                                  |  21 +++++++++++++++++++++
 hadoop-ozone/acceptance-test/dev-support/docker/docker-compose.yaml                                         |  23 +++++++++++++++++++++++
 hadoop-ozone/acceptance-test/pom.xml                                                                        |   1 +
 hadoop-ozone/acceptance-test/src/test/{compose => acceptance/basic}/.env                                    |   2 +-
 hadoop-ozone/acceptance-test/src/test/acceptance/basic/basic.robot                                          |  50 ++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-ozone/acceptance-test/src/test/{compose => acceptance/basic}/docker-compose.yaml                     |   0
 hadoop-ozone/acceptance-test/src/test/{compose => acceptance/basic}/docker-config                           |   4 +++-
 hadoop-ozone/acceptance-test/src/test/acceptance/basic/ozone-shell.robot                                    |  85 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-ozone/acceptance-test/src/test/{robotframework/acceptance/ozone.robot => acceptance/commonlib.robot} |  67 +++++++++++++++++++++----------------------------------------------
 hadoop-ozone/acceptance-test/src/test/acceptance/ozonefs/.env                                               |  17 +++++++++++++++++
 hadoop-ozone/acceptance-test/src/test/robotframework/acceptance/ozone-shell.robot                           | 256 ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 start-build-env.sh                                                                                          |   8 ++++++--
 15 files changed, 296 insertions(+), 312 deletions(-)

commit 5d7449d2b8bcd0963d172fc30df784279671176f
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Thu Jun 14 13:43:14 2018 -0700

    HDFS-13675. Speed up TestDFSAdminWithHA. Contributed by Lukas Majercak.

 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/tools/TestDFSAdminWithHA.java | 5 +++++
 1 file changed, 5 insertions(+)

commit 9a5552bf762880c38a233597b7c6e9ea09441108
Author: Hanisha Koneru <hanishakoneru@apache.org>
Date:   Thu Jun 14 13:28:41 2018 -0700

    HDDS-156. Implement HDDSVolume to manage volume state

 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/OzoneConsts.java                                                                 |   5 +++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/DataNodeLayoutVersion.java                           |  80 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/helpers/DatanodeVersionFile.java                     |  95 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/VolumeSet.java                                  | 251 -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/interfaces/VolumeChoosingPolicy.java                 |   4 ++--
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/utils/HddsVolumeUtil.java                            | 163 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/HddsVolume.java                               | 330 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/{impl => volume}/RoundRobinVolumeChoosingPolicy.java |   9 +++++----
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/{impl => volume}/VolumeInfo.java                     |  78 ++++++++++++++++++++++++------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/VolumeSet.java                                | 309 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/{impl => volume}/VolumeUsage.java                    |  11 ++++++++++-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/package-info.java                             |  21 +++++++++++++++++++++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/TestDatanodeLayOutVersion.java                       |  38 ++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/helpers/TestDatanodeVersionFile.java                 | 134 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/impl/TestRoundRobinVolumeChoosingPolicy.java         | 100 ----------------------------------------------------------------------------------------------------
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/volume/TestHddsVolume.java                           | 145 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/volume/TestRoundRobinVolumeChoosingPolicy.java       | 131 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/{interfaces => volume}/TestVolumeSet.java            |  42 +++++++++++++++++++++++++-----------------
 18 files changed, 1517 insertions(+), 429 deletions(-)

commit 361ffb26bebf2491bbe3219ef4a83eb753660018
Author: Bharat Viswanadham <bharat@apache.org>
Date:   Thu Jun 14 13:14:25 2018 -0700

    YARN-8426:Upgrade jquery-ui to 1.12.1 in YARN. Contributed by Sunil Govindan

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/pom.xml                                                                 |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/webapp/view/JQueryUI.java          |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/jquery/jquery-ui-1.12.1.custom.min.js | 13 +++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/jquery/jquery-ui-1.9.1.custom.min.js  |  6 ------
 4 files changed, 15 insertions(+), 8 deletions(-)

commit 9591765040b85927ac69179ab46383eef9560a28
Author: Eric Yang <eyang@apache.org>
Date:   Thu Jun 14 15:54:21 2018 -0400

    YARN-8410.  Fixed a bug in A record lookup by CNAME record.
                Contributed by Shane Kumpf

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-registry/src/main/java/org/apache/hadoop/registry/server/dns/RegistryDNS.java     | 29 ++++++++++++++++++++++++-----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-registry/src/test/java/org/apache/hadoop/registry/server/dns/TestRegistryDNS.java | 23 ++++++++++++++++++++---
 2 files changed, 44 insertions(+), 8 deletions(-)

commit 8d4926f38bf53b32453cd2bc7322c8818f752f85
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Thu Jun 14 09:58:50 2018 -0700

    HDFS-13563. TestDFSAdminWithHA times out on Windows. Contributed by Lukas Majercak.

 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/tools/TestDFSAdminWithHA.java | 7 +++++++
 1 file changed, 7 insertions(+)

commit 418cff4820ba73cdbfd09fc5879b8b3aa4e62d5f
Merge: 7e228e54c56 9119b3cf8f8
Author: Arpit Agarwal <arp@apache.org>
Date:   Thu Jun 14 09:38:20 2018 -0700

    Merge remote-tracking branch 'apache-commit/trunk' into HDDS-48

commit 9119b3cf8f883aa2d5df534afc0c50249fed03c6
Author: Rohith Sharma K S <rohithsharmaks@apache.org>
Date:   Thu Jun 14 12:38:10 2018 +0530

    YARN-8155. Improve ATSv2 client logging in RM and NM publisher. Contributed by Abhishek Modi.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/timelineservice/NMTimelinePublisher.java           | 42 ++++++++++++++++++++++++++++++++++++------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/metrics/TimelineServiceV2Publisher.java    |  8 ++++++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice/src/main/java/org/apache/hadoop/yarn/server/timelineservice/collector/TimelineCollectorWebService.java | 19 ++++++++++++++-----
 3 files changed, 56 insertions(+), 13 deletions(-)

commit ddd09d59f3d9825f068026622720914e04c2e1d6
Author: Anu Engineer <aengineer@apache.org>
Date:   Wed Jun 13 20:18:22 2018 -0700

    HDDS-163. Add Datanode heartbeat dispatcher in SCM.
    Contributed by Nandakumar.

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/report/ReportManager.java           |   3 ++-
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMDatanodeProtocolServer.java                    | 119 ++++++++++++++++++++++++++++++++++++++++++++++++-----------------------------------------------------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/report/SCMDatanodeContainerReportHandler.java     |  76 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/report/SCMDatanodeHeartbeatDispatcher.java        | 189 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/report/SCMDatanodeNodeReportHandler.java          |  43 +++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/report/SCMDatanodeReportHandler.java              |  83 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/report/SCMDatanodeReportHandlerFactory.java       |  82 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/report/package-info.java                          |  57 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/server/report/TestSCMDatanodeContainerReportHandler.java |  34 ++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/server/report/TestSCMDatanodeHeartbeatDispatcher.java    | 138 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/server/report/TestSCMDatanodeNodeReportHandler.java      |  36 ++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/server/report/TestSCMDatanodeReportHandlerFactory.java   |  51 +++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/server/report/package-info.java                          |  21 +++++++++++++++++++++
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/scm/TestSCMMetrics.java                              |  20 +++++++++++++++-----
 14 files changed, 875 insertions(+), 77 deletions(-)

commit 7547740e5c65edaa6c6f8aa1c8debabbdfb0945e
Author: Anu Engineer <aengineer@apache.org>
Date:   Wed Jun 13 17:50:42 2018 -0700

    HDDS-161. Add functionality to queue ContainerClose command from SCM Heartbeat Response to Ratis.
    Contributed by Shashikant Banerjee.

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/DatanodeStateMachine.java                        |   9 +++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/CloseContainerCommandHandler.java |  21 ++++++++++++++++++++-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/CommandDispatcher.java            |   4 ++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/XceiverServer.java                           |   7 +++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/XceiverServerGrpc.java                       |   9 +++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/XceiverServerSpi.java                        |   7 +++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/XceiverServerRatis.java                |  56 +++++++++++++++++++++++++++++++++++++++++++++++++++++++-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/OzoneContainer.java                                        |  62 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++--
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/protocol/commands/CloseContainerCommand.java                                   |  12 +++++++++---
 hadoop-hdds/container-service/src/main/proto/StorageContainerDatanodeProtocol.proto                                                                |   1 +
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/CloseContainerEventHandler.java                                          |   3 ++-
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/closer/ContainerCloser.java                                              |   7 ++++---
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/TestCloseContainerByPipeline.java | 221 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/TestCloseContainerHandler.java    |   7 ++++---
 14 files changed, 412 insertions(+), 14 deletions(-)

commit 22994889dc449f966fb6462a3ac3d3bbaee3ac6a
Author: Eric Yang <eyang@apache.org>
Date:   Wed Jun 13 19:24:31 2018 -0400

    YARN-8259.  Improve privileged docker container liveliness checks.
                Contributed by Shane Kumpf

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/runtime/DockerLinuxContainerRuntime.java    | 26 +++++++++-----------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/runtime/LinuxContainerRuntimeConstants.java |  2 ++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/runtime/TestDockerContainerRuntime.java     | 34 +++++++++++++++++++++++-----------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/DockerContainers.md                                                                                                                       | 15 +++++++++++++++
 4 files changed, 49 insertions(+), 28 deletions(-)

commit 69b05968974994c6e22d6562a67b9392d1700094
Author: Eric Yang <eyang@apache.org>
Date:   Wed Jun 13 19:05:52 2018 -0400

    YARN-8411.  Restart stopped system service during RM start.
                Contributed by Billie Rinaldi

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-api/src/main/java/org/apache/hadoop/yarn/service/client/SystemServiceManagerImpl.java     | 29 +++++++++++++++++++++++++----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-api/src/main/java/org/apache/hadoop/yarn/service/webapp/ApiServer.java                    |  3 +--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-api/src/test/java/org/apache/hadoop/yarn/service/ServiceClientTest.java                   |  4 ++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-api/src/test/java/org/apache/hadoop/yarn/service/client/TestSystemServiceManagerImpl.java | 40 ++++++++++++++++++++++++++++++++++------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/client/ServiceClient.java               | 14 ++++++++++----
 5 files changed, 72 insertions(+), 18 deletions(-)

commit 7566e0ec5f1aff4cf3c53f4ccc5f3b57fff1e216
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Wed Jun 13 11:43:18 2018 -0700

    HDDS-159. RestClient: Implement list operations for volume, bucket and keys. Contributed by Lokesh Jain.

 hadoop-ozone/acceptance-test/src/test/robotframework/acceptance/ozone-shell.robot                    |  18 +++++++++---------
 hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/rest/RestClient.java                | 113 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-----
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/ozShell/TestOzoneShell.java      |  33 +++++++++++++--------------------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/web/client/TestBuckets.java      |   3 ---
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/web/client/TestBucketsRatis.java |   3 ---
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/web/client/TestVolume.java       |  12 ++++++------
 6 files changed, 136 insertions(+), 46 deletions(-)

commit 43baa036aeb025bcbed1aca19837b072f2c14a6a
Author: Anu Engineer <aengineer@apache.org>
Date:   Wed Jun 13 09:50:10 2018 -0700

    HDDS-109. Add reconnect logic for XceiverClientGrpc.
    Contributed by Lokesh Jain.

 hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/XceiverClientGrpc.java                    | 23 +++++++++++++++++++++++
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/scm/TestXceiverClientManager.java |  6 ++----
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/web/client/TestKeys.java          | 29 +++++++++++++++++++++++------
 3 files changed, 48 insertions(+), 10 deletions(-)

commit 8e7548d33be9c4874daab18b2e774bdc2ed216d3
Author: Yiqun Lin <yqlin@apache.org>
Date:   Wed Jun 13 20:05:55 2018 +0800

    HDFS-13641. Add metrics for edit log tailing. Contributed by Chao Sun.

 hadoop-common-project/hadoop-common/src/site/markdown/Metrics.md                                                      | 12 ++++++++++++
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/test/MetricsAsserts.java                          | 22 ++++++++++++++++++----
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/ha/EditLogTailer.java            | 11 +++++++++++
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/metrics/NameNodeMetrics.java     | 59 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/metrics/TestNameNodeMetrics.java | 41 +++++++++++++++++++++++++++++++++++++++++
 5 files changed, 140 insertions(+), 5 deletions(-)

commit 6307962b932e0ee69ba61f5796388c175d79195a
Author: Sunil G <sunilg@apache.org>
Date:   Wed Jun 13 16:09:16 2018 +0530

    YARN-8404. Timeline event publish need to be async to avoid Dispatcher thread leak in case ATS is down. Contributed by Rohith Sharma K S

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/metrics/TimelineServiceV1Publisher.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit f4c7c91123b1dbb12bcc0070479999963b04ad46
Author: Jitendra Pandey <jitendra@apache.org>
Date:   Wed Jun 13 00:36:02 2018 -0700

    HADOOP-15483. Upgrade jquery to version 3.3.1. Contributed by Lokesh Jain, Mukul Kumar Singh and Sunil Govindan.

 LICENSE.txt                                                                                                               |     4 +--
 hadoop-hdds/server-scm/src/main/webapps/scm/index.html                                                                    |     6 ++---
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/webapps/router/federationhealth.html                                         |     6 ++---
 hadoop-hdfs-project/hadoop-hdfs/pom.xml                                                                                   |     4 +--
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/datanode/datanode.html                                                   |     6 ++---
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/hdfs/dfshealth.html                                                      |     6 ++---
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/hdfs/dfshealth.js                                                        |     8 +++---
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/hdfs/explorer.html                                                       |    10 ++++----
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/hdfs/explorer.js                                                         |    34 ++++++++++++-------------
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/journal/index.html                                                       |     6 ++---
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/secondary/status.html                                                    |     6 ++---
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/bootstrap-3.0.2/css/bootstrap.min.css                             |     9 -------
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/bootstrap-3.0.2/fonts/glyphicons-halflings-regular.eot            |   Bin 20290 -> 0 bytes
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/bootstrap-3.0.2/fonts/glyphicons-halflings-regular.svg            |   229 -----------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/bootstrap-3.0.2/fonts/glyphicons-halflings-regular.ttf            |   Bin 41236 -> 0 bytes
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/bootstrap-3.0.2/fonts/glyphicons-halflings-regular.woff           |   Bin 23292 -> 0 bytes
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/bootstrap-3.0.2/img/clear.png                                     |   Bin 509 -> 0 bytes
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/bootstrap-3.0.2/img/loading.gif                                   |   Bin 1849 -> 0 bytes
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/bootstrap-3.0.2/js/bootstrap.min.js                               |     9 -------
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/{bootstrap-3.0.2 => bootstrap-3.3.7}/css/bootstrap-editable.css   |     0
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/bootstrap-3.3.7/css/bootstrap-theme.css                           |   587 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/bootstrap-3.3.7/css/bootstrap-theme.css.map                       |     1 +
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/bootstrap-3.3.7/css/bootstrap-theme.min.css                       |     6 +++++
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/bootstrap-3.3.7/css/bootstrap-theme.min.css.map                   |     1 +
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/bootstrap-3.3.7/css/bootstrap.css                                 |  6757 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/bootstrap-3.3.7/css/bootstrap.css.map                             |     1 +
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/bootstrap-3.3.7/css/bootstrap.min.css                             |     6 +++++
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/bootstrap-3.3.7/css/bootstrap.min.css.map                         |     1 +
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/bootstrap-3.3.7/fonts/glyphicons-halflings-regular.eot            |   Bin 0 -> 20127 bytes
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/bootstrap-3.3.7/fonts/glyphicons-halflings-regular.svg            |   288 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/bootstrap-3.3.7/fonts/glyphicons-halflings-regular.ttf            |   Bin 0 -> 45404 bytes
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/bootstrap-3.3.7/fonts/glyphicons-halflings-regular.woff           |   Bin 0 -> 23424 bytes
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/bootstrap-3.3.7/fonts/glyphicons-halflings-regular.woff2          |   Bin 0 -> 18028 bytes
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/{bootstrap-3.0.2 => bootstrap-3.3.7}/js/bootstrap-editable.min.js |     0
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/bootstrap-3.3.7/js/bootstrap.js                                   |  2377 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/bootstrap-3.3.7/js/bootstrap.min.js                               |     7 ++++++
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/bootstrap-3.3.7/js/npm.js                                         |    13 ++++++++++
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/dfs-dust.js                                                       |     2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/jquery-1.10.2.min.js                                              |     6 -----
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/jquery-3.3.1.min.js                                               |     2 ++
 hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/moment.min.js                                                     |     6 ++---
 hadoop-ozone/acceptance-test/src/test/robotframework/acceptance/ozone.robot                                               |     4 +--
 hadoop-ozone/ozone-manager/src/main/webapps/ksm/index.html                                                                |     6 ++---
 hadoop-ozone/pom.xml                                                                                                      |     4 +--
 hadoop-tools/hadoop-sls/src/main/html/js/thirdparty/jquery.js                                                             | 13607 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/pom.xml                                                                |     2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/webapp/view/JQueryUI.java         |     2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/jquery/jquery-1.8.2.min.js           |     2 --
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/jquery/jquery-3.3.1.min.js           |     2 ++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/webapps/static/jt/jquery.jstree.js                  |    42 +++++++++++++++----------------
 50 files changed, 17221 insertions(+), 6854 deletions(-)

commit 29024a62038c297f11e8992601f2522ffffc7da7
Author: Weiwei Yang <wwei@apache.org>
Date:   Wed Jun 13 09:28:05 2018 +0800

    YARN-8394. Improve data locality documentation for Capacity Scheduler. Contributed by Weiwei Yang.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/conf/capacity-scheduler.xml | 2 ++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/CapacityScheduler.md                           | 5 +++++
 2 files changed, 7 insertions(+)

commit 108da85320d65e37fe835de65866b818e5420587
Author: Eric Yang <eyang@apache.org>
Date:   Tue Jun 12 20:40:32 2018 -0400

    HADOOP-15527.  Improve delay check for stopping processes.
                   Contributed by Vinod Kumar Vavilapalli

 hadoop-common-project/hadoop-common/src/main/bin/hadoop-functions.sh         | 34 +++++++++++++++++++++++++++++++++-
 hadoop-common-project/hadoop-common/src/test/scripts/hadoop_stop_daemon.bats | 24 +++++++++++++++++++++++-
 2 files changed, 56 insertions(+), 2 deletions(-)

commit 5670e89b2ec69ab71e32dcd5acbd3a57ca6abea5
Author: Arun Suresh <asuresh@apache.org>
Date:   Tue Jun 12 15:36:52 2018 -0700

    MAPREDUCE-7101. Add config parameter to allow JHS to alway scan user dir irrespective of modTime. (Thomas Marquardt via asuresh)

 hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-common/src/main/java/org/apache/hadoop/mapreduce/v2/jobhistory/JHAdminConfig.java | 9 +++++++--
 hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/resources/mapred-default.xml                                        | 9 +++++++++
 hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs/src/main/java/org/apache/hadoop/mapreduce/v2/hs/HistoryFileManager.java        | 8 +++++++-
 3 files changed, 23 insertions(+), 3 deletions(-)

commit aeaf9fec62f10699d1c809d66444520fe4533c2c
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Tue Jun 12 14:16:14 2018 -0700

    HADOOP-15532. TestBasicDiskValidator fails with NoSuchFileException. Contributed by Giovanni Matteo Fumarola.

 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/util/TestDiskChecker.java | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 04b74eddc67888142879ed114d21348e8a4aad78
Author: Gera Shegalov <gera@apache.org>
Date:   Tue Jun 12 11:21:51 2018 -0700

    MAPREDUCE-7108. TestFileOutputCommitter fails on Windows. (Zuoming Zhang via gera)

 hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapreduce/lib/output/TestFileOutputCommitter.java | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit a16623df2148e59e1b7dcf98939b03cb7440d143
Author: Xiao Chen <xiao@apache.org>
Date:   Tue Jun 12 11:14:33 2018 -0700

    HADOOP-15307. NFS: flavor AUTH_SYS should use VerifierNone. Contributed by Gabor Bota.

 hadoop-common-project/hadoop-nfs/src/main/java/org/apache/hadoop/oncrpc/security/Verifier.java | 12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit c35481594ffc372e3f846b0c8ebc2ff9e36ffdb0
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Tue Jun 12 10:59:50 2018 -0700

    YARN-8422. TestAMSimulator failing with NPE. Contributed by Giovanni Matteo Fumarola.

 hadoop-tools/hadoop-sls/src/test/java/org/apache/hadoop/yarn/sls/appmaster/TestAMSimulator.java | 13 ++++++++-----
 1 file changed, 8 insertions(+), 5 deletions(-)

commit 6e756e8a620e4d6dc3192986679060c52063489b
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Tue Jun 12 10:24:34 2018 -0700

    HADOOP-15529. ContainerLaunch#testInvalidEnvVariableSubstitutionType is not supported in Windows. Contributed by Giovanni Matteo Fumarola.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/launcher/TestContainerLaunch.java | 12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit 10d0e4be6eade7c1685b9c6962bc9b18e33122a8
Author: Haibo Chen <haibochen@apache.org>
Date:   Tue Jun 12 10:11:30 2018 -0700

    YARN-8325. Miscellaneous QueueManager code clean up. (Szilard Nemeth via Haibo Chen)

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/QueueManager.java | 41 +++++++++++++++++++++++------------------
 1 file changed, 23 insertions(+), 18 deletions(-)

commit 24a89825f0cbc92b0a462152bc765e2195edd5a1
Author: Haibo Chen <haibochen@apache.org>
Date:   Tue Jun 12 10:03:07 2018 -0700

    YARN-6931. Make the aggregation interval in AppLevelTimelineCollector configurable. (Abhishek Modi via Haibo Chen)

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/conf/YarnConfiguration.java                                                                                  |  9 +++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/yarn-default.xml                                                                                                            |  9 +++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice/src/main/java/org/apache/hadoop/yarn/server/timelineservice/collector/AppLevelTimelineCollectorWithAgg.java | 14 +++++++++-----
 3 files changed, 27 insertions(+), 5 deletions(-)

commit e9ea9022999f83aca000a10edbb76489e6b79d12
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Tue Jun 12 09:03:42 2018 -0700

    HDDS-130. TestGenerateOzoneRequiredConfigurations should use GenericTestUtils#getTempPath to set output directory. Contributed by Sandeep Nemuri.

 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/genconf/TestGenerateOzoneRequiredConfigurations.java | 72 ++++++++++++++++++++++++++++++++++++++++++++++++++----------------------
 1 file changed, 50 insertions(+), 22 deletions(-)

commit 652bcbb3e4950758e61ce123ecc1798ae2b60a7f
Author: Akira Ajisaka <aajisaka@apache.org>
Date:   Wed Jun 13 00:34:57 2018 +0900

    YARN-8363. Upgrade commons-lang version to 3.7 in hadoop-yarn-project. Contributed by Takanobu Asanuma.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/pom.xml                                                                                                                                                                                    |  4 ----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/api/protocolrecords/GetApplicationsRequest.java                                                                                                       | 22 +++++++++++-----------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/api/records/Resource.java                                                                                                                             |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/util/resource/ResourceUtils.java                                                                                                                      |  4 ++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-distributedshell/pom.xml                                                                                                                                 |  4 ----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-distributedshell/src/main/java/org/apache/hadoop/yarn/applications/distributedshell/Client.java                                                          |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-api/src/main/java/org/apache/hadoop/yarn/service/client/ApiServiceClient.java                                                           |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/pom.xml                                                                                                                            |  5 -----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/api/records/Configuration.java                                                        |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/client/ServiceClient.java                                                             |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/monitor/probe/Probe.java                                                              |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/provider/AbstractClientProvider.java                                                  |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/provider/AbstractProviderService.java                                                 |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/provider/docker/DockerClientProvider.java                                             |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/provider/docker/DockerProviderService.java                                            |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/provider/tarball/TarballClientProvider.java                                           |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/utils/ServiceApiUtil.java                                                             |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/utils/ServiceUtils.java                                                               |  4 ++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/pom.xml                                                                                                                                                                                 |  4 ----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/ClusterCLI.java                                                                                                                         |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/LogsCLI.java                                                                                                                            |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/NodeCLI.java                                                                                                                            |  4 ++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/RMAdminCLI.java                                                                                                                         |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/TopCLI.java                                                                                                                             |  6 +++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/test/java/org/apache/hadoop/yarn/client/cli/TestLogsCLI.java                                                                                                                        |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/test/java/org/apache/hadoop/yarn/client/cli/TestYarnCLI.java                                                                                                                        |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/pom.xml                                                                                                                                                                                 |  4 ----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/api/protocolrecords/impl/pb/GetApplicationsRequestPBImpl.java                                                                                      | 30 +++++++++++++++---------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/logaggregation/LogCLIHelpers.java                                                                                                                  |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/logaggregation/LogToolUtils.java                                                                                                                   |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/logaggregation/filecontroller/LogAggregationFileController.java                                                                                    |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/logaggregation/filecontroller/LogAggregationFileControllerFactory.java                                                                             |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/logaggregation/filecontroller/ifile/LogAggregationIndexedFileController.java                                                                       |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/nodelabels/CommonNodeLabelsManager.java                                                                                                            |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/nodelabels/RMNodeLabel.java                                                                                                                        |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/state/Graph.java                                                                                                                                   |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/util/Log4jWarningErrorMetricsAppender.java                                                                                                         |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/util/ProcfsBasedProcessTree.java                                                                                                                   |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/webapp/Router.java                                                                                                                                 |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/webapp/WebApps.java                                                                                                                                |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/webapp/hamlet/HamletImpl.java                                                                                                                      |  6 +++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/webapp/hamlet2/HamletImpl.java                                                                                                                     |  6 +++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/webapp/view/JQueryUI.java                                                                                                                          |  6 +++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/webapp/view/TextView.java                                                                                                                          |  6 +++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/test/java/org/apache/hadoop/yarn/api/BasePBImplRecordsTest.java                                                                                                                     |  8 +++++++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/test/java/org/apache/hadoop/yarn/api/TestGetApplicationsRequest.java                                                                                                                |  7 ++++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/test/java/org/apache/hadoop/yarn/api/TestPBImplRecords.java                                                                                                                         |  4 ++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/test/java/org/apache/hadoop/yarn/nodelabels/TestCommonNodeLabelsManager.java                                                                                                        |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/test/java/org/apache/hadoop/yarn/webapp/TestWebApp.java                                                                                                                             |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-registry/pom.xml                                                                                                                                                                               |  5 -----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-registry/src/main/java/org/apache/hadoop/registry/client/api/RegistryOperationsFactory.java                                                                                                    |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-registry/src/main/java/org/apache/hadoop/registry/client/binding/JsonSerDeser.java                                                                                                             |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-registry/src/main/java/org/apache/hadoop/registry/client/binding/RegistryUtils.java                                                                                                            |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-registry/src/main/java/org/apache/hadoop/registry/client/impl/FSRegistryOperationsService.java                                                                                                 |  6 +++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-registry/src/main/java/org/apache/hadoop/registry/client/impl/zk/RegistrySecurity.java                                                                                                         |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-registry/src/main/java/org/apache/hadoop/registry/server/dns/ReverseZoneUtils.java                                                                                                             |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-registry/src/main/java/org/apache/hadoop/registry/server/integration/SelectByYarnPersistence.java                                                                                              |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-registry/src/main/java/org/apache/hadoop/registry/server/services/MicroZookeeperService.java                                                                                                   |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-registry/src/main/java/org/apache/hadoop/registry/server/services/RegistryAdminService.java                                                                                                    |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-registry/src/test/java/org/apache/hadoop/registry/RegistryTestHelper.java                                                                                                                      |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/applicationhistoryservice/ApplicationHistoryClientService.java                                 |  4 ++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/timeline/RollingLevelDB.java                                                                   |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/timeline/RollingLevelDBTimelineStore.java                                                      |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/test/java/org/apache/hadoop/yarn/server/applicationhistoryservice/webapp/TestAHSWebServices.java                                       |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/federation/store/impl/SQLFederationStateStore.java                                                                |  6 +++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/federation/utils/FederationStateStoreFacade.java                                                                  |  4 ++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/scheduler/OpportunisticContainerAllocator.java                                                                    |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/uam/UnmanagedApplicationManager.java                                                                              |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/util/timeline/TimelineServerUtils.java                                                                            |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/webapp/AppAttemptBlock.java                                                                                       |  6 +++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/webapp/AppBlock.java                                                                                              |  4 ++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/webapp/AppsBlock.java                                                                                             | 14 +++++++-------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/webapp/WebServices.java                                                                                           |  4 ++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/pom.xml                                                                                                                                                  |  4 ----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/DefaultContainerExecutor.java                                                                    |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/WindowsSecureContainerExecutor.java                                                              |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/container/ContainerImpl.java                                                    |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/privileged/PrivilegedOperationExecutor.java                               |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/resources/DefaultOOMHandler.java                                          |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/executor/ContainerSignalContext.java                                                             |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/webapp/NMWebServices.java                                                                        |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/launcher/TestContainerLaunch.java                                               | 48 ++++++++++++++++++++++++------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/logaggregation/TestLogAggregationService.java                                   |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/loghandler/TestNonAggregatingLogHandler.java                                    |  4 ++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/pom.xml                                                                                                                                              |  4 ----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/ClientRMService.java                                                                     | 12 ++++++------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/ProportionalCapacityPreemptionPolicy.java                               |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/placement/QueuePlacementRuleUtils.java                                                   |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/placement/UserGroupMappingPlacementRule.java                                             |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmapp/RMAppImpl.java                                                                     |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmapp/attempt/RMAppAttemptMetrics.java                                                   |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/SchedulerApplicationAttempt.java                                               |  6 +++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/SchedulerUtils.java                                                            |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/AbstractCSQueue.java                                                  |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/CapacityScheduler.java                                                |  4 ++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/LeafQueue.java                                                        |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/ParentQueue.java                                                      |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/QueueCapacities.java                                                  |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/allocator/RegularContainerAllocator.java                              |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/constraint/AllocationTagsManager.java                                          |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/constraint/algorithm/LocalAllocationTagsManager.java                           |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/FairSchedulerAppsBlock.java                                                       | 10 +++++-----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/RMAppAttemptBlock.java                                                            |  8 ++++----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/RMAppBlock.java                                                                   |  4 ++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/RMAppsBlock.java                                                                  | 14 +++++++-------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/dao/AppAttemptInfo.java                                                           |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/TestContainerResourceUsage.java                                                          |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/rmapp/attempt/TestRMAppAttemptImplDiagnostics.java                                       |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/TestCapacitySchedulerAutoCreatedQueueBase.java                        |  4 ++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-router/src/main/java/org/apache/hadoop/yarn/server/router/clientrm/FederationClientInterceptor.java                                                                  | 58 +++++++++++++++++++++++++++++-----------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-router/src/main/java/org/apache/hadoop/yarn/server/router/webapp/AppsBlock.java                                                                                      |  6 +++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-router/src/main/java/org/apache/hadoop/yarn/server/router/webapp/FederationInterceptorREST.java                                                                      | 70 +++++++++++++++++++++++++++++++++++-----------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice-hbase/hadoop-yarn-server-timelineservice-hbase-client/pom.xml                                                                                        |  5 -----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice-hbase/hadoop-yarn-server-timelineservice-hbase-client/src/main/java/org/apache/hadoop/yarn/server/timelineservice/storage/TimelineSchemaCreator.java |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice/pom.xml                                                                                                                                              |  5 -----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice/src/main/java/org/apache/hadoop/yarn/server/timelineservice/reader/TimelineReaderUtils.java                                                          |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice/src/main/java/org/apache/hadoop/yarn/server/timelineservice/reader/TimelineReaderWebServicesUtils.java                                               |  2 +-
 117 files changed, 281 insertions(+), 318 deletions(-)

commit 5c7ad52573819728ed0b57d1f84258b5fff7c43c
Author: Anu Engineer <aengineer@apache.org>
Date:   Tue Jun 12 08:25:18 2018 -0700

    HDDS-111. Include tests for Rest Client in TestVolume and TestBucket.
    Contributed by Lokesh Jain.

 hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/OzoneClientUtils.java                            | 18 +++++++++---------
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/RatisTestHelper.java                          |  8 ++++++--
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/ksm/TestKeySpaceManager.java                  | 11 +++++++----
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/web/client/TestBuckets.java                   | 40 ++++++++++++++++++++++++++++++++++++----
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/web/client/TestBucketsRatis.java              | 35 ++++++++++++++++++++++++++++++++++-
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/web/client/TestVolume.java                    | 36 ++++++++++++++++++++++++++++++++++--
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/web/client/TestVolumeRatis.java               | 29 +++++++++++++++++++++++++++--
 hadoop-ozone/objectstore-service/src/main/java/org/apache/hadoop/ozone/web/storage/DistributedStorageHandler.java | 21 ++++++++++++---------
 8 files changed, 165 insertions(+), 33 deletions(-)

commit aa7614c5f36060a3630b742590845da7efd85caa
Author: Mukul Kumar Singh <msingh@apache.org>
Date:   Tue Jun 12 20:36:23 2018 +0530

    HDDS-158. DatanodeStateMachine endPoint task throws NullPointerException. Contributed by Nanda Kumar.

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/states/endpoint/HeartbeatEndpointTask.java | 12 +++++++++---
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/report/TestReportPublisher.java            | 79 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 88 insertions(+), 3 deletions(-)

commit b3612dd90c419c6ac5d59ab0793b4adec40ef5c6
Author: Sunil G <sunilg@apache.org>
Date:   Tue Jun 12 17:40:41 2018 +0530

    YARN-8419. [UI2] User cannot submit a new service as submit button is always disabled. Contributed by Suma Shivaprasad.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/components/deploy-service.js | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 95303f50d3467fd9bc64e504c9e64a64f118b25f
Author: Rohith Sharma K S <rohithsharmaks@apache.org>
Date:   Tue Jun 12 17:14:22 2018 +0530

    YARN-8413. Flow activity page is failing with 'Timeline server failed with an error'. Contributed by Sunil Govindan.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/initializers/loader.js | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2df73dace06cfd2b3193a14cd455297f8f989617
Author: Rohith Sharma K S <rohithsharmaks@apache.org>
Date:   Tue Jun 12 17:13:09 2018 +0530

    YARN-8405. RM zk-state-store.parent-path ACLs has been changed since HADOOP-14773. Contributed by  Íñigo Goiri.

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/curator/ZKCuratorManager.java                                                                                                | 14 +++++++++++++-
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/store/driver/impl/StateStoreZooKeeperImpl.java                                                             |  6 +++++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/federation/store/impl/ZookeeperFederationStateStore.java                     |  8 +++++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/ZKRMStateStore.java                        |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/conf/ZKConfigurationStore.java   |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/TestZKRMStateStore.java                    | 29 ++++++++++++++++++-----------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/TestZKRMStateStoreZKClientConnections.java | 22 ++++++++++------------
 7 files changed, 53 insertions(+), 30 deletions(-)

commit 2b2f672022547e8c19658213ac5a4090bf5b6c72
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Mon Jun 11 19:25:56 2018 -0700

    YARN-8370. Some Node Manager tests fail on Windows due to improper path/file separator. Contributed by Anbang Hu.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/TestLocalDirsHandlerService.java                              | 4 ++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/logaggregation/TestAppLogAggregatorImpl.java | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 23bfd9f7e4ef672613ec59c83d4b47b051949cd1
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Mon Jun 11 16:02:32 2018 -0700

    HDDS-72. Add deleteTransactionId field in ContainerInfo. Contributed by Lokesh Jain.

 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/container/common/helpers/ContainerInfo.java                                          |  27 ++++++++++++++++++++++++---
 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/OzoneConsts.java                                                                        |   2 ++
 hadoop-hdds/common/src/main/java/org/apache/hadoop/utils/MetadataKeyFilters.java                                                                 | 118 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-----------------------
 hadoop-hdds/common/src/main/proto/hdds.proto                                                                                                     |   1 +
 hadoop-hdds/common/src/test/java/org/apache/hadoop/ozone/TestMetadataStore.java                                                                  |  61 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/helpers/ContainerData.java                                  |  21 +++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/helpers/ContainerReport.java                                |  12 ++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerManagerImpl.java                              |  15 ++++++++++++---
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/background/BlockDeletingService.java           |  16 +++++++++++-----
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/DeleteBlocksCommandHandler.java |   3 +++
 hadoop-hdds/container-service/src/main/proto/StorageContainerDatanodeProtocol.proto                                                              |   1 +
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/BlockManagerImpl.java                                                      |   9 +++------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/DeletedBlockLog.java                                                       |   3 ++-
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/DeletedBlockLogImpl.java                                                   |   8 +++++++-
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerMapping.java                                                  |  35 +++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerStateManager.java                                             |  12 ++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/Mapping.java                                                           |  11 +++++++++++
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/block/TestBlockManager.java                                                      |  16 ++++++++++++++++
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/TestContainerMapping.java                                              |   6 ++++--
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/closer/TestContainerCloser.java                                        |   3 ++-
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/TestStorageContainerManagerHelper.java                                       |   6 ++++--
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/TestBlockDeletingService.java                               |  29 ++++++++++++++++++++++++-----
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/ksm/TestKeySpaceManager.java                                                 |   3 ++-
 hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/ksm/KSMMetadataManagerImpl.java                                                 |   9 +++++----
 hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/genesis/BenchMarkContainerStateMap.java                                                 |  44 ++++++++++++++++++++++++++++++++------------
 25 files changed, 401 insertions(+), 70 deletions(-)

commit 7c3dc39083ef6608f8a8fe7699195d4d369ec5e4
Author: Yongjun Zhang <yzhang@cloudera.com>
Date:   Sun Jun 10 23:07:24 2018 -0700

    Update CHANGES, RELEASENOTES, and jdiff for 3.0.3 release.
    (cherry picked from commit 5a82f10e3254bc0745c2dda6bcef888d3ff0d1c3)

 hadoop-common-project/hadoop-common/src/site/markdown/release/3.0.3/CHANGES.3.0.3.md      | 309 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-common-project/hadoop-common/src/site/markdown/release/3.0.3/RELEASENOTES.3.0.3.md |  31 +++++++++++++++++++++++++++++++
 hadoop-hdfs-project/hadoop-hdfs/dev-support/jdiff/Apache_Hadoop_HDFS_3.0.3.xml            | 322 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-project-dist/pom.xml                                                               |   2 +-
 4 files changed, 663 insertions(+), 1 deletion(-)

commit 7e228e54c56598e263d66e3ef74476e12a3b1f30
Author: Bharat Viswanadham <bharat@apache.org>
Date:   Mon Jun 11 13:14:03 2018 -0700

    HDDS-136:Rename dbPath,containerFilePath. Contributed by Bharat Viswanadham

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/KeyValueContainerData.java | 34 +++++++++++++++++-----------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/KeyValueYaml.java          |  9 +++++----
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/TestKeyValueContainerData.java  |  8 ++++----
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/impl/TestKeyValueYaml.java      | 16 ++++++++--------
 hadoop-hdds/container-service/src/test/resources/additionalfields.container                                          |  7 ++++---
 hadoop-hdds/container-service/src/test/resources/incorrect.container                                                 |  7 +++----
 6 files changed, 41 insertions(+), 40 deletions(-)

commit 0e437f9b174f3b1eaf41b63ae707dd76379b8e8b
Author: Hanisha Koneru <hanishakoneru@apache.org>
Date:   Mon Jun 11 12:15:39 2018 -0700

    Revert "Create Version File in Datanode. Contributed by Bharat Viswanadham."
    
    This reverts commit f26d3466d79125123cba00ab81481655d7bfe3c1.

 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/OzoneConsts.java                                                      |   2 --
 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/Storage.java                                                   |   6 ++----
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/DataNodeLayoutVersion.java                |  80 --------------------------------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/helpers/DatanodeVersionFile.java          | 172 ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/states/datanode/RunningDatanodeState.java |   3 +--
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/states/endpoint/VersionEndpointTask.java  |  71 +++++------------------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/OzoneContainer.java                    |   8 +-------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/protocol/VersionResponse.java                              |   4 ----
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/ScmTestMock.java                          |  24 ------------------------
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/TestDatanodeLayOutVersion.java            |  38 --------------------------------------
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/TestDatanodeStateMachine.java             |   3 +--
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/helpers/TestDatanodeVersionFile.java      | 120 ------------------------------------------------------------------------------------------------------------------------
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java                                       |   2 --
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/ozone/container/common/TestEndPoint.java                                | 169 ++++---------------------------------------------------------------------------------------------------------------------------------------------------------------------
 14 files changed, 14 insertions(+), 688 deletions(-)

commit 2e5cfe6df338c70965cfb0212a93617de3a6bd79
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Mon Jun 11 11:16:52 2018 -0700

    HDFS-13653. Make dfs.client.failover.random.order a per nameservice configuration. Contributed by Ekanth Sethuramalingam.

 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/server/namenode/ha/ConfiguredFailoverProxyProvider.java     |  29 ++++++++++++++++++++++++++---
 hadoop-hdfs-project/hadoop-hdfs-client/src/test/java/org/apache/hadoop/hdfs/server/namenode/ha/TestConfiguredFailoverProxyProvider.java | 264 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdfs-project/hadoop-hdfs/src/main/resources/hdfs-default.xml                                                                     |  12 ++++++++++++
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/tools/TestHdfsConfigFields.java                                         |   1 +
 4 files changed, 303 insertions(+), 3 deletions(-)

commit 180b3c960bb693a68431c677d8c8b18821fb4361
Author: Haibo Chen <haibochen@apache.org>
Date:   Mon Jun 11 11:18:44 2018 -0700

    YARN-8321. AllocationFileLoaderService.getAllocationFile() should be declared as VisibleForTest. (Szilard Nemeth via Haibo Chen)

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/AllocationFileLoaderService.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 676dcffff575fdf1c4b49aeae4e000bd60ca0a83
Author: Haibo Chen <haibochen@apache.org>
Date:   Mon Jun 11 11:16:21 2018 -0700

    YARN-8322. Change log level when there is an IOException when the allocation file is loaded. (Szilard Nemeth via Haibo Chen)

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/AllocationFileLoaderService.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit c190ac2be88e574b3322cdc73a7c0af0cef708b2
Author: Haibo Chen <haibochen@apache.org>
Date:   Mon Jun 11 11:12:44 2018 -0700

    YARN-8323. FairScheduler.allocConf should be declared as volatile. (Szilard Nemeth via Haibo Chen)

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/FairScheduler.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 143dd560bf506fafd849aeb47a42becc6c13330d
Author: Bharat Viswanadham <bharat@apache.org>
Date:   Mon Jun 11 09:04:54 2018 -0700

    HDDS-133:Change format of .container files to Yaml. Contributed by Bharat Viswanadham

 hadoop-hdds/container-service/pom.xml                                                                                |   6 ++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ChunkLayOutVersion.java    |  18 ++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerData.java         |  28 ++++++++++++++++++++++++----
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/KeyValueContainerData.java |  19 +++++++++++++++----
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/KeyValueYaml.java          | 274 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/TestKeyValueContainerData.java  |  15 +++++----------
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/impl/TestKeyValueYaml.java      | 158 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/test/resources/additionalfields.container                                          |   9 +++++++++
 hadoop-hdds/container-service/src/test/resources/incorrect.container                                                 |  10 ++++++++++
 hadoop-hdds/pom.xml                                                                                                  |   2 ++
 10 files changed, 521 insertions(+), 18 deletions(-)

commit 18201b882a38ad875358c5d23c09b0ef903c2f91
Author: Sammi Chen <sammi.chen@intel.com>
Date:   Mon Jun 11 13:53:37 2018 +0800

    HADOOP-15499. Performance severe drops when running RawErasureCoderBenchmark with NativeRSRawErasureCoder. Contributed by Sammi Chen.

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/erasurecode/rawcoder/AbstractNativeRawDecoder.java | 51 +++++++++++++++++++++++++++++++--------------------
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/erasurecode/rawcoder/AbstractNativeRawEncoder.java | 49 ++++++++++++++++++++++++++++++-------------------
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/erasurecode/rawcoder/NativeRSRawDecoder.java       | 19 +++++++++++++++----
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/erasurecode/rawcoder/NativeRSRawEncoder.java       | 19 +++++++++++++++----
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/erasurecode/rawcoder/NativeXORRawDecoder.java      | 19 +++++++++++++++----
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/erasurecode/rawcoder/NativeXORRawEncoder.java      | 19 +++++++++++++++----
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/io/erasurecode/rawcoder/RawErasureCoderBenchmark.java |  6 ++++++
 7 files changed, 127 insertions(+), 55 deletions(-)

commit ccfb816d39878abf4172933327d788c59b9eb082
Author: Bharat Viswanadham <bharat@apache.org>
Date:   Sat Jun 9 16:39:09 2018 -0700

    HDFS-13667:Typo: Marking all datandoes as stale. Contributed by Nanda Kumar

 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/DatanodeManager.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ef0118b91e384b9a6d96c2ae64480d9acf5aa6fb
Author: Steve Loughran <stevel@apache.org>
Date:   Sat Jun 9 15:33:30 2018 +0100

    HADOOP-15520. Add tests for various org.apache.hadoop.util classes.
    Contributed by Arash Nabili

 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/util/TestCloseableReferenceCount.java |  91 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/util/TestIntrusiveCollection.java     | 193 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/util/TestLimitInputStream.java        |  74 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/util/TestShell.java                   |   8 ++++++++
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/util/TestStringUtils.java             |  27 +++++++++++++++++++++++++++
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/util/TestUTF8ByteArrayUtils.java      |  57 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 6 files changed, 450 insertions(+)

commit 000a67839666bf7cb39d3955757bb05fa95f1b18
Author: Arpit Agarwal <arp@apache.org>
Date:   Fri Jun 8 17:57:12 2018 -0700

    HDFS-12670. can't renew HDFS tokens with only the hdfs client jar. Contributed by Arpit Agarwal.

 hadoop-hdfs-project/{hadoop-hdfs => hadoop-hdfs-client}/src/main/resources/META-INF/services/org.apache.hadoop.security.token.TokenIdentifier | 0
 hadoop-hdfs-project/{hadoop-hdfs => hadoop-hdfs-client}/src/main/resources/META-INF/services/org.apache.hadoop.security.token.TokenRenewer    | 0
 2 files changed, 0 insertions(+), 0 deletions(-)

commit fba1c42adc1c8ae57951e1865ec2ab05c8707bdf
Author: Chao Sun <sunchao@apache.org>
Date:   Fri Jun 8 16:36:42 2018 -0700

    HDFS-13664. Refactor ConfiguredFailoverProxyProvider to make inheritance easier. Contributed by Chao Sun.

 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/server/namenode/ha/ConfiguredFailoverProxyProvider.java | 10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit cf4108313da83e28d07676078a33016ec8856ff6
Author: Xiao Chen <xiao@apache.org>
Date:   Fri Jun 8 15:13:38 2018 -0700

    HDFS-13642. Creating a file with block size smaller than EC policy's cell size should fail.

 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirErasureCodingOp.java |  23 ++++++++++++++++++-----
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirWriteFileOp.java     |  10 ++--------
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java         |  21 ++++++++++++++++-----
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/DFSTestUtil.java                          |   5 +++--
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestDFSStripedOutputStream.java           |  16 ++++++++++++++++
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestErasureCodingExerciseAPIs.java        |   2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestErasureCodingPolicies.java            |   2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/test/resources/editsStored                                                 | Bin 7909 -> 7909 bytes
 hadoop-hdfs-project/hadoop-hdfs/src/test/resources/editsStored.xml                                             |   2 +-
 9 files changed, 58 insertions(+), 23 deletions(-)

commit a1272448bfa2f1a159d948b8635558e053b7be78
Author: Anu Engineer <aengineer@apache.org>
Date:   Fri Jun 8 10:27:01 2018 -0700

    HDDS-157. Upgrade common-langs version to 3.7 in HDDS and Ozone.
    Contributed by Takanobu Asanuma.

 hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/XceiverClientHandler.java                                          | 2 +-
 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/client/BlockID.java                                                    | 2 +-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/states/endpoint/RegisterEndpointTask.java | 2 +-
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/client/rest/response/KeyInfo.java                                    | 4 ++--
 hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/web/response/KeyInfo.java                                            | 4 ++--
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/TestStorageContainerManagerHelper.java                     | 2 +-
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/client/rpc/TestOzoneRpcClient.java                         | 2 +-
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/ksm/TestContainerReportWithKeys.java                       | 2 +-
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/ksm/TestKeySpaceManager.java                               | 2 +-
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/ksm/TestKsmBlockVersioning.java                            | 2 +-
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/ksm/TestMultipleContainerReadWrite.java                    | 2 +-
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/ozShell/TestOzoneShell.java                                | 2 +-
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/scm/TestAllocateContainer.java                             | 2 +-
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/scm/TestXceiverClientManager.java                          | 2 +-
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/web/TestOzoneRestWithMiniCluster.java                      | 2 +-
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/web/client/TestKeys.java                                   | 8 ++++----
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/web/client/TestKeysRatis.java                              | 2 +-
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/web/client/TestVolume.java                                 | 2 +-
 hadoop-ozone/ozone-manager/src/test/java/org/apache/hadoop/ozone/ksm/TestChunkStreams.java                                     | 2 +-
 hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/Freon.java                                                      | 6 +++---
 hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/genesis/BenchMarkDatanodeDispatcher.java                              | 2 +-
 hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/genesis/BenchMarkMetadataStoreReads.java                              | 2 +-
 hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/genesis/BenchMarkMetadataStoreWrites.java                             | 2 +-
 hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/genesis/BenchMarkRocksDbStore.java                                    | 2 +-
 hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/genesis/GenesisUtil.java                                              | 2 +-
 25 files changed, 32 insertions(+), 32 deletions(-)

commit c42dcc7c47340d517563890269c6c112996e8897
Author: Jitendra Pandey <jitendra@apache.org>
Date:   Thu Jun 7 23:00:26 2018 -0700

    HADOOP-15482. Upgrade jackson-databind to version 2.9.5. Contributed by Lokesh Jain.

 hadoop-project/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3b88fe25baf130cd7a77590f9ded5b0bf028ef75
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Thu Jun 7 17:09:31 2018 -0700

    YARN-8359. Exclude containermanager.linux test classes on Windows. Contributed by Jason Lowe.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/pom.xml | 21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit 351cf87c92872d90f62c476f85ae4d02e485769c
Author: Robert Kanter <rkanter@apache.org>
Date:   Thu Jun 7 17:09:34 2018 -0700

    Disable mounting cgroups by default (miklos.szegedi@cloudera.com via rkanter)

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/native/container-executor/impl/container-executor.c | 54 ++++++++++++++++++++++++++++++++++++++----------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/native/container-executor/impl/container-executor.h |  4 ++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/native/container-executor/impl/main.c               | 19 ++++++++++++-------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/NodeManagerCgroups.md                                                       |  2 +-
 4 files changed, 55 insertions(+), 24 deletions(-)

commit d5eca1a6a0e3939eead6711805b7a61c364d254b
Author: Miklos Szegedi <miklos.szegedi@cloudera.com>
Date:   Thu Jun 7 14:58:56 2018 -0700

    YARN-6677. Preempt opportunistic containers when root container cgroup goes over memory limit. Contributed by Haibo Chen.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/container/Container.java                   |   8 ++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/container/ContainerImpl.java               |   5 +++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/resources/DefaultOOMHandler.java     | 249 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++--------------------------------------------------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/resources/TestDefaultOOMHandler.java | 922 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++------------------------------------------------------------------------------------------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/webapp/MockContainer.java                                   |   5 +++++
 5 files changed, 989 insertions(+), 200 deletions(-)

commit 67fc70e09f941e9b43b022d9f42a9486ad759e6e
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Thu Jun 7 16:10:15 2018 -0700

    YARN-8400. Fix typos in YARN Federation documentation page. Contributed by Giovanni Matteo Fumarola.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/Federation.md | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 78761e87a7f3012ef2d96e294d55b323b76b7c42
Author: Anu Engineer <aengineer@apache.org>
Date:   Thu Jun 7 14:35:22 2018 -0700

    HDDS-127. Add CloseContainerEventHandler in SCM.
    Contributed by Shashikant Banerjee.

 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/CloseContainerEventHandler.java     |  83 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerMapping.java               |   5 +++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerStateManager.java          |   9 +++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/Mapping.java                        |   6 ++++++
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/TestCloseContainerEventHandler.java | 177 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 5 files changed, 280 insertions(+)

commit ba303b1f890ccd4deb806cb030e26a77e316ebe4
Author: Arpit Agarwal <arp@apache.org>
Date:   Thu Jun 7 14:10:52 2018 -0700

    HDDS-147. Update Ozone site docs. Contributed by Arpit Agarwal.

 hadoop-ozone/docs/content/CommandShell.md   | 141 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++--------------------------------------------------------------------
 hadoop-ozone/docs/content/GettingStarted.md | 353 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 2 files changed, 254 insertions(+), 240 deletions(-)

commit 12be8bad7debd67c9ea72b979a39c8cf42c5f37d
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Thu Jun 7 13:34:52 2018 -0700

    HADOOP-15516. Add test cases to cover FileUtil#readLink. Contributed by Giovanni Matteo Fumarola.

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileUtil.java     |  6 ++++++
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestFileUtil.java | 52 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 58 insertions(+)

commit 7969cc4667343e5d3d738de66483e63af1955bbc
Author: James Clampffer <jhc@apache.org>
Date:   Thu Jun 7 16:02:57 2018 -0400

    HDFS-13615. libhdfs++ SaslProtocol hanging while accessing invalid lock.  Contributed by Mitchell Tracy

 hadoop-hdfs-project/hadoop-hdfs-native-client/src/main/native/libhdfspp/lib/rpc/sasl_protocol.cc | 15 ++++++++++-----
 1 file changed, 10 insertions(+), 5 deletions(-)

commit c4bbcd5634d9e32183ae20adbeafca258568bedd
Author: Bharat Viswanadham <bharat@apache.org>
Date:   Thu Jun 7 12:47:58 2018 -0700

    HDDS-119:Skip Apache license header check for some ozone doc scripts. Contributed by  Ajay Kumar

 hadoop-build-tools/src/main/resources/checkstyle/suppressions.xml |  1 +
 hadoop-ozone/pom.xml                                              | 10 ++++++++++
 2 files changed, 11 insertions(+)

commit b79ae5d93d71f14a052ce4e54d0215a74a4b4266
Author: James Clampffer <jhc@apache.org>
Date:   Thu Jun 7 14:16:17 2018 -0400

    HDFS-13534. libhdfs++: Fix GCC7 build.  Contributed by James Clampffer.

 hadoop-hdfs-project/hadoop-hdfs-native-client/src/main/native/libhdfspp/include/hdfspp/ioservice.h        | 1 +
 hadoop-hdfs-project/hadoop-hdfs-native-client/src/main/native/libhdfspp/lib/reader/datatransfer.h         | 2 +-
 hadoop-hdfs-project/hadoop-hdfs-native-client/src/main/native/libhdfspp/tests/mock_connection.h           | 2 +-
 hadoop-hdfs-project/hadoop-hdfs-native-client/src/main/native/libhdfspp/tests/remote_block_reader_test.cc | 2 +-
 4 files changed, 4 insertions(+), 3 deletions(-)

commit 377ea1bcdfd523f9353647388881b82699f2df12
Author: Rohith Sharma K S <rohithsharmaks@apache.org>
Date:   Thu Jun 7 21:31:15 2018 +0530

    YARN-8386. App log can not be viewed from Logs tab in secure cluster. Contributed by Sunil Govindan.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/adapters/yarn-app-log.js             | 68 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/adapters/yarn-log.js                 |  6 ------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/controllers/yarn-app/logs.js         | 17 ++++++++++-------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/models/yarn-app-log.js               | 25 +++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/serializers/yarn-app-log.js          | 38 ++++++++++++++++++++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/utils/converter.js                   | 10 ++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/tests/unit/adapters/yarn-app-log-test.js | 30 ++++++++++++++++++++++++++++++
 7 files changed, 181 insertions(+), 13 deletions(-)

commit e39b113db0f2e4bcf93f873801be770e472601da
Author: Wei-Chiu Chuang <weichiu@apache.org>
Date:   Thu Jun 7 08:30:06 2018 -0700

    HDFS-13659. Add more test coverage for contentSummary for snapshottable path. Contributed by Wei-Chiu Chuang.

 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/snapshot/TestGetContentSummaryWithSnapshot.java | 26 ++++++++++++++++++++++++++
 1 file changed, 26 insertions(+)

commit f494f0b8968a61bf3aa32b7ca0851b8c744aa70f
Author: Steve Loughran <stevel@apache.org>
Date:   Thu Jun 7 15:55:49 2018 +0100

    HADOOP-15512. Clean up Shell from JDK7 workarounds.
    Contributed by Zsolt Venczel.

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/Shell.java | 18 ++----------------
 1 file changed, 2 insertions(+), 16 deletions(-)

commit 58bc34f1e347034af566d6968eb3b3439a91cc74
Author: Rohith Sharma K S <rohithsharmaks@apache.org>
Date:   Thu Jun 7 10:25:47 2018 +0530

    YARN-8399. NodeManager is giving 403 GSS exception post upgrade to 3.1 in secure mode. Contributed by Sunil Govindan.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/AuxServices.java     |  6 +++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/TestAuxServices.java | 48 ++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 51 insertions(+), 3 deletions(-)

commit 9654dd1f472052c4bb4a48a7412149c2e4859a10
Author: Brahma Reddy Battula <brahma@apache.org>
Date:   Thu Jun 7 10:16:02 2018 +0530

    HDFS-12950. [oiv] ls will fail in secure cluster. Contributed by Wei-Chiu Chuang.

 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/offlineImageViewer/OfflineImageViewerPB.java   |  3 ++-
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/offlineImageViewer/WebImageViewer.java         | 17 +++++++++++++++++
 hadoop-hdfs-project/hadoop-hdfs/src/site/markdown/HdfsImageViewer.md                                                      |  3 ++-
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/tools/offlineImageViewer/TestOfflineImageViewer.java | 20 ++++++++++++++++++++
 4 files changed, 41 insertions(+), 2 deletions(-)

commit 772c95395b59dc9db61fa8f3721a6c81f97a1f4d
Author: Hanisha Koneru <hanishakoneru@apache.org>
Date:   Wed Jun 6 15:36:36 2018 -0700

    HDDS-140. Add DU usage to VolumeInfo.

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/RoundRobinVolumeChoosingPolicy.java |   2 +-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/VolumeInfo.java                     |  59 ++++++++++++++++++++++++++++++++++++++++++++++++-----------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/VolumeSet.java                      | 109 +++++++++++++++++++++++++++++++++++++++++++++++++++++++------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/VolumeUsage.java                    | 189 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/interfaces/TestVolumeSet.java            |  33 ++++++++++++++++++++++-----------
 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/fsdataset/VolumeChoosingPolicy.java      |   2 +-
 6 files changed, 316 insertions(+), 78 deletions(-)

commit 977c8cd1665b42ba45e9d21655262ef78714b716
Author: Bharat Viswanadham <bharat@apache.org>
Date:   Wed Jun 6 13:59:20 2018 -0700

    HDDS-123:ContainerSet class to manage ContainerMap. Contributed by Bharat Viswanadham

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerData.java     |  38 ++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerSet.java      | 239 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/KeyValueContainer.java |   8 ++++++--
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/impl/TestContainerSet.java  | 169 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 452 insertions(+), 2 deletions(-)

commit db81f85e844b53595f40e5699776a336faad2f84
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Wed Jun 6 11:44:17 2018 -0700

    HADOOP-15513. Add additional test cases to cover some corner cases for FileUtil#symlink. Contributed by Giovanni Matteo Fumarola.

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileUtil.java     |   7 +++++++
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestFileUtil.java | 154 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 161 insertions(+)

commit d901be679554eb6b323f3bc6e8de267d85dd2e06
Author: Steve Loughran <stevel@apache.org>
Date:   Wed Jun 6 18:28:14 2018 +0100

    HADOOP-15506. Upgrade Azure Storage Sdk version to 7.0.0 and update corresponding code blocks.
    Contributed by Esfandiar Manii.

 hadoop-project/pom.xml                                                                              | 2 +-
 hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azure/NativeAzureFileSystemHelper.java | 4 +++-
 hadoop-tools/hadoop-azure/src/test/java/org/apache/hadoop/fs/azure/ITestContainerChecks.java        | 9 ++++++---
 3 files changed, 10 insertions(+), 5 deletions(-)

commit 30f0582f2b8bdf2e9368e84078f5a7aba033f9ff
Author: Anu Engineer <aengineer@apache.org>
Date:   Wed Jun 6 08:39:18 2018 -0700

    HDDS-107. TestOzoneConfigurationFields is failing.
    Contributed by LiXin Ge & Mukul Kumar Singh.

 hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/conf/HddsConfServlet.java                     | 5 ++++-
 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/OzoneConfigKeys.java                         | 2 ++
 hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/TestOzoneConfigurationFields.java | 1 +
 3 files changed, 7 insertions(+), 1 deletion(-)

commit d1992ab9b01d6b2881abb2faae3dcab95d6fd996
Author: Sunil G <sunilg@apache.org>
Date:   Wed Jun 6 13:34:55 2018 +0530

    HADOOP-15514. NoClassDefFoundError for TimelineCollectorManager when starting MiniYARNCluster. Contributed by Rohith Sharma K S.

 hadoop-client-modules/hadoop-client-minicluster/pom.xml | 13 -------------
 1 file changed, 13 deletions(-)

commit 774c1f199e11d886d0c0a1069325f0284da35deb
Author: Xiao Chen <xiao@apache.org>
Date:   Tue Jun 5 21:24:25 2018 -0700

    HDFS-13511. Provide specialized exception when block length cannot be obtained. Contributed by Gabor Bota.

 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/CannotObtainBlockLengthException.java | 55 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/DFSInputStream.java                   |  2 +-
 2 files changed, 56 insertions(+), 1 deletion(-)

commit ba4011d64fadef3bee5920ccedbcdac01794cc23
Author: Xiao Chen <xiao@apache.org>
Date:   Tue Jun 5 21:17:42 2018 -0700

    HADOOP-15217. FsUrlConnection does not handle paths with spaces. Contributed by Joseph Fourny and Zsolt Venczel.

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FsUrlConnection.java                |  2 +-
 hadoop-hdfs-project/hadoop-hdfs-client/src/test/java/org/apache/hadoop/fs/TestUrlStreamHandlerFactory.java | 36 ++++++++++++++++++++++++++++--------
 2 files changed, 29 insertions(+), 9 deletions(-)

commit 0afc036deb35df7e86ede3dcebc430c8f05ed368
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Tue Jun 5 12:24:57 2018 -0700

    MAPREDUCE-7103. Fix TestHistoryViewerPrinter on windows due to a mismatch line separator. Contributed by Giovanni Matteo Fumarola.

 hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapreduce/jobhistory/TestHistoryViewerPrinter.java | 378 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++---------------------------------------------------------------------------------------------------------------------------
 1 file changed, 255 insertions(+), 123 deletions(-)

commit 1b0d4f4606adc78a5e43a924634d3d8506db26fa
Author: Chen Liang <cliang@apache.org>
Date:   Tue Jun 5 11:51:29 2018 -0700

    HDFS-13547. Add ingress port based sasl resolver. Contributed by Chen Liang.

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/IngressPortBasedResolver.java     | 100 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/SaslPropertiesResolver.java       |  47 ++++++++++++++++++++++++++++++++++++++++++++++-
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/WhitelistBasedResolver.java       |  20 ++------------------
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestIngressPortBasedResolver.java |  59 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 207 insertions(+), 19 deletions(-)

commit baebe4d52bc0e1ee3be062b61efa1de1d19a3bca
Author: Anu Engineer <aengineer@apache.org>
Date:   Tue Jun 5 10:31:42 2018 -0700

    HDDS-129. Support for ReportManager in Datanode.
    Contributed by Nanda Kumar.

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/report/ContainerReportPublisher.java       |  70 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/report/NodeReportPublisher.java            |  40 ++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/report/ReportManager.java                  | 147 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/report/ReportPublisher.java                |  96 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/report/ReportPublisherFactory.java         |  71 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/report/package-info.java                   |  80 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/DatanodeStateMachine.java     |  18 ++++++++++++++++--
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/StateContext.java             |  59 +++++++++++++++++++++++++++++++++++++++++++++++------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/states/endpoint/HeartbeatEndpointTask.java |  24 +++++++++++++++++++-----
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/report/TestReportManager.java              |  52 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/report/TestReportPublisher.java            | 106 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/report/TestReportPublisherFactory.java     |  68 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/report/package-info.java                   |  22 ++++++++++++++++++++++
 13 files changed, 834 insertions(+), 19 deletions(-)

commit 920d154997f0ad6000d8f76029d6d415e7b8980c
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Tue Jun 5 08:34:44 2018 -0700

    HDDS-148. Remove ContainerReportManager and ContainerReportManagerImpl. Contributed by Nanda kumar.

 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerManagerImpl.java         |  8 --------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerReportManagerImpl.java   | 67 -------------------------------------------------------------------
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/interfaces/ContainerReportManager.java | 30 ------------------------------
 3 files changed, 105 deletions(-)

commit 745f3a244166c1e6a1aee81eb1d6c2c692053d04
Author: Rohith Sharma K S <rohithsharmaks@apache.org>
Date:   Tue Jun 5 19:28:24 2018 +0530

    YARN-8396. Click on an individual container continuously spins and doesn't load the page. Contributed by Sunil Govindan.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/routes/yarn-node-container.js    | 2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/templates/yarn-container-log.hbs | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 0e3c31579d1c733decfb9b00721bdc7b86be60f2
Author: Akira Ajisaka <aajisaka@apache.org>
Date:   Tue Jun 5 17:53:24 2018 +0900

    HDFS-13545. "guarded" is misspelled as "gaurded" in FSPermissionChecker.java. Contributed by Jianchao Jia.

 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6d5e87aec2f615ed265dc495873bf53ee7d2ace2
Author: Xiao Chen <xiao@apache.org>
Date:   Mon Jun 4 21:13:17 2018 -0700

    HADOOP-15507. Add MapReduce counters about EC bytes read.

 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileSystem.java                                                                    | 34 ++++++++++++++++++++++++++++++++++
 hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileSystemStorageStatistics.java                                                   |  5 ++++-
 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestFileSystemStorageStatistics.java                                               |  6 +++++-
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/DFSClient.java                                                                |  6 ++++++
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/DFSInputStream.java                                                           |  4 ++++
 hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/ReaderStrategy.java                                                           |  8 ++++++++
 hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapred/Task.java                            | 14 +++++++++++++-
 hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/FileSystemCounter.java            |  1 +
 hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/resources/org/apache/hadoop/mapreduce/FileSystemCounter.properties |  1 +
 9 files changed, 76 insertions(+), 3 deletions(-)

commit 8d31ddcfeb5c2e97692dd386e5bd62f433b44f8e
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Mon Jun 4 18:28:11 2018 -0700

    HDFS-13650. Randomize baseDir for MiniDFSCluster in TestDFSStripedInputStream and TestDFSStripedInputStreamWithRandomECPolicy. Contributed by Anbang Hu.

 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestDFSStripedInputStream.java | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 16316b60112842cf8a328b79c89297f6a8b30e7b
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Mon Jun 4 18:21:38 2018 -0700

    HDFS-13649. Randomize baseDir for MiniDFSCluster in TestReconstructStripedFile and TestReconstructStripedFileWithRandomECPolicy. Contributed by Anbang Hu.

 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestReconstructStripedFile.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit a28848104f2a067669f9b1706cd0da05ba71bcb7
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Mon Jun 4 18:12:43 2018 -0700

    HDFS-13652. Randomize baseDir for MiniDFSCluster in TestBlockScanner. Contributed by Anbang Hu.

 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/datanode/TestBlockScanner.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit f30f2dc4085c51b6b6850430213f47b97a763b7f
Author: Bharat Viswanadham <bharat@apache.org>
Date:   Mon Jun 4 15:42:47 2018 -0700

    HADOOP-15137. ClassNotFoundException: org.apache.hadoop.yarn.server.api.DistributedSchedulingAMProtocol when using hadoop-client-minicluster. Contributed by Bharat Viswanadham

 hadoop-client-modules/hadoop-client-minicluster/pom.xml | 141 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++----
 1 file changed, 137 insertions(+), 4 deletions(-)

commit 5cf37418bdc6ff09c0c1ae3ac8ac4b0867de0de4
Author: Eric Yang <eyang@apache.org>
Date:   Mon Jun 4 19:01:17 2018 -0400

    YARN-8365.  Set DNS query type according to client request.
                Contributed by Shane Kumpf

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-registry/src/main/java/org/apache/hadoop/registry/server/dns/RegistryDNS.java     | 9 +++++----
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-registry/src/test/java/org/apache/hadoop/registry/server/dns/TestRegistryDNS.java | 9 ++-------
 2 files changed, 7 insertions(+), 11 deletions(-)

commit 0cd145a44390bc1a01113dce4be4e629637c3e8a
Author: Robert Kanter <rkanter@apache.org>
Date:   Mon Jun 4 15:32:03 2018 -0700

    YARN-4677. RMNodeResourceUpdateEvent update from scheduler can lead to race condition (wilfreds and gphillips via rkanter)

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/AbstractYarnScheduler.java          | 19 ++++++++++++-------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/FairScheduler.java             |  2 +-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fifo/FifoScheduler.java             |  6 ++++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/TestCapacityScheduler.java | 44 ++++++++++++++++++++++++++++++++------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/TestFairScheduler.java         | 43 +++++++++++++++++++++++++++++++++----------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fifo/TestFifoScheduler.java         | 44 +++++++++++++++++++++++++++++++++-----------
 6 files changed, 115 insertions(+), 43 deletions(-)

commit f26d3466d79125123cba00ab81481655d7bfe3c1
Author: Bharat Viswanadham <bharat@apache.org>
Date:   Mon Jun 4 15:28:19 2018 -0700

    Create Version File in Datanode. Contributed by Bharat Viswanadham.

 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/OzoneConsts.java                                                      |   2 ++
 hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/Storage.java                                                   |   6 ++++--
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/DataNodeLayoutVersion.java                |  80 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/helpers/DatanodeVersionFile.java          | 172 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/states/datanode/RunningDatanodeState.java |   3 ++-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/states/endpoint/VersionEndpointTask.java  |  71 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-----
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/OzoneContainer.java                    |   8 +++++++-
 hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/protocol/VersionResponse.java                              |   4 ++++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/ScmTestMock.java                          |  24 ++++++++++++++++++++++++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/TestDatanodeLayOutVersion.java            |  38 ++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/TestDatanodeStateMachine.java             |   3 ++-
 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/helpers/TestDatanodeVersionFile.java      | 120 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java                                       |   2 ++
 hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/ozone/container/common/TestEndPoint.java                                | 169 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++----
 14 files changed, 688 insertions(+), 14 deletions(-)

commit 04cf699dd54aab3595eb80295652dcde9a2f4dd5
Author: Haibo Chen <haibochen@apache.org>
Date:   Mon Jun 4 11:13:40 2018 -0700

    YARN-8388. TestCGroupElasticMemoryController.testNormalExit() hangs on Linux. (Miklos Szegedi via Haibo Chen)

 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/test/PlatformAssumptions.java                                                                                                                 |  8 --------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/resources/TestCGroupElasticMemoryController.java | 19 +++++--------------
 2 files changed, 5 insertions(+), 22 deletions(-)

commit dad1bb868f7a28a486fd500f102c8c174e6dd272
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Mon Jun 4 12:55:54 2018 -0700

    MAPREDUCE-7105. Fix TestNativeCollectorOnlyHandler.testOnCall on Windows because of the path format. Contributed by Giovanni Matteo Fumarola.

 hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-nativetask/src/test/java/org/apache/hadoop/mapred/nativetask/handlers/TestNativeCollectorOnlyHandler.java | 11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit e2c172dc9faeb5472a32d7052e54d79d499c0a55
Author: Miklos Szegedi <miklos.szegedi@cloudera.com>
Date:   Sun Jun 3 22:13:31 2018 -0700

    YARN-8382. cgroup file leak in NM. Contributed by Hu Ziqian.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/resources/CGroupsHandlerImpl.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit ea7b53fb44496c35d58346f2222610a30d7041f6
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Mon Jun 4 09:51:04 2018 -0700

    HDDS-145. Freon times out because of because of wrong ratis port number in datanode details. Contributed by Mukul Kumar Singh.

 hadoop-hdds/common/src/main/java/org/apache/ratis/RatisHelper.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 61fc7f73f21b0949e27ef3893efda757d91a03f9
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Mon Jun 4 09:28:09 2018 -0700

    YARN-8389. Improve the description of machine-list property in Federation docs. Contributed by Takanobu Asanuma.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/Federation.md | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit ba12f87dcb0e406da57cdd1ad17677ac2367f425
Author: Haibo Chen <haibochen@apache.org>
Date:   Mon Jun 4 09:14:53 2018 -0700

    YARN-8390. Fix API incompatible changes in FairScheduler's AllocationFileLoaderService. (Gergo Repas via Haibo Chen)

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/AllocationFileLoaderService.java     | 16 ++++++++++------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/FairScheduler.java                   |  4 ++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/TestAllocationFileLoaderService.java | 96 ++++++++++++++++++++++++++++++++++++++++++++++--------------------------------------------------
 3 files changed, 58 insertions(+), 58 deletions(-)

commit ab3885f2c8cfd63ff94e548c40db3b4ea52c12e8
Author: Xiaoyu Yao <xyao@apache.org>
Date:   Mon Jun 4 08:55:01 2018 -0700

    HDDS-126. Fix findbugs warning in MetadataKeyFilters.java. Contributed by Akira Ajisaka.

 hadoop-hdds/common/src/main/java/org/apache/hadoop/utils/MetadataKeyFilters.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit e2289c8d1496a5eff88e6bcb8776a11d45371ffc
Author: Rushabh Shah <shahrs87@apache.org>
Date:   Mon Jun 4 09:19:03 2018 -0500

    HDFS-13281 Namenode#createFile should be /.reserved/raw/ aware.. Contributed by Rushabh S Shah

 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java |  2 +-
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestEncryptionZones.java          | 29 +++++++++++++++++++++++++++++
 2 files changed, 30 insertions(+), 1 deletion(-)

commit bccdfeee0aaef9cb98d09ee39909b63fdcbeeafc
Author: Wei-Chiu Chuang <weichiu@apache.org>
Date:   Mon Jun 4 07:02:05 2018 -0700

    HDFS-13155. BlockPlacementPolicyDefault.chooseTargetInOrder Not Checking Return Value for NULL. Contributed by Zsolt Venczel.

 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/BlockPlacementPolicyDefault.java | 10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit 9efb4b7db00d79aded52997ec89a1be94ecdd268
Author: Xiao Chen <xiao@apache.org>
Date:   Sun Jun 3 22:29:52 2018 -0700

    HDFS-13339. Volume reference can't be released and may lead to deadlock when DataXceiver does a check volume. Contributed by liaoyuxiangqin and Zsolt Venczel.

 hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/checker/DatasetVolumeChecker.java     | 13 ++++++++++++-
 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/datanode/checker/TestDatasetVolumeChecker.java |  3 +++
 2 files changed, 15 insertions(+), 1 deletion(-)

commit 9c4cbed8d19ec0f486af454de6b117d77a0a0b84
Author: Sunil G <sunilg@apache.org>
Date:   Mon Jun 4 00:06:56 2018 +0530

    YARN-8276. [UI2] After version field became mandatory, form-based submission of new YARN service doesn't work. Contributed by Gergely Novák.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/components/deploy-service.js            |  3 ++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/models/yarn-servicedef.js               |  8 +++++++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/templates/components/deploy-service.hbs | 11 +++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-ui/src/main/webapp/app/utils/info-seeder.js                    |  1 +
 4 files changed, 21 insertions(+), 2 deletions(-)

commit a804b7c9d2986556c91c1741c1ae7ac2b9c579f3
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Sat Jun 2 20:25:42 2018 -0700

    MAPREDUCE-7102. Fix TestJavaSerialization for Windows due a mismatch line separator. Contributed by Giovanni Matteo Fumarola.

 hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient/src/test/java/org/apache/hadoop/mapred/TestJavaSerialization.java | 23 +++++++++++++----------
 1 file changed, 13 insertions(+), 10 deletions(-)

commit 8f83b9abf9a7462c50a1db18d4d99e80c535b09c
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Sat Jun 2 20:19:59 2018 -0700

    HDFS-13648. Fix TestGetConf#testGetJournalNodes on Windows due to a mismatch line separator. Contributed by Giovanni Matteo Fumarola.

 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/tools/TestGetConf.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit e308ac88d399e9bed3581ff4b1450aa2070dcedf
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Sat Jun 2 20:12:35 2018 -0700

    HDFS-13651. TestReencryptionHandler fails on Windows. Contributed by Anbang Hu.

 hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/namenode/TestReencryptionHandler.java | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 31998643a51f1e08f723f18dc5476ac1512d5b81
Author: Billie Rinaldi <billie@apache.org>
Date:   Sat Jun 2 14:46:32 2018 -0700

    YARN-8342. Enable untrusted docker image to run with launch command. Contributed by Eric Yang

 hadoop-yarn-project/hadoop-yarn/conf/yarn-env.sh                                                                                                                                                          |  1 +
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/provider/docker/DockerProviderService.java           | 24 +++++++++++++++++++++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/runtime/DockerLinuxContainerRuntime.java | 23 +++++++++++++++++++++--
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/native/container-executor/impl/utils/docker-util.c                                                             |  7 +------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/native/container-executor/test/utils/test_docker_util.cc                                                       | 48 ++++++++++++++++++++++++------------------------
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/DockerContainers.md                                                                                                                    | 33 ++++++++++++++++++++++++++++++---
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/yarn-service/Examples.md                                                                                                               | 37 ++++++++++++++++++++++++++++++++++++-
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/yarn-service/YarnServiceAPI.md                                                                                                         |  2 +-
 8 files changed, 135 insertions(+), 40 deletions(-)

commit 8261f9e5710038ccbc475dbfcea3b9ae79b6f482
Author: Rohith Sharma K S <rohithsharmaks@apache.org>
Date:   Sat Jun 2 09:29:06 2018 +0530

    More YARN pages need to honor yarn.resourcemanager.display.per-user-apps(addendum). Contributed by Sunil G.

 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice/src/main/java/org/apache/hadoop/yarn/server/timelineservice/reader/TimelineReaderManager.java     | 21 +++++++++++++++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice/src/main/java/org/apache/hadoop/yarn/server/timelineservice/reader/TimelineReaderWebServices.java | 18 ++++++++++++------
 2 files changed, 33 insertions(+), 6 deletions(-)

commit d5e69d89942fd5dcfafd56bf653565557ff85501
Author: Rohith Sharma K S <rohithsharmaks@apache.org>
Date:   Sat Jun 2 09:27:03 2018 +0530

    MapReduce JHS should honor yarn.webapp.filter-entity-list-by-user(addendum). Contributed by  Sunil Govindan.

 hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs/src/main/java/org/apache/hadoop/mapreduce/v2/hs/webapp/HsJobBlock.java     | 18 +-----------------
 hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs/src/main/java/org/apache/hadoop/mapreduce/v2/hs/webapp/HsJobsBlock.java    | 40 +++++++++++++++++++++++++++++++++++++++-
 hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs/src/test/java/org/apache/hadoop/mapreduce/v2/hs/webapp/TestBlocks.java     | 17 ++++++++++++++---
 hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs/src/test/java/org/apache/hadoop/mapreduce/v2/hs/webapp/TestHsJobBlock.java | 20 ++------------------
 4 files changed, 56 insertions(+), 39 deletions(-)

commit e11d67404945d80db2eb8a99453606419dbdc938
Author: Inigo Goiri <inigoiri@apache.org>
Date:   Fri Jun 1 16:59:04 2018 -0700

    HDFS-13637. RBF: Router fails when threadIndex (in ConnectionPool) wraps around Integer.MIN_VALUE. Contributed by CR Hota.

 hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/router/ConnectionPool.java        | 12 +++++++++++-
 hadoop-hdfs-project/hadoop-hdfs-rbf/src/test/java/org/apache/hadoop/hdfs/server/federation/router/TestConnectionManager.java | 13 +++++++++++++
 2 files changed, 24 insertions(+), 1 deletion(-)

commit 4880d890ee4716dafc5ff464c92a3c6d83b1db9b
Author: Haibo Chen <haibochen@apache.org>
Date:   Fri Jun 1 16:28:13 2018 -0700

    YARN-8375. TestCGroupElasticMemoryController fails surefire build. (Miklos Szegedi via Haibo Chen)

 hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/test/PlatformAssumptions.java                                                                                                                 |  8 ++++++++
 hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/resources/TestCGroupElasticMemoryController.java | 65 +++++++++++++++++++++++++++++++++++++----------------------------
 2 files changed, 45 insertions(+), 28 deletions(-)

commit 34710c66d61bb09ffcd5c4cb3b9c92506b272720
Author: Anu Engineer <aengineer@apache.org>
Date:   Fri Jun 1 15:07:25 2018 -0700

    HDDS-143. Provide docker compose files to measure performance in a pseudo cluster.
    Contributed by Elek, Marton.

 hadoop-dist/src/main/compose/ozoneperf/.env                      | 17 +++++++++++++++++
 hadoop-dist/src/main/compose/ozoneperf/README.md                 | 73 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-dist/src/main/compose/ozoneperf/compose-all.sh            | 18 ++++++++++++++++++
 hadoop-dist/src/main/compose/ozoneperf/docker-compose-freon.yaml | 26 ++++++++++++++++++++++++++
 hadoop-dist/src/main/compose/ozoneperf/docker-compose.yaml       | 77 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 hadoop-dist/src/main/compose/ozoneperf/docker-config             | 37 +++++++++++++++++++++++++++++++++++++
 hadoop-dist/src/main/compose/ozoneperf/init.sh                   | 21 +++++++++++++++++++++
 hadoop-dist/src/main/compose/ozoneperf/prometheus.yml            | 24 ++++++++++++++++++++++++
 8 files changed, 293 insertions(+)

commit 9e50dce46c22d78f28d3ea91dcdb6e9b3bcd6047
Author: Anu Engineer <aengineer@apache.org>
Date:   Fri Jun 1 14:42:03 2018 -0700

    HDDS-144. Fix TestEndPoint#testHeartbeat and TestEndPoint#testRegister.
    Contributed by Shashikant Banerjee.

 hadoop-hdds/container-service/src/test/java/org/apache/hadoop/ozone/container/common/ScmTestMock.java | 32 ++++++++++++++++++++++++++++++++
 1 file changed, 32 insertions(+)
